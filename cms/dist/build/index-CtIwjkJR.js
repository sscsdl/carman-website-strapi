const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ListView-BSutEMYb.js","strapi-D0ivxu6x.js","strapi-D6821bIJ.css","sortable.esm-Bj73V_60.js","index-3lrmPvxo.js","index-DJfLSYOx.js","index-BRVyLNfZ.js"])))=>i.map(i=>d[i]);
import{r as V,b as Qv,j as g,Z as De,T as Oe,N as eb,I as Fe,l as xt,n as ed,ds as AI,cG as Ba,d2 as TI,bD as td,g0 as nd,hg as Xa,d1 as II,o as br,C as rd,gZ as Qn,aP as wn,hh as jI,dj as ia,bY as RI,co as yn,z as vt,q as Fi,hi as $s,hj as tb,a as yt,gB as nb,d9 as OI,hk as MI,fS as zI,hl as rb,db as PI,dc as NI,dd as $I,d8 as FI,bW as Rl,aY as ra,U as vr,hm as DI,hn as LI,ho as BI,hp as UI,hq as ZI,hr as ab,hs as HI,ht as qI,hu as WI,hv as Fo,hw as ib,hx as Ri,hy as al,b9 as Ka,fv as il,cR as ob,by as ad,bG as Ol,fE as VI,a2 as sb,y as lb,cF as GI,hz as cb,hA as ub,cr as Mn,e8 as JI,aI as va,bM as id,cT as Ml,hB as pb,dK as db,hC as KI,hD as od,hE as ba,a5 as Fs,hF as YI,hG as sd,dT as XI,bk as QI,dU as ma,bo as zl,dA as ej,bH as fb,cL as ld,c as hb,bK as Ya,bL as Do,hH as mb,hI as tj,hJ as gb,hK as cd,hL as yb,hM as ud,hN as nj,hO as rj,hP as aj,hQ as vb,hR as ij,hS as pd,hT as bb,hU as xb,c9 as _b,hV as oj,hW as wb,hX as sj,hY as kb,hZ as lj,h_ as cj,h$ as uj,fC as Qt,i0 as pj,m as Pl,k as Cb,i1 as dj,aN as fj,i2 as hj,ak as Eo,a3 as mj,i3 as Xt,bN as gj,i4 as yj,i5 as vj,i6 as bj,H as at,gW as Sb,ao as xj,aq as Ds,ar as Im,i7 as _j,i8 as wj,as as kj,at as Cj,av as uo,au as gu,ap as jm,aw as Rm,ax as Sj,am as Ej,i9 as Om,an as Aj,ay as Tj,al as Ij,ia as dd,K as Eb,aG as jj,aR as Rj,c$ as gr,aW as aa,aX as Xn,ib as Ab,ic as Tb,eq as Ib,cx as Oj,cy as Mj,id as Mm,ie as zj,ig as Pj,gA as Nj,ih as $j,aa as Fj,ii as Dj,ij as Lj,ik as Bj,il as Uj,im as Zj,io as Hj,ip as qj,iq as Wj,ir as Vj,is as Gj,it as Jj,hb as Kj,iu as Yj,iv as Xj,iw as Qj,ix as eR,e as jb,iy as tR,du as nR,iz as rR,iA as aR,iB as iR,iC as oR,fy as sR,iD as lR,eK as cR,iE as uR,iF as pR,iG as dR,iH as fR,iI as hR,_ as mR,cl as gR,iJ as yu,iK as Rb,iL as Ob,iM as Mb,iN as yR,iO as vR,gz as bR,iP as xR,iQ as _R,iR as wR,iS as zb,iT as Pb,iU as Nb,iV as kR,cI as CR,iW as SR,iX as ER,ad as AR,f7 as TR,ae as IR,a8 as jR,iY as RR,fF as OR,ha as MR,iZ as zR,i_ as PR,i$ as NR,j0 as $R,gf as FR,j1 as DR,j2 as LR,j3 as BR,g3 as UR,gD as ZR,gC as HR,gE as qR,j4 as WR,gF as VR,ag as $b,j5 as GR,b_ as JR,j6 as KR,j7 as YR,ab as XR,j8 as QR,j9 as eO,ja as tO,jb as nO,jc as rO,jd as aO,je as iO,jf as oO,jg as sO,jh as lO,ji as cO,cs as uO,jj as pO,jk as dO,jl as fO,jm as hO,jn as mO,jo as gO,jp as yO,jq as vO,jr as bO,js as xO,jt as _O,ju as wO,jv as kO,jw as CO,jx as SO,jy as EO,jz as AO,jA as TO,bp as Nl,jB as Fb,cV as IO,eV as jO,cU as RO,jC as OO,cK as MO,eB as zO,jD as ln,jE as PO,jF as NO,jG as $O,fD as fd,D as FO,E as DO,jH as Db,eo as Lb,jI as LO,jJ as BO,b3 as Ft,bh as Ao,b4 as tn,bO as mr,b2 as Jt,eL as UO,bf as zm,jK as go,jL as Bb,jM as ZO,jN as HO,Q as qO,jO as WO,cj as VO,P as vu,jP as GO,jQ as JO,L as KO,R as YO,J as Ls,M as XO}from"./strapi-D0ivxu6x.js";import{P as Pt}from"./index-3lrmPvxo.js";import{f as QO}from"./index-DJfLSYOx.js";const Ub=V.createContext(null),hd=()=>{const e=V.useContext(Ub);if(!e)throw new Error("useCTBSession must be used within a CTBSessionProvider");return e},Di=()=>{const{trackUsage:e}=Qv(),{sessionId:t}=hd();return{trackUsage:V.useCallback((r,a)=>{const o={...a??{},ctbSessionId:t};return e(r,o)},[e,t])}},Bs={danger:{background:"danger100",borderColor:"danger200",textColor:"danger700"},warning:{background:"warning100",borderColor:"warning200",textColor:"warning600"}},po=({title:e,variant:t="danger"})=>g.jsx(De,{padding:3,background:Bs[t].background,borderColor:Bs[t].borderColor,hasRadius:!0,width:"100%",children:g.jsxs(Oe,{gap:2,children:[g.jsx(eb,{style:{minWidth:"16px"},fill:Bs[t].textColor}),g.jsx(Fe,{variant:"omega",textColor:Bs[t].textColor,children:e})]})}),Zb=xt(De)`
  opacity: 0;
  transform: ${({$direction:e="up"})=>e==="up"?"translateY(10px)":"translateX(-10px)"};

  @media (prefers-reduced-motion: no-preference) {
    animation: ${({$direction:e="up"})=>e==="up"?"appearUp":"appearLeft"}
      ${({theme:e})=>e.motion.timings[200]}
      ${({theme:e})=>e.motion.easings.easeOutQuad} forwards;
  }

  @keyframes appearUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes appearLeft {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
`;var eM={STRAPI_AI_URL:"https://strapi-ai.apps.strapi.io"};const Hb="application/vnd.strapi.code",bu=15,tM=15*1024*1024,qb=eM.STRAPI_AI_URL?.replace(/\/+$/,"")??"https://strapi-ai.apps.strapi.io",nM=`${qb}/schemas/chat`,rM=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}),aM=e=>e.startsWith("data:image/"),md=({src:e,alt:t,inferSize:n=!1,onLoad:r,onError:a,...o})=>{const[s,l]=V.useState(null),[u,p]=V.useState({}),[d,h]=V.useState(!0),[m,v]=V.useState(!1);V.useEffect(()=>{(async()=>{if(h(!0),v(!1),aM(e)){l(e),h(!1);return}try{const k=new URL(e);if(["strapi-ai-staging.s3.us-east-1.amazonaws.com","strapi-ai-production.s3.us-east-1.amazonaws.com"].includes(k.hostname)){l(e),h(!1);return}}catch{}try{const k=await fetch(e);if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const E=await k.blob(),T=await rM(E);l(T),h(!1)}catch(k){console.error("Error converting image to base64:",k),v(!0),h(!1)}})()},[e,a]);const y=b=>{if(n){const{naturalWidth:k,naturalHeight:E}=b.currentTarget;p({width:k,height:E})}r&&r(b)};if(d)return g.jsx(Oe,{direction:"column",gap:2,alignItems:"center",width:"100%",children:g.jsx(ed,{small:!0})});if(m)return g.jsx(Oe,{direction:"column",gap:2,alignItems:"center",width:"100%",children:g.jsx(AI,{width:24,height:24,fill:"danger600"})});const _={src:s||"",alt:t,onLoad:y,...o};return n&&!o.width&&!o.height&&u.width&&u.height&&(_.width=u.width,_.height=u.height),s?g.jsx("img",{..._}):null},ki={fadeIn:Ba`
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  `,scaleIn:Ba`
    from {
      opacity: 0;
      transform: scale(0.7);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  `,slideUpIn:Ba`
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideUpOut:Ba`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(10px);
    }
  `,slideDownIn:Ba`
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideDownOut:Ba`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  `},Wb=V.createContext(void 0),iM=(e,t)=>`${e}${Math.floor(t*255).toString(16).padStart(2,"0")}`,oM=xt.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 500;
  pointer-events: auto; /* Explicitly enable pointer events */
  background: ${e=>iM(e.theme.colors.neutral800,.2)};
`,sM=xt.div`
  max-width: 80vw;
  max-height: 90vh;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto; /* Explicitly enable pointer events */
  position: relative;
  animation: ${ki.scaleIn} 0.3s ease;
`,lM=xt(md)`
  max-width: 100%;
  max-height: 90vh;
  object-fit: contain;
  pointer-events: auto; /* Explicitly enable pointer events */
`,cM=({src:e,alt:t,onClose:n})=>{const r=V.useRef(null),a=V.useRef(null);return V.useEffect(()=>{const o=s=>{if(s.key==="Escape")return s.preventDefault(),s.stopPropagation(),n?.(),s.stopImmediatePropagation(),s.cancelBubble=!0,!1};return window.addEventListener("keydown",o,!0),()=>window.removeEventListener("keydown",o,!0)},[n]),V.useEffect(()=>{const o=p=>{p.target===r.current&&(p.preventDefault(),p.stopPropagation(),n?.())},s=p=>{p.stopPropagation()},l=r.current,u=a.current;return l&&l.addEventListener("click",o),u&&u.addEventListener("click",s),()=>{l&&l.removeEventListener("click",o),u&&u.removeEventListener("click",s)}},[n]),TI.createPortal(g.jsx(oM,{ref:r,children:g.jsx(sM,{ref:a,children:g.jsx(lM,{src:e,alt:t})})}),document.body)},uM=({children:e,src:t,alt:n,onClose:r,defaultOpen:a=!1})=>{const[o,s]=V.useState(a),l=()=>s(!0),u=()=>{s(!1),r?.()};return g.jsxs(Wb.Provider,{value:{isOpen:o,open:l,close:u,src:t,alt:n},children:[e,o&&g.jsx(cM,{src:t,alt:n,onClose:u})]})},pM=()=>{const e=V.useContext(Wb);if(!e)throw new Error("useFullScreenImage must be used within a FullScreenImage.Root");return e},dM=({children:e,asChild:t=!1})=>{const{open:n}=pM(),r=a=>{a.stopPropagation(),n()};return t?g.jsx("div",{onClick:r,style:{cursor:"pointer",display:"contents"},children:e}):g.jsx("div",{onClick:r,style:{cursor:"pointer"},children:e})},ol={Root:uM,Trigger:dM},Vb=V.createContext({error:null}),fM=()=>V.useContext(Vb),hM=xt(De)`
  &:hover {
    cursor: pointer;
    background: ${({theme:e})=>e.colors.neutral100};
  }
`,mM=({children:e,error:t=null,minWidth:n,maxWidth:r})=>g.jsx(Vb.Provider,{value:{error:t},children:g.jsxs(Oe,{direction:"column",alignItems:"flex-start",gap:2,minWidth:n,maxWidth:r,children:[g.jsx(hM,{background:"neutral0",hasRadius:!0,borderColor:"neutral200",borderStyle:"solid",borderWidth:"1px",padding:2,width:"100%",children:g.jsx(Oe,{gap:2,children:e})}),t&&g.jsx(Fe,{variant:"pi",textColor:"danger500",children:t})]})}),gM=({children:e})=>{const{error:t}=fM();return g.jsx(Oe,{alignItems:"center",justifyContent:"center",children:t?g.jsx(eb,{fill:"danger500"}):e})},yM=({children:e})=>g.jsx(De,{grow:1,children:g.jsx(Fe,{variant:"omega",ellipsis:!0,style:{userSelect:"none",maxWidth:"100px"},children:e})}),vM=({onClick:e})=>g.jsx(Oe,{alignItems:"center",justifyContent:"center",shrink:0,onClick:e,children:g.jsx(td,{fill:"neutral500"})}),xa={Root:mM,Preview:gM,Title:yM,Remove:vM},bM=xt(md)`
  width: 24px;
  height: 24px;
  object-fit: cover;
  border-radius: ${({theme:e})=>e.borderRadius};
`,xM=({attachment:e,onRemove:t,...n})=>g.jsx(ol.Root,{src:e.url,alt:e.filename||"image",children:g.jsx(ol.Trigger,{asChild:!0,children:g.jsxs(xa.Root,{...n,children:[g.jsx(xa.Preview,{children:e.status==="loading"?g.jsx(ed,{small:!0}):g.jsx(bM,{src:e.url,alt:e.filename})}),g.jsx(xa.Title,{children:e.filename||"unknown"}),t&&g.jsx(xa.Remove,{onClick:t})]})})}),_M=({attachment:e,onRemove:t,...n})=>g.jsxs(xa.Root,{...n,children:[g.jsx(xa.Preview,{children:e.status==="loading"?g.jsx(ed,{small:!0}):g.jsx(nd,{height:24,width:24})}),g.jsx(xa.Title,{children:e.filename||"unknown"}),t&&g.jsx(xa.Remove,{onClick:t})]}),gd=({attachment:e,onRemove:t,...n})=>e.mediaType?.startsWith("image/")?g.jsx(xM,{attachment:e,onRemove:t,...n}):e.mediaType===Hb?g.jsx(_M,{attachment:e,onRemove:t,...n}):null,wM=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Oi(e,t,n){const r=kM(e),{webkitRelativePath:a}=e,o=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof r.path!="string"&&Pm(r,"path",o),Pm(r,"relativePath",o),r}function kM(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),a=wM.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function Pm(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const CM=[".DS_Store","Thumbs.db"];function SM(e){return Xa(this,void 0,void 0,function*(){return sl(e)&&EM(e.dataTransfer)?jM(e.dataTransfer,e.type):AM(e)?TM(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?IM(e):[]})}function EM(e){return sl(e)}function AM(e){return sl(e)&&sl(e.target)}function sl(e){return typeof e=="object"&&e!==null}function TM(e){return pp(e.target.files).map(t=>Oi(t))}function IM(e){return Xa(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Oi(n))})}function jM(e,t){return Xa(this,void 0,void 0,function*(){if(e.items){const n=pp(e.items).filter(a=>a.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(RM));return Nm(Gb(r))}return Nm(pp(e.files).map(n=>Oi(n)))})}function Nm(e){return e.filter(t=>CM.indexOf(t.name)===-1)}function pp(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function RM(e){if(typeof e.webkitGetAsEntry!="function")return $m(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Jb(t):$m(e,t)}function Gb(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?Gb(n):[n]],[])}function $m(e,t){return Xa(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const s=yield o.getFile();return s.handle=o,Oi(s)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Oi(r,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function OM(e){return Xa(this,void 0,void 0,function*(){return e.isDirectory?Jb(e):MM(e)})}function Jb(e){const t=e.createReader();return new Promise((n,r)=>{const a=[];function o(){t.readEntries(s=>Xa(this,void 0,void 0,function*(){if(s.length){const l=Promise.all(s.map(OM));a.push(l),o()}else try{const l=yield Promise.all(a);n(l)}catch(l){r(l)}}),s=>{r(s)})}o()})}function MM(e){return Xa(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const a=Oi(r,e.fullPath);t(a)},r=>{n(r)})})})}var xu=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",a=(e.type||"").toLowerCase(),o=a.replace(/\/.*$/,"");return n.some(function(s){var l=s.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):a===l})}return!0};function Fm(e){return NM(e)||PM(e)||Yb(e)||zM()}function zM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PM(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NM(e){if(Array.isArray(e))return dp(e)}function Dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dm(Object(n),!0).forEach(function(r){Kb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function To(e,t){return DM(e)||FM(e,t)||Yb(e,t)||$M()}function $M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yb(e,t){if(e){if(typeof e=="string")return dp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dp(e,t)}}function dp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FM(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,s,l;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(u){o=!0,l=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function DM(e){if(Array.isArray(e))return e}var LM=typeof xu=="function"?xu:xu.default,BM="file-invalid-type",UM="file-too-large",ZM="file-too-small",HM="too-many-files",qM=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:BM,message:"File type must be ".concat(r)}},Bm=function(t){return{code:UM,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Um=function(t){return{code:ZM,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},WM={code:HM,message:"Too many files"};function Xb(e,t){var n=e.type==="application/x-moz-file"||LM(e,t);return[n,n?null:qM(t)]}function Qb(e,t,n){if(Ha(e.size))if(Ha(t)&&Ha(n)){if(e.size>n)return[!1,Bm(n)];if(e.size<t)return[!1,Um(t)]}else{if(Ha(t)&&e.size<t)return[!1,Um(t)];if(Ha(n)&&e.size>n)return[!1,Bm(n)]}return[!0,null]}function Ha(e){return e!=null}function VM(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,o=e.multiple,s=e.maxFiles,l=e.validator;return!o&&t.length>1||o&&s>=1&&t.length>s?!1:t.every(function(u){var p=Xb(u,n),d=To(p,1),h=d[0],m=Qb(u,r,a),v=To(m,1),y=v[0],_=l?l(u):null;return h&&y&&!_})}function ll(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Us(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Zm(e){e.preventDefault()}function GM(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function JM(e){return e.indexOf("Edge/")!==-1}function KM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return GM(e)||JM(e)}function zr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return t.some(function(l){return!ll(r)&&l&&l.apply(void 0,[r].concat(o)),ll(r)})}}function YM(){return"showOpenFilePicker"in window}function XM(e){if(Ha(e)){var t=Object.entries(e).filter(function(n){var r=To(n,2),a=r[0],o=r[1],s=!0;return ex(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(tx))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var a=To(r,2),o=a[0],s=a[1];return Lm(Lm({},n),{},Kb({},o,s))},{});return[{description:"Files",accept:t}]}return e}function QM(e){if(Ha(e))return Object.entries(e).reduce(function(t,n){var r=To(n,2),a=r[0],o=r[1];return[].concat(Fm(t),[a],Fm(o))},[]).filter(function(t){return ex(t)||tx(t)}).join(",")}function ez(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function tz(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function ex(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function tx(e){return/^.*\.[\w]+$/.test(e)}var nz=["children"],rz=["open"],az=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],iz=["refKey","onChange","onClick"];function oz(e){return cz(e)||lz(e)||nx(e)||sz()}function sz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cz(e){if(Array.isArray(e))return fp(e)}function _u(e,t){return dz(e)||pz(e,t)||nx(e,t)||uz()}function uz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nx(e,t){if(e){if(typeof e=="string")return fp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fp(e,t)}}function fp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pz(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,s,l;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(u){o=!0,l=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function dz(e){if(Array.isArray(e))return e}function Hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hm(Object(n),!0).forEach(function(r){hp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cl(e,t){if(e==null)return{};var n=fz(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fz(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var yd=V.forwardRef(function(e,t){var n=e.children,r=cl(e,nz),a=ax(r),o=a.open,s=cl(a,rz);return V.useImperativeHandle(t,function(){return{open:o}},[o]),II.createElement(V.Fragment,null,n(en(en({},s),{},{open:o})))});yd.displayName="Dropzone";var rx={disabled:!1,getFilesFromEvent:SM,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};yd.defaultProps=rx;yd.propTypes={children:Pt.func,accept:Pt.objectOf(Pt.arrayOf(Pt.string)),multiple:Pt.bool,preventDropOnDocument:Pt.bool,noClick:Pt.bool,noKeyboard:Pt.bool,noDrag:Pt.bool,noDragEventsBubbling:Pt.bool,minSize:Pt.number,maxSize:Pt.number,maxFiles:Pt.number,disabled:Pt.bool,getFilesFromEvent:Pt.func,onFileDialogCancel:Pt.func,onFileDialogOpen:Pt.func,useFsAccessApi:Pt.bool,autoFocus:Pt.bool,onDragEnter:Pt.func,onDragLeave:Pt.func,onDragOver:Pt.func,onDrop:Pt.func,onDropAccepted:Pt.func,onDropRejected:Pt.func,onError:Pt.func,validator:Pt.func};var mp={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ax(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=en(en({},rx),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,l=t.multiple,u=t.maxFiles,p=t.onDragEnter,d=t.onDragLeave,h=t.onDragOver,m=t.onDrop,v=t.onDropAccepted,y=t.onDropRejected,_=t.onFileDialogCancel,b=t.onFileDialogOpen,k=t.useFsAccessApi,E=t.autoFocus,T=t.preventDropOnDocument,I=t.noClick,N=t.noKeyboard,M=t.noDrag,U=t.noDragEventsBubbling,B=t.onError,J=t.validator,Y=V.useMemo(function(){return QM(n)},[n]),q=V.useMemo(function(){return XM(n)},[n]),pe=V.useMemo(function(){return typeof b=="function"?b:qm},[b]),O=V.useMemo(function(){return typeof _=="function"?_:qm},[_]),K=V.useRef(null),w=V.useRef(null),L=V.useReducer(hz,mp),Ae=_u(L,2),de=Ae[0],fe=Ae[1],$=de.isFocused,Re=de.isFileDialogActive,se=V.useRef(typeof window<"u"&&window.isSecureContext&&k&&YM()),R=function(){!se.current&&Re&&setTimeout(function(){if(w.current){var ve=w.current.files;ve.length||(fe({type:"closeDialog"}),O())}},300)};V.useEffect(function(){return window.addEventListener("focus",R,!1),function(){window.removeEventListener("focus",R,!1)}},[w,Re,O,se]);var Ne=V.useRef([]),Q=function(ve){K.current&&K.current.contains(ve.target)||(ve.preventDefault(),Ne.current=[])};V.useEffect(function(){return T&&(document.addEventListener("dragover",Zm,!1),document.addEventListener("drop",Q,!1)),function(){T&&(document.removeEventListener("dragover",Zm),document.removeEventListener("drop",Q))}},[K,T]),V.useEffect(function(){return!r&&E&&K.current&&K.current.focus(),function(){}},[K,E,r]);var W=V.useCallback(function(le){B?B(le):console.error(le)},[B]),we=V.useCallback(function(le){le.preventDefault(),le.persist(),ne(le),Ne.current=[].concat(oz(Ne.current),[le.target]),Us(le)&&Promise.resolve(a(le)).then(function(ve){if(!(ll(le)&&!U)){var Z=ve.length,X=Z>0&&VM({files:ve,accept:Y,minSize:s,maxSize:o,multiple:l,maxFiles:u,validator:J}),xe=Z>0&&!X;fe({isDragAccept:X,isDragReject:xe,isDragActive:!0,type:"setDraggedFiles"}),p&&p(le)}}).catch(function(ve){return W(ve)})},[a,p,W,U,Y,s,o,l,u,J]),Se=V.useCallback(function(le){le.preventDefault(),le.persist(),ne(le);var ve=Us(le);if(ve&&le.dataTransfer)try{le.dataTransfer.dropEffect="copy"}catch{}return ve&&h&&h(le),!1},[h,U]),ce=V.useCallback(function(le){le.preventDefault(),le.persist(),ne(le);var ve=Ne.current.filter(function(X){return K.current&&K.current.contains(X)}),Z=ve.indexOf(le.target);Z!==-1&&ve.splice(Z,1),Ne.current=ve,!(ve.length>0)&&(fe({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Us(le)&&d&&d(le))},[K,d,U]),je=V.useCallback(function(le,ve){var Z=[],X=[];le.forEach(function(xe){var Pe=Xb(xe,Y),We=_u(Pe,2),dt=We[0],Tt=We[1],_t=Qb(xe,s,o),it=_u(_t,2),fn=it[0],wt=it[1],Ot=J?J(xe):null;if(dt&&fn&&!Ot)Z.push(xe);else{var ft=[Tt,wt];Ot&&(ft=ft.concat(Ot)),X.push({file:xe,errors:ft.filter(function(wr){return wr})})}}),(!l&&Z.length>1||l&&u>=1&&Z.length>u)&&(Z.forEach(function(xe){X.push({file:xe,errors:[WM]})}),Z.splice(0)),fe({acceptedFiles:Z,fileRejections:X,isDragReject:X.length>0,type:"setFiles"}),m&&m(Z,X,ve),X.length>0&&y&&y(X,ve),Z.length>0&&v&&v(Z,ve)},[fe,l,Y,s,o,u,m,v,y,J]),me=V.useCallback(function(le){le.preventDefault(),le.persist(),ne(le),Ne.current=[],Us(le)&&Promise.resolve(a(le)).then(function(ve){ll(le)&&!U||je(ve,le)}).catch(function(ve){return W(ve)}),fe({type:"reset"})},[a,je,W,U]),Te=V.useCallback(function(){if(se.current){fe({type:"openDialog"}),pe();var le={multiple:l,types:q};window.showOpenFilePicker(le).then(function(ve){return a(ve)}).then(function(ve){je(ve,null),fe({type:"closeDialog"})}).catch(function(ve){ez(ve)?(O(ve),fe({type:"closeDialog"})):tz(ve)?(se.current=!1,w.current?(w.current.value=null,w.current.click()):W(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):W(ve)});return}w.current&&(fe({type:"openDialog"}),pe(),w.current.value=null,w.current.click())},[fe,pe,O,k,je,W,q,l]),qe=V.useCallback(function(le){!K.current||!K.current.isEqualNode(le.target)||(le.key===" "||le.key==="Enter"||le.keyCode===32||le.keyCode===13)&&(le.preventDefault(),Te())},[K,Te]),Ye=V.useCallback(function(){fe({type:"focus"})},[]),S=V.useCallback(function(){fe({type:"blur"})},[]),he=V.useCallback(function(){I||(KM()?setTimeout(Te,0):Te())},[I,Te]),G=function(ve){return r?null:ve},D=function(ve){return N?null:G(ve)},C=function(ve){return M?null:G(ve)},ne=function(ve){U&&ve.stopPropagation()},_e=V.useMemo(function(){return function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ve=le.refKey,Z=ve===void 0?"ref":ve,X=le.role,xe=le.onKeyDown,Pe=le.onFocus,We=le.onBlur,dt=le.onClick,Tt=le.onDragEnter,_t=le.onDragOver,it=le.onDragLeave,fn=le.onDrop,wt=cl(le,az);return en(en(hp({onKeyDown:D(zr(xe,qe)),onFocus:D(zr(Pe,Ye)),onBlur:D(zr(We,S)),onClick:G(zr(dt,he)),onDragEnter:C(zr(Tt,we)),onDragOver:C(zr(_t,Se)),onDragLeave:C(zr(it,ce)),onDrop:C(zr(fn,me)),role:typeof X=="string"&&X!==""?X:"presentation"},Z,K),!r&&!N?{tabIndex:0}:{}),wt)}},[K,qe,Ye,S,he,we,Se,ce,me,N,M,r]),Ce=V.useCallback(function(le){le.stopPropagation()},[]),ie=V.useMemo(function(){return function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ve=le.refKey,Z=ve===void 0?"ref":ve,X=le.onChange,xe=le.onClick,Pe=cl(le,iz),We=hp({accept:Y,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:G(zr(X,me)),onClick:G(zr(xe,Ce)),tabIndex:-1},Z,w);return en(en({},We),Pe)}},[w,n,l,me,r]);return en(en({},de),{},{isFocused:$&&!r,getRootProps:_e,getInputProps:ie,rootRef:K,inputRef:w,open:G(Te)})}function hz(e,t){switch(t.type){case"focus":return en(en({},e),{},{isFocused:!0});case"blur":return en(en({},e),{},{isFocused:!1});case"openDialog":return en(en({},mp),{},{isFileDialogActive:!0});case"closeDialog":return en(en({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return en(en({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return en(en({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return en({},mp);default:return e}}function qm(){}const mz=({onAddFiles:e,isEnabled:t=!1})=>{const n=V.useCallback(async r=>{if(!t)return;const a=r.clipboardData?.items;if(!a||a.length===0)return;const o=[];for(const s of a)if(s.kind==="file"){const l=s.getAsFile();l&&l.type.startsWith("image/")&&o.push(l)}o.length>0&&(e(o),r.preventDefault())},[t,e]);V.useEffect(()=>(document.addEventListener("paste",n),()=>{document.removeEventListener("paste",n)}),[n])},ix=V.createContext({}),gz=()=>V.useContext(ix),yz=({children:e,isEnabled:t=!0,onAddFiles:n=()=>{},accept:r={"image/*":[]},...a})=>{mz({onAddFiles:n,isEnabled:t});const{getRootProps:o,isDragActive:s}=ax({onDrop:n,noClick:!0,noKeyboard:!0,accept:r});return g.jsx(ix.Provider,{value:{isEnabled:t,isDragActive:s,onAddFiles:n},children:g.jsx(Oe,{direction:"column",alignItems:"flex-start",width:"100%",position:"relative",...o(),...a,children:e})})},vz=({error:e,title:t,...n})=>{const{isEnabled:r,isDragActive:a}=gz();if(!a)return null;const o=t||"Drop images here";return g.jsxs(Oe,{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2,cursor:r?"pointer":"not-allowed",width:"100%",height:"100%",borderStyle:"dashed",borderColor:e?"danger600":"primary500",background:e?"danger100":"primary100",hasRadius:!0,padding:7,justifyContent:"center",direction:"column",alignItems:"center",gap:2,...n,children:[g.jsx(De,{width:"24px",height:"24px",children:g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M19.5 13.572L12 6.072L4.5 13.572",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M12 6.072V20.072",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M3.9998 20.072H20.0001",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),g.jsxs(Oe,{direction:"column",alignItems:"center",gap:2,children:[g.jsx(Fe,{variant:"omega",textColor:"neutral600",textAlign:"center",children:o}),e&&g.jsx(Fe,{variant:"pi",textColor:"danger600",children:e})]})]})},ox={Root:yz,Area:vz},sx=V.createContext({size:"md",position:"bottom-right",isOpen:!1,onToggle:()=>{}}),Wm={sm:{width:"350px",height:"500px"},md:{width:"480px",height:"600px"},lg:{width:"600px",height:"700px"}},bz={"bottom-right":{bottom:4,right:4},"bottom-left":{bottom:4,left:4},"top-right":{top:4,right:4},"top-left":{top:4,left:4}},xz=xt(De)`
  position: fixed;
  display: flex;
  flex-direction: column;
  z-index: 11;
  align-items: ${({$position:e})=>e.includes("right")?"flex-end":"flex-start"};
  ${({$position:e,theme:t})=>Object.entries(bz[e]).reduce((n,[r,a])=>({...n,[r]:t.spaces[a]}),{})}
`,_z=xt(De)`
  width: ${({$size:e})=>Wm[e].width};
  max-height: 85vh;
  max-width: 85vw;
  display: flex;
  flex-direction: column;
  height: ${({$size:e})=>Wm[e].height};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: 200ms;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);

    &[data-state='open'] {
      animation-name: ${({$position:e})=>e.startsWith("top")?ki.slideDownIn:ki.slideUpIn};
    }

    &[data-state='closed'] {
      animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
      animation-name: ${({$position:e})=>e.startsWith("top")?ki.slideDownOut:ki.slideUpOut};
    }
  }
`,wz=({children:e,size:t="md",position:n="bottom-right",isOpen:r=!1,onToggle:a=()=>{},toggleIcon:o})=>g.jsx(sx.Provider,{value:{size:t,position:n,isOpen:r,onToggle:a},children:g.jsxs(xz,{$position:n,children:[r?g.jsx(_z,{$size:t,$position:n,background:"neutral0",shadow:"popupShadow",hasRadius:!0,borderColor:"neutral200",borderStyle:"solid",borderWidth:"1px","data-state":r?"open":"closed",children:e}):null,o&&!r&&o]})}),kz=({children:e})=>g.jsx(De,{padding:[2,2,2,4],borderColor:"neutral150",borderStyle:"solid",borderWidth:"0 0 1px 0",children:g.jsx(Oe,{justifyContent:"space-between",alignItems:"center",children:e})}),Cz=({children:e})=>g.jsx(De,{padding:4,flex:"1",overflow:"auto",children:e}),Sz=({children:e})=>g.jsx(De,{padding:4,children:e}),Ez=({label:e})=>{const{onToggle:t}=Az();return g.jsx(br,{onClick:t,variant:"ghost",label:e||"Close",children:g.jsx(rd,{})})},fo={Root:wz,Header:kz,Body:Cz,Footer:Sz,Close:Ez},Az=()=>V.useContext(sx),lx=e=>g.jsxs("svg",{width:e.width||16,height:e.height||16,viewBox:"0 0 200 300",xmlns:"http://www.w3.org/2000/svg","aria-label":"Figma logo",style:{display:"block",margin:"0 auto",...e.style},...e,children:[g.jsx("title",{children:"Figma.logo"}),g.jsx("desc",{children:"Created using Figma"}),g.jsx("path",{d:"M50 300c27.6 0 50-22.4 50-50v-50H50c-27.6 0-50 22.4-50 50s22.4 50 50 50z",fill:"#0acf83"}),g.jsx("path",{d:"M50 200c-27.6 0-50-22.4-50-50s22.4-50 50-50h50v100H50z",fill:"#a259ff"}),g.jsx("path",{d:"M0 50C0 22.4 22.4 0 50 0h50v100H50C22.4 100 0 77.6 0 50z",fill:"#f24e1e"}),g.jsx("path",{d:"M100 0h50c27.6 0 50 22.4 50 50s-22.4 50-50 50h-50V0z",fill:"#ff7262"}),g.jsx("path",{d:"M200 150c0 27.6-22.4 50-50 50s-50-22.4-50-50 22.4-50 50-50 50 22.4 50 50z",fill:"#1abcfe"})]}),Tz=e=>g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:g.jsx("rect",{x:"2",y:"2",width:"11",height:"11",rx:"2",fill:"white"})}),Iz=V.createContext({}),jz=({children:e,isLoading:t=!1,...n})=>g.jsx(Iz.Provider,{value:{isLoading:t},children:g.jsx(Oe,{direction:"column",alignItems:"flex-start",width:"100%",position:"relative",...n,children:e})}),Rz=({children:e,...t})=>g.jsx(De,{position:"absolute",bottom:"102%",left:0,right:0,background:"neutral0",width:"100%",...t,children:e}),Oz=xt(De)`
  padding: ${({theme:e})=>e.spaces[3]} 0};
`,Mz=({children:e,gap:t=2,...n})=>g.jsx(Oe,{gap:t,wrap:"wrap",paddingBottom:2,maxHeight:"150px",overflow:"auto",...n,children:e}),zz=xt(De)`
  outline: none;
  box-shadow: none;
  transition-property: border-color, box-shadow, fill;
  transition-duration: 0.2s;

  &:focus-within {
    border: 1px solid
      ${({theme:e,$hasError:t})=>t?e.colors.danger600:e.colors.primary600};
    box-shadow: ${({theme:e,$hasError:t})=>t?e.colors.danger600:e.colors.primary600}
      0px 0px 0px 2px;
  }
`,Pz=({children:e,disclaimer:t,error:n=!1,...r})=>g.jsxs(zz,{background:"neutral0",hasRadius:!0,borderColor:n?"danger600":"neutral200",borderWidth:"1px",borderStyle:"solid",width:"100%",$hasError:n,...r,children:[g.jsx(De,{padding:3,children:e}),t&&g.jsx(De,{background:"neutral100",padding:[2,3],borderColor:"neutral200",borderWidth:"1px 0 0 0",borderStyle:"solid",borderRadius:"0 0 4px 4px",children:g.jsx(Fe,{variant:"pi",textColor:"neutral600",children:t})})]}),Nz=({children:e})=>g.jsx(Oe,{justifyContent:"flex-end",alignItems:"center",gap:2,children:e}),Ua={Root:jz,Header:Rz,HeaderItem:Oz,Attachments:Mz,Content:Pz,Actions:Nz};class $z extends Error{name="Assertion";code="ERR_ASSERTION";constructor(t,n,r,a,o){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.actual=n,this.expected=r,this.generated=o,this.operator=a}}function te(e,t){cx(!!e,!1,!0,"ok","Expected value to be truthy",t)}function gp(e){cx(!1,!1,!0,"ok","Unreachable",e)}function cx(e,t,n,r,a,o){if(!e)throw o instanceof Error?o:new $z(o||a,t,n,r,!o)}function Fz(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Dz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Lz=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Bz={};function Vm(e,t){return(Bz.jsx?Lz:Dz).test(e)}const Uz=/[ \t\n\f\r]/g;function Zz(e){return typeof e=="object"?e.type==="text"?Gm(e.value):!1:Gm(e)}function Gm(e){return e.replace(Uz,"")===""}class Lo{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Lo.prototype.normal={};Lo.prototype.property={};Lo.prototype.space=void 0;function ux(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Lo(n,r,t)}function yp(e){return e.toLowerCase()}class Hn{constructor(t,n){this.attribute=n,this.property=t}}Hn.prototype.attribute="";Hn.prototype.booleanish=!1;Hn.prototype.boolean=!1;Hn.prototype.commaOrSpaceSeparated=!1;Hn.prototype.commaSeparated=!1;Hn.prototype.defined=!1;Hn.prototype.mustUseProperty=!1;Hn.prototype.number=!1;Hn.prototype.overloadedBoolean=!1;Hn.prototype.property="";Hn.prototype.spaceSeparated=!1;Hn.prototype.space=void 0;let Hz=0;const ct=Qa(),pn=Qa(),vp=Qa(),Me=Qa(),$t=Qa(),Ti=Qa(),Kn=Qa();function Qa(){return 2**++Hz}const bp=Object.freeze(Object.defineProperty({__proto__:null,boolean:ct,booleanish:pn,commaOrSpaceSeparated:Kn,commaSeparated:Ti,number:Me,overloadedBoolean:vp,spaceSeparated:$t},Symbol.toStringTag,{value:"Module"})),wu=Object.keys(bp);class vd extends Hn{constructor(t,n,r,a){let o=-1;if(super(t,n),Jm(this,"space",a),typeof r=="number")for(;++o<wu.length;){const s=wu[o];Jm(this,wu[o],(r&bp[s])===bp[s])}}}vd.prototype.defined=!0;function Jm(e,t,n){n&&(e[t]=n)}function Li(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const o=new vd(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[yp(r)]=r,n[yp(o.attribute)]=r}return new Lo(t,n,e.space)}const px=Li({properties:{ariaActiveDescendant:null,ariaAtomic:pn,ariaAutoComplete:null,ariaBusy:pn,ariaChecked:pn,ariaColCount:Me,ariaColIndex:Me,ariaColSpan:Me,ariaControls:$t,ariaCurrent:null,ariaDescribedBy:$t,ariaDetails:null,ariaDisabled:pn,ariaDropEffect:$t,ariaErrorMessage:null,ariaExpanded:pn,ariaFlowTo:$t,ariaGrabbed:pn,ariaHasPopup:null,ariaHidden:pn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$t,ariaLevel:Me,ariaLive:null,ariaModal:pn,ariaMultiLine:pn,ariaMultiSelectable:pn,ariaOrientation:null,ariaOwns:$t,ariaPlaceholder:null,ariaPosInSet:Me,ariaPressed:pn,ariaReadOnly:pn,ariaRelevant:null,ariaRequired:pn,ariaRoleDescription:$t,ariaRowCount:Me,ariaRowIndex:Me,ariaRowSpan:Me,ariaSelected:pn,ariaSetSize:Me,ariaSort:null,ariaValueMax:Me,ariaValueMin:Me,ariaValueNow:Me,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function dx(e,t){return t in e?e[t]:t}function fx(e,t){return dx(e,t.toLowerCase())}const qz=Li({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ti,acceptCharset:$t,accessKey:$t,action:null,allow:null,allowFullScreen:ct,allowPaymentRequest:ct,allowUserMedia:ct,alt:null,as:null,async:ct,autoCapitalize:null,autoComplete:$t,autoFocus:ct,autoPlay:ct,blocking:$t,capture:null,charSet:null,checked:ct,cite:null,className:$t,cols:Me,colSpan:null,content:null,contentEditable:pn,controls:ct,controlsList:$t,coords:Me|Ti,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ct,defer:ct,dir:null,dirName:null,disabled:ct,download:vp,draggable:pn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ct,formTarget:null,headers:$t,height:Me,hidden:vp,high:Me,href:null,hrefLang:null,htmlFor:$t,httpEquiv:$t,id:null,imageSizes:null,imageSrcSet:null,inert:ct,inputMode:null,integrity:null,is:null,isMap:ct,itemId:null,itemProp:$t,itemRef:$t,itemScope:ct,itemType:$t,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ct,low:Me,manifest:null,max:null,maxLength:Me,media:null,method:null,min:null,minLength:Me,multiple:ct,muted:ct,name:null,nonce:null,noModule:ct,noValidate:ct,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ct,optimum:Me,pattern:null,ping:$t,placeholder:null,playsInline:ct,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ct,referrerPolicy:null,rel:$t,required:ct,reversed:ct,rows:Me,rowSpan:Me,sandbox:$t,scope:null,scoped:ct,seamless:ct,selected:ct,shadowRootClonable:ct,shadowRootDelegatesFocus:ct,shadowRootMode:null,shape:null,size:Me,sizes:null,slot:null,span:Me,spellCheck:pn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Me,step:null,style:null,tabIndex:Me,target:null,title:null,translate:null,type:null,typeMustMatch:ct,useMap:null,value:pn,width:Me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$t,axis:null,background:null,bgColor:null,border:Me,borderColor:null,bottomMargin:Me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ct,declare:ct,event:null,face:null,frame:null,frameBorder:null,hSpace:Me,leftMargin:Me,link:null,longDesc:null,lowSrc:null,marginHeight:Me,marginWidth:Me,noResize:ct,noHref:ct,noShade:ct,noWrap:ct,object:null,profile:null,prompt:null,rev:null,rightMargin:Me,rules:null,scheme:null,scrolling:pn,standby:null,summary:null,text:null,topMargin:Me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ct,disableRemotePlayback:ct,prefix:null,property:null,results:Me,security:null,unselectable:null},space:"html",transform:fx}),Wz=Li({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Kn,accentHeight:Me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Me,amplitude:Me,arabicForm:null,ascent:Me,attributeName:null,attributeType:null,azimuth:Me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Me,by:null,calcMode:null,capHeight:Me,className:$t,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Me,diffuseConstant:Me,direction:null,display:null,dur:null,divisor:Me,dominantBaseline:null,download:ct,dx:null,dy:null,edgeMode:null,editable:null,elevation:Me,enableBackground:null,end:null,event:null,exponent:Me,externalResourcesRequired:null,fill:null,fillOpacity:Me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ti,g2:Ti,glyphName:Ti,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Me,horizOriginX:Me,horizOriginY:Me,id:null,ideographic:Me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Me,k:Me,k1:Me,k2:Me,k3:Me,k4:Me,kernelMatrix:Kn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Me,overlineThickness:Me,paintOrder:null,panose1:null,path:null,pathLength:Me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$t,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Me,pointsAtY:Me,pointsAtZ:Me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Kn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Kn,rev:Kn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Kn,requiredFeatures:Kn,requiredFonts:Kn,requiredFormats:Kn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Me,specularExponent:Me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Me,strikethroughThickness:Me,string:null,stroke:null,strokeDashArray:Kn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Me,strokeOpacity:Me,strokeWidth:null,style:null,surfaceScale:Me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Kn,tabIndex:Me,tableValues:null,target:null,targetX:Me,targetY:Me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Kn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Me,underlineThickness:Me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Me,values:null,vAlphabetic:Me,vMathematical:Me,vectorEffect:null,vHanging:Me,vIdeographic:Me,version:null,vertAdvY:Me,vertOriginX:Me,vertOriginY:Me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:dx}),hx=Li({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),mx=Li({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:fx}),gx=Li({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Vz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Gz=/[A-Z]/g,Km=/-[a-z]/g,Jz=/^data[-\w.:]+$/i;function Kz(e,t){const n=yp(t);let r=t,a=Hn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Jz.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Km,Xz);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Km.test(o)){let s=o.replace(Gz,Yz);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}a=vd}return new a(r,t)}function Yz(e){return"-"+e.toLowerCase()}function Xz(e){return e.charAt(1).toUpperCase()}const Qz=ux([px,qz,hx,mx,gx],"html"),bd=ux([px,Wz,hx,mx,gx],"svg");function eP(e){return e.join(" ").trim()}var xd={},Ym=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,tP=/\n/g,nP=/^\s*/,rP=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,aP=/^:\s*/,iP=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,oP=/^[;\s]*/,sP=/^\s+|\s+$/g,lP=`
`,Xm="/",Qm="*",qa="",cP="comment",uP="declaration";function pP(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(y){var _=y.match(tP);_&&(n+=_.length);var b=y.lastIndexOf(lP);r=~b?y.length-b:r+y.length}function o(){var y={line:n,column:r};return function(_){return _.position=new s(y),p(),_}}function s(y){this.start=y,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function l(y){var _=new Error(t.source+":"+n+":"+r+": "+y);if(_.reason=y,_.filename=t.source,_.line=n,_.column=r,_.source=e,!t.silent)throw _}function u(y){var _=y.exec(e);if(_){var b=_[0];return a(b),e=e.slice(b.length),_}}function p(){u(nP)}function d(y){var _;for(y=y||[];_=h();)_!==!1&&y.push(_);return y}function h(){var y=o();if(!(Xm!=e.charAt(0)||Qm!=e.charAt(1))){for(var _=2;qa!=e.charAt(_)&&(Qm!=e.charAt(_)||Xm!=e.charAt(_+1));)++_;if(_+=2,qa===e.charAt(_-1))return l("End of comment missing");var b=e.slice(2,_-2);return r+=2,a(b),e=e.slice(_),r+=2,y({type:cP,comment:b})}}function m(){var y=o(),_=u(rP);if(_){if(h(),!u(aP))return l("property missing ':'");var b=u(iP),k=y({type:uP,property:eg(_[0].replace(Ym,qa)),value:b?eg(b[0].replace(Ym,qa)):qa});return u(oP),k}}function v(){var y=[];d(y);for(var _;_=m();)_!==!1&&(y.push(_),d(y));return y}return p(),v()}function eg(e){return e?e.replace(sP,qa):qa}var dP=pP,fP=Qn&&Qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xd,"__esModule",{value:!0});xd.default=mP;const hP=fP(dP);function mP(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,hP.default)(e),a=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:s,value:l}=o;a?t(s,l,o):l&&(n=n||{},n[s]=l)}),n}var $l={};Object.defineProperty($l,"__esModule",{value:!0});$l.camelCase=void 0;var gP=/^--[a-zA-Z0-9_-]+$/,yP=/-([a-z])/g,vP=/^[^-]+$/,bP=/^-(webkit|moz|ms|o|khtml)-/,xP=/^-(ms)-/,_P=function(e){return!e||vP.test(e)||gP.test(e)},wP=function(e,t){return t.toUpperCase()},tg=function(e,t){return"".concat(t,"-")},kP=function(e,t){return t===void 0&&(t={}),_P(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(xP,tg):e=e.replace(bP,tg),e.replace(yP,wP))};$l.camelCase=kP;var CP=Qn&&Qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},SP=CP(xd),EP=$l;function xp(e,t){var n={};return!e||typeof e!="string"||(0,SP.default)(e,function(r,a){r&&a&&(n[(0,EP.camelCase)(r,t)]=a)}),n}xp.default=xp;var AP=xp;const TP=wn(AP),yx=vx("end"),_d=vx("start");function vx(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function IP(e){const t=_d(e),n=yx(e);if(t&&n)return{start:t,end:n}}function wo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?ng(e.position):"start"in e||"end"in e?ng(e):"line"in e||"column"in e?_p(e):""}function _p(e){return rg(e&&e.line)+":"+rg(e&&e.column)}function ng(e){return _p(e&&e.start)+"-"+_p(e&&e.end)}function rg(e){return e&&typeof e=="number"?e:1}class An extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?a=t:!o.cause&&t&&(s=!0,a=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?o.ruleId=r:(o.source=r.slice(0,u),o.ruleId=r.slice(u+1))}if(!o.place&&o.ancestors&&o.ancestors){const u=o.ancestors[o.ancestors.length-1];u&&(o.place=u.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=l?l.line:void 0,this.name=wo(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}An.prototype.file="";An.prototype.name="";An.prototype.reason="";An.prototype.message="";An.prototype.stack="";An.prototype.column=void 0;An.prototype.line=void 0;An.prototype.ancestors=void 0;An.prototype.cause=void 0;An.prototype.fatal=void 0;An.prototype.place=void 0;An.prototype.ruleId=void 0;An.prototype.source=void 0;const wd={}.hasOwnProperty,jP=new Map,RP=/[A-Z]/g,OP=new Set(["table","tbody","thead","tfoot","tr"]),MP=new Set(["td","th"]),bx="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function zP(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=UP(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=BP(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?bd:Qz,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=xx(a,e,void 0);return o&&typeof o!="string"?o:a.create(e,a.Fragment,{children:o||void 0},void 0)}function xx(e,t,n){if(t.type==="element")return PP(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return NP(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return FP(e,t,n);if(t.type==="mdxjsEsm")return $P(e,t);if(t.type==="root")return DP(e,t,n);if(t.type==="text")return LP(e,t)}function PP(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=bd,e.schema=a),e.ancestors.push(t);const o=wx(e,t.tagName,!1),s=ZP(e,t);let l=Cd(e,t);return OP.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!Zz(u):!0})),_x(e,s,o,t),kd(s,l),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function NP(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return te(r.type==="ExpressionStatement"),e.evaluater.evaluateExpression(r.expression)}Io(e,t.position)}function $P(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Io(e,t.position)}function FP(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=bd,e.schema=a),e.ancestors.push(t);const o=t.name===null?e.Fragment:wx(e,t.name,!0),s=HP(e,t),l=Cd(e,t);return _x(e,s,o,t),kd(s,l),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function DP(e,t,n){const r={};return kd(r,Cd(e,t)),e.create(t,e.Fragment,r,n)}function LP(e,t){return t.value}function _x(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function kd(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function BP(e,t,n){return r;function r(a,o,s,l){const p=Array.isArray(s.children)?n:t;return l?p(o,s,l):p(o,s)}}function UP(e,t){return n;function n(r,a,o,s){const l=Array.isArray(o.children),u=_d(r);return t(a,o,s,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function ZP(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&wd.call(t.properties,a)){const o=qP(e,a,t.properties[a]);if(o){const[s,l]=o;e.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&MP.has(t.tagName)?r=l:n[s]=l}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function HP(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];te(o.type==="ExpressionStatement");const s=o.expression;te(s.type==="ObjectExpression");const l=s.properties[0];te(l.type==="SpreadElement"),Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Io(e,t.position);else{const a=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];te(l.type==="ExpressionStatement"),o=e.evaluater.evaluateExpression(l.expression)}else Io(e,t.position);else o=r.value===null?!0:r.value;n[a]=o}return n}function Cd(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:jP;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const u=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(u){const p=a.get(u)||0;s=u+"-"+p,a.set(u,p+1)}}const l=xx(e,o,s);l!==void 0&&n.push(l)}return n}function qP(e,t,n){const r=Kz(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Fz(n):eP(n)),r.property==="style"){let a=typeof n=="object"?n:WP(e,String(n));return e.stylePropertyNameCase==="css"&&(a=VP(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?Vz[r.property]||r.property:r.attribute,n]}}function WP(e,t){try{return TP(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new An("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=bx+"#cannot-parse-style-attribute",a}}function wx(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let o=-1,s;for(;++o<a.length;){const l=Vm(a[o])?{type:"Identifier",name:a[o]}:{type:"Literal",value:a[o]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}te(s,"always a result"),r=s}else r=Vm(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return wd.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Io(e)}function Io(e,t){const n=new An("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=bx+"#cannot-handle-mdx-estrees-without-createevaluater",n}function VP(e){const t={};let n;for(n in e)wd.call(e,n)&&(t[GP(n)]=e[n]);return t}function GP(e){let t=e.replace(RP,JP);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function JP(e){return"-"+e.toLowerCase()}const ku={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},KP={};function YP(e,t){const n=KP,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return kx(e,r,a)}function kx(e,t,n){if(XP(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ag(e.children,t,n)}return Array.isArray(e)?ag(e,t,n):""}function ag(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=kx(e[a],t,n);return r.join("")}function XP(e){return!!(e&&typeof e=="object")}const ig=document.createElement("i");function Sd(e){const t="&"+e+";";ig.innerHTML=t;const n=ig.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const P={carriageReturn:-5,lineFeed:-4,carriageReturnLineFeed:-3,horizontalTab:-2,virtualSpace:-1,eof:null,nul:0,ht:9,lf:10,vt:11,cr:13,space:32,exclamationMark:33,quotationMark:34,numberSign:35,percentSign:37,ampersand:38,apostrophe:39,leftParenthesis:40,rightParenthesis:41,asterisk:42,plusSign:43,dash:45,dot:46,slash:47,digit0:48,digit1:49,digit2:50,digit3:51,digit4:52,digit5:53,digit6:54,digit7:55,digit8:56,digit9:57,colon:58,semicolon:59,lessThan:60,equalsTo:61,greaterThan:62,questionMark:63,atSign:64,uppercaseX:88,leftSquareBracket:91,backslash:92,rightSquareBracket:93,caret:94,underscore:95,graveAccent:96,lowercaseX:120,tilde:126,del:127,byteOrderMarker:65279,replacementCharacter:65533},Be={atxHeadingOpeningFenceSizeMax:6,autolinkDomainSizeMax:63,autolinkSchemeSizeMax:32,cdataOpeningString:"CDATA[",characterGroupPunctuation:2,characterGroupWhitespace:1,characterReferenceDecimalSizeMax:7,characterReferenceHexadecimalSizeMax:6,characterReferenceNamedSizeMax:31,codeFencedSequenceSizeMin:3,contentTypeContent:"content",contentTypeFlow:"flow",contentTypeString:"string",contentTypeText:"text",hardBreakPrefixSizeMin:2,htmlBasic:6,htmlCdata:5,htmlComment:2,htmlComplete:7,htmlDeclaration:4,htmlInstruction:3,htmlRawSizeMax:8,htmlRaw:1,linkResourceDestinationBalanceMax:32,linkReferenceSizeMax:999,listItemValueSizeMax:10,numericBaseDecimal:10,numericBaseHexadecimal:16,tabSize:4,thematicBreakMarkerCountMin:3,v8MaxSafeChunkSize:1e4},z={data:"data",whitespace:"whitespace",lineEnding:"lineEnding",lineEndingBlank:"lineEndingBlank",linePrefix:"linePrefix",lineSuffix:"lineSuffix",atxHeading:"atxHeading",atxHeadingSequence:"atxHeadingSequence",atxHeadingText:"atxHeadingText",autolink:"autolink",autolinkEmail:"autolinkEmail",autolinkMarker:"autolinkMarker",autolinkProtocol:"autolinkProtocol",characterEscape:"characterEscape",characterEscapeValue:"characterEscapeValue",characterReference:"characterReference",characterReferenceMarker:"characterReferenceMarker",characterReferenceMarkerNumeric:"characterReferenceMarkerNumeric",characterReferenceMarkerHexadecimal:"characterReferenceMarkerHexadecimal",characterReferenceValue:"characterReferenceValue",codeFenced:"codeFenced",codeFencedFence:"codeFencedFence",codeFencedFenceSequence:"codeFencedFenceSequence",codeFencedFenceInfo:"codeFencedFenceInfo",codeFencedFenceMeta:"codeFencedFenceMeta",codeFlowValue:"codeFlowValue",codeIndented:"codeIndented",codeText:"codeText",codeTextData:"codeTextData",codeTextPadding:"codeTextPadding",codeTextSequence:"codeTextSequence",content:"content",definition:"definition",definitionDestination:"definitionDestination",definitionDestinationLiteral:"definitionDestinationLiteral",definitionDestinationLiteralMarker:"definitionDestinationLiteralMarker",definitionDestinationRaw:"definitionDestinationRaw",definitionDestinationString:"definitionDestinationString",definitionLabel:"definitionLabel",definitionLabelMarker:"definitionLabelMarker",definitionLabelString:"definitionLabelString",definitionMarker:"definitionMarker",definitionTitle:"definitionTitle",definitionTitleMarker:"definitionTitleMarker",definitionTitleString:"definitionTitleString",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",escapeMarker:"escapeMarker",hardBreakEscape:"hardBreakEscape",hardBreakTrailing:"hardBreakTrailing",htmlFlow:"htmlFlow",htmlFlowData:"htmlFlowData",htmlText:"htmlText",htmlTextData:"htmlTextData",image:"image",label:"label",labelText:"labelText",labelLink:"labelLink",labelImage:"labelImage",labelMarker:"labelMarker",labelImageMarker:"labelImageMarker",labelEnd:"labelEnd",link:"link",paragraph:"paragraph",reference:"reference",referenceMarker:"referenceMarker",referenceString:"referenceString",resource:"resource",resourceDestination:"resourceDestination",resourceDestinationLiteral:"resourceDestinationLiteral",resourceDestinationLiteralMarker:"resourceDestinationLiteralMarker",resourceDestinationRaw:"resourceDestinationRaw",resourceDestinationString:"resourceDestinationString",resourceMarker:"resourceMarker",resourceTitle:"resourceTitle",resourceTitleMarker:"resourceTitleMarker",resourceTitleString:"resourceTitleString",setextHeading:"setextHeading",setextHeadingText:"setextHeadingText",setextHeadingLine:"setextHeadingLine",setextHeadingLineSequence:"setextHeadingLineSequence",strong:"strong",strongSequence:"strongSequence",strongText:"strongText",thematicBreak:"thematicBreak",thematicBreakSequence:"thematicBreakSequence",blockQuote:"blockQuote",blockQuotePrefix:"blockQuotePrefix",blockQuoteMarker:"blockQuoteMarker",blockQuotePrefixWhitespace:"blockQuotePrefixWhitespace",listOrdered:"listOrdered",listUnordered:"listUnordered",listItemIndent:"listItemIndent",listItemMarker:"listItemMarker",listItemPrefix:"listItemPrefix",listItemPrefixWhitespace:"listItemPrefixWhitespace",listItemValue:"listItemValue",chunkContent:"chunkContent",chunkFlow:"chunkFlow",chunkText:"chunkText",chunkString:"chunkString"},Dr={ht:"	",lf:`
`,cr:"\r",space:" ",replacementCharacter:""};function Br(e,t,n,r){const a=e.length;let o=0,s;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<Be.v8MaxSafeChunkSize)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+Be.v8MaxSafeChunkSize),s.unshift(t,0),e.splice(...s),o+=Be.v8MaxSafeChunkSize,t+=Be.v8MaxSafeChunkSize}function yr(e,t){return e.length>0?(Br(e,e.length,0,t),e):t}const og={}.hasOwnProperty;function QP(e){const t={};let n=-1;for(;++n<e.length;)eN(t,e[n]);return t}function eN(e,t){let n;for(n in t){const a=(og.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;if(o)for(s in o){og.call(a,s)||(a[s]=[]);const l=o[s];tN(a[s],Array.isArray(l)?l:l?[l]:[])}}}function tN(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Br(e,0,0,r)}function Cx(e,t){const n=Number.parseInt(e,t);return n<P.ht||n===P.vt||n>P.cr&&n<P.space||n>P.tilde&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?Dr.replacementCharacter:String.fromCodePoint(n)}function Ii(e){return e.replace(/[\t\n\r ]+/g,Dr.space).replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Lr=Ea(/[A-Za-z]/),er=Ea(/[\dA-Za-z]/),nN=Ea(/[#-'*+\--9=?A-Z^-~]/);function wp(e){return e!==null&&(e<P.space||e===P.del)}const kp=Ea(/\d/),rN=Ea(/[\dA-Fa-f]/),aN=Ea(/[!-/:-@[-`{-~]/);function Ge(e){return e!==null&&e<P.horizontalTab}function Zn(e){return e!==null&&(e<P.nul||e===P.space)}function At(e){return e===P.horizontalTab||e===P.virtualSpace||e===P.space}const iN=Ea(new RegExp("\\p{P}|\\p{S}","u")),oN=Ea(/\s/);function Ea(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Bi(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===P.percentSign&&er(e.charCodeAt(n+1))&&er(e.charCodeAt(n+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const l=e.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(s=String.fromCharCode(o,l),a=1):s=Dr.replacementCharacter}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+a+1,s=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function Dt(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(u){return At(u)?(e.enter(n),l(u)):t(u)}function l(u){return At(u)&&o++<a?(e.consume(u),l):(e.exit(n),t(u))}}const sN={tokenize:lN};function lN(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(l){if(te(l===P.eof||Ge(l),"expected eol or eof"),l===P.eof){e.consume(l);return}return e.enter(z.lineEnding),e.consume(l),e.exit(z.lineEnding),Dt(e,t,z.linePrefix)}function a(l){return te(l!==P.eof&&!Ge(l),"expected anything other than a line ending or EOF"),e.enter(z.paragraph),o(l)}function o(l){const u=e.enter(z.chunkText,{contentType:Be.contentTypeText,previous:n});return n&&(n.next=u),n=u,s(l)}function s(l){if(l===P.eof){e.exit(z.chunkText),e.exit(z.paragraph),e.consume(l);return}return Ge(l)?(e.consume(l),e.exit(z.chunkText),o):(e.consume(l),s)}}const cN={tokenize:uN},sg={tokenize:pN};function uN(e){const t=this,n=[];let r=0,a,o,s;return l;function l(T){if(r<n.length){const I=n[r];return t.containerState=I[1],te(I[0].continuation,"expected `continuation` to be defined on container construct"),e.attempt(I[0].continuation,u,p)(T)}return p(T)}function u(T){if(te(t.containerState,"expected `containerState` to be defined after continuation"),r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&E();const I=t.events.length;let N=I,M;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type===z.chunkFlow){M=t.events[N][1].end;break}te(M,"could not find previous flow chunk"),k(r);let U=I;for(;U<t.events.length;)t.events[U][1].end={...M},U++;return Br(t.events,N+1,0,t.events.slice(I)),t.events.length=U,p(T)}return l(T)}function p(T){if(r===n.length){if(!a)return m(T);if(a.currentConstruct&&a.currentConstruct.concrete)return y(T);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(sg,d,h)(T)}function d(T){return a&&E(),k(r),m(T)}function h(T){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,y(T)}function m(T){return t.containerState={},e.attempt(sg,v,y)(T)}function v(T){return te(t.currentConstruct,"expected `currentConstruct` to be defined on tokenizer"),te(t.containerState,"expected `containerState` to be defined on tokenizer"),r++,n.push([t.currentConstruct,t.containerState]),m(T)}function y(T){if(T===P.eof){a&&E(),k(0),e.consume(T);return}return a=a||t.parser.flow(t.now()),e.enter(z.chunkFlow,{_tokenizer:a,contentType:Be.contentTypeFlow,previous:o}),_(T)}function _(T){if(T===P.eof){b(e.exit(z.chunkFlow),!0),k(0),e.consume(T);return}return Ge(T)?(e.consume(T),b(e.exit(z.chunkFlow)),r=0,t.interrupt=void 0,l):(e.consume(T),_)}function b(T,I){te(a,"expected `childFlow` to be defined when continuing");const N=t.sliceStream(T);if(I&&N.push(null),T.previous=o,o&&(o.next=T),o=T,a.defineSkip(T.start),a.write(N),t.parser.lazy[T.start.line]){let M=a.events.length;for(;M--;)if(a.events[M][1].start.offset<s&&(!a.events[M][1].end||a.events[M][1].end.offset>s))return;const U=t.events.length;let B=U,J,Y;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type===z.chunkFlow){if(J){Y=t.events[B][1].end;break}J=!0}for(te(Y,"could not find previous flow chunk"),k(r),M=U;M<t.events.length;)t.events[M][1].end={...Y},M++;Br(t.events,B+1,0,t.events.slice(U)),t.events.length=M}}function k(T){let I=n.length;for(;I-- >T;){const N=n[I];t.containerState=N[1],te(N[0].exit,"expected `exit` to be defined on container construct"),N[0].exit.call(t,e)}n.length=T}function E(){te(t.containerState,"expected `containerState` to be defined when closing flow"),te(a,"expected `childFlow` to be defined when closing it"),a.write([P.eof]),o=void 0,a=void 0,t.containerState._closeFlow=void 0}}function pN(e,t,n){return te(this.parser.constructs.disable.null,"expected `disable.null` to be populated"),Dt(e,e.attempt(this.parser.constructs.document,t,n),z.linePrefix,this.parser.constructs.disable.null.includes("codeIndented")?void 0:Be.tabSize)}function lg(e){if(e===P.eof||Zn(e)||oN(e))return Be.characterGroupWhitespace;if(iN(e))return Be.characterGroupPunctuation}function Ed(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const o=e[a].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Cp={name:"attention",resolveAll:dN,tokenize:fN};function dN(e,t){let n=-1,r,a,o,s,l,u,p,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},m={...e[n][1].start};cg(h,-u),cg(m,u),s={type:u>1?z.strongSequence:z.emphasisSequence,start:h,end:{...e[r][1].end}},l={type:u>1?z.strongSequence:z.emphasisSequence,start:{...e[n][1].start},end:m},o={type:u>1?z.strongText:z.emphasisText,start:{...e[r][1].end},end:{...e[n][1].start}},a={type:u>1?z.strong:z.emphasis,start:{...s.start},end:{...l.end}},e[r][1].end={...s.start},e[n][1].start={...l.end},p=[],e[r][1].end.offset-e[r][1].start.offset&&(p=yr(p,[["enter",e[r][1],t],["exit",e[r][1],t]])),p=yr(p,[["enter",a,t],["enter",s,t],["exit",s,t],["enter",o,t]]),te(t.parser.constructs.insideSpan.null,"expected `insideSpan` to be populated"),p=yr(p,Ed(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),p=yr(p,[["exit",o,t],["enter",l,t],["exit",l,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,p=yr(p,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Br(e,r-1,n-r+3,p),n=r+p.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function fN(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=lg(r);let o;return s;function s(u){return te(u===P.asterisk||u===P.underscore,"expected asterisk or underscore"),o=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===o)return e.consume(u),l;const p=e.exit("attentionSequence"),d=lg(u);te(n,"expected `attentionMarkers` to be populated");const h=!d||d===Be.characterGroupPunctuation&&a||n.includes(u),m=!a||a===Be.characterGroupPunctuation&&d||n.includes(r);return p._open=!!(o===P.asterisk?h:h&&(a||!m)),p._close=!!(o===P.asterisk?m:m&&(d||!h)),t(u)}}function cg(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const hN={name:"autolink",tokenize:mN};function mN(e,t,n){let r=0;return a;function a(v){return te(v===P.lessThan,"expected `<`"),e.enter(z.autolink),e.enter(z.autolinkMarker),e.consume(v),e.exit(z.autolinkMarker),e.enter(z.autolinkProtocol),o}function o(v){return Lr(v)?(e.consume(v),s):v===P.atSign?n(v):p(v)}function s(v){return v===P.plusSign||v===P.dash||v===P.dot||er(v)?(r=1,l(v)):p(v)}function l(v){return v===P.colon?(e.consume(v),r=0,u):(v===P.plusSign||v===P.dash||v===P.dot||er(v))&&r++<Be.autolinkSchemeSizeMax?(e.consume(v),l):(r=0,p(v))}function u(v){return v===P.greaterThan?(e.exit(z.autolinkProtocol),e.enter(z.autolinkMarker),e.consume(v),e.exit(z.autolinkMarker),e.exit(z.autolink),t):v===P.eof||v===P.space||v===P.lessThan||wp(v)?n(v):(e.consume(v),u)}function p(v){return v===P.atSign?(e.consume(v),d):nN(v)?(e.consume(v),p):n(v)}function d(v){return er(v)?h(v):n(v)}function h(v){return v===P.dot?(e.consume(v),r=0,d):v===P.greaterThan?(e.exit(z.autolinkProtocol).type=z.autolinkEmail,e.enter(z.autolinkMarker),e.consume(v),e.exit(z.autolinkMarker),e.exit(z.autolink),t):m(v)}function m(v){if((v===P.dash||er(v))&&r++<Be.autolinkDomainSizeMax){const y=v===P.dash?m:h;return e.consume(v),y}return n(v)}}const Fl={partial:!0,tokenize:gN};function gN(e,t,n){return r;function r(o){return At(o)?Dt(e,a,z.linePrefix)(o):a(o)}function a(o){return o===P.eof||Ge(o)?t(o):n(o)}}const Sx={continuation:{tokenize:vN},exit:bN,name:"blockQuote",tokenize:yN};function yN(e,t,n){const r=this;return a;function a(s){if(s===P.greaterThan){const l=r.containerState;return te(l,"expected `containerState` to be defined in container"),l.open||(e.enter(z.blockQuote,{_container:!0}),l.open=!0),e.enter(z.blockQuotePrefix),e.enter(z.blockQuoteMarker),e.consume(s),e.exit(z.blockQuoteMarker),o}return n(s)}function o(s){return At(s)?(e.enter(z.blockQuotePrefixWhitespace),e.consume(s),e.exit(z.blockQuotePrefixWhitespace),e.exit(z.blockQuotePrefix),t):(e.exit(z.blockQuotePrefix),t(s))}}function vN(e,t,n){const r=this;return a;function a(s){return At(s)?(te(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Dt(e,o,z.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:Be.tabSize)(s)):o(s)}function o(s){return e.attempt(Sx,t,n)(s)}}function bN(e){e.exit(z.blockQuote)}const Ex={name:"characterEscape",tokenize:xN};function xN(e,t,n){return r;function r(o){return te(o===P.backslash,"expected `\\`"),e.enter(z.characterEscape),e.enter(z.escapeMarker),e.consume(o),e.exit(z.escapeMarker),a}function a(o){return aN(o)?(e.enter(z.characterEscapeValue),e.consume(o),e.exit(z.characterEscapeValue),e.exit(z.characterEscape),t):n(o)}}const Ax={name:"characterReference",tokenize:_N};function _N(e,t,n){const r=this;let a=0,o,s;return l;function l(h){return te(h===P.ampersand,"expected `&`"),e.enter(z.characterReference),e.enter(z.characterReferenceMarker),e.consume(h),e.exit(z.characterReferenceMarker),u}function u(h){return h===P.numberSign?(e.enter(z.characterReferenceMarkerNumeric),e.consume(h),e.exit(z.characterReferenceMarkerNumeric),p):(e.enter(z.characterReferenceValue),o=Be.characterReferenceNamedSizeMax,s=er,d(h))}function p(h){return h===P.uppercaseX||h===P.lowercaseX?(e.enter(z.characterReferenceMarkerHexadecimal),e.consume(h),e.exit(z.characterReferenceMarkerHexadecimal),e.enter(z.characterReferenceValue),o=Be.characterReferenceHexadecimalSizeMax,s=rN,d):(e.enter(z.characterReferenceValue),o=Be.characterReferenceDecimalSizeMax,s=kp,d(h))}function d(h){if(h===P.semicolon&&a){const m=e.exit(z.characterReferenceValue);return s===er&&!Sd(r.sliceSerialize(m))?n(h):(e.enter(z.characterReferenceMarker),e.consume(h),e.exit(z.characterReferenceMarker),e.exit(z.characterReference),t)}return s(h)&&a++<o?(e.consume(h),d):n(h)}}const ug={partial:!0,tokenize:kN},pg={concrete:!0,name:"codeFenced",tokenize:wN};function wN(e,t,n){const r=this,a={partial:!0,tokenize:N};let o=0,s=0,l;return u;function u(M){return p(M)}function p(M){te(M===P.graveAccent||M===P.tilde,"expected `` ` `` or `~`");const U=r.events[r.events.length-1];return o=U&&U[1].type===z.linePrefix?U[2].sliceSerialize(U[1],!0).length:0,l=M,e.enter(z.codeFenced),e.enter(z.codeFencedFence),e.enter(z.codeFencedFenceSequence),d(M)}function d(M){return M===l?(s++,e.consume(M),d):s<Be.codeFencedSequenceSizeMin?n(M):(e.exit(z.codeFencedFenceSequence),At(M)?Dt(e,h,z.whitespace)(M):h(M))}function h(M){return M===P.eof||Ge(M)?(e.exit(z.codeFencedFence),r.interrupt?t(M):e.check(ug,_,I)(M)):(e.enter(z.codeFencedFenceInfo),e.enter(z.chunkString,{contentType:Be.contentTypeString}),m(M))}function m(M){return M===P.eof||Ge(M)?(e.exit(z.chunkString),e.exit(z.codeFencedFenceInfo),h(M)):At(M)?(e.exit(z.chunkString),e.exit(z.codeFencedFenceInfo),Dt(e,v,z.whitespace)(M)):M===P.graveAccent&&M===l?n(M):(e.consume(M),m)}function v(M){return M===P.eof||Ge(M)?h(M):(e.enter(z.codeFencedFenceMeta),e.enter(z.chunkString,{contentType:Be.contentTypeString}),y(M))}function y(M){return M===P.eof||Ge(M)?(e.exit(z.chunkString),e.exit(z.codeFencedFenceMeta),h(M)):M===P.graveAccent&&M===l?n(M):(e.consume(M),y)}function _(M){return te(Ge(M),"expected eol"),e.attempt(a,I,b)(M)}function b(M){return te(Ge(M),"expected eol"),e.enter(z.lineEnding),e.consume(M),e.exit(z.lineEnding),k}function k(M){return o>0&&At(M)?Dt(e,E,z.linePrefix,o+1)(M):E(M)}function E(M){return M===P.eof||Ge(M)?e.check(ug,_,I)(M):(e.enter(z.codeFlowValue),T(M))}function T(M){return M===P.eof||Ge(M)?(e.exit(z.codeFlowValue),E(M)):(e.consume(M),T)}function I(M){return e.exit(z.codeFenced),t(M)}function N(M,U,B){let J=0;return Y;function Y(w){return te(Ge(w),"expected eol"),M.enter(z.lineEnding),M.consume(w),M.exit(z.lineEnding),q}function q(w){return te(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),M.enter(z.codeFencedFence),At(w)?Dt(M,pe,z.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:Be.tabSize)(w):pe(w)}function pe(w){return w===l?(M.enter(z.codeFencedFenceSequence),O(w)):B(w)}function O(w){return w===l?(J++,M.consume(w),O):J>=s?(M.exit(z.codeFencedFenceSequence),At(w)?Dt(M,K,z.whitespace)(w):K(w)):B(w)}function K(w){return w===P.eof||Ge(w)?(M.exit(z.codeFencedFence),U(w)):B(w)}}}function kN(e,t,n){const r=this;return a;function a(s){return s===P.eof?n(s):(te(Ge(s),"expected eol"),e.enter(z.lineEnding),e.consume(s),e.exit(z.lineEnding),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Cu={name:"codeIndented",tokenize:SN},CN={partial:!0,tokenize:EN};function SN(e,t,n){const r=this;return a;function a(p){return te(At(p)),e.enter(z.codeIndented),Dt(e,o,z.linePrefix,Be.tabSize+1)(p)}function o(p){const d=r.events[r.events.length-1];return d&&d[1].type===z.linePrefix&&d[2].sliceSerialize(d[1],!0).length>=Be.tabSize?s(p):n(p)}function s(p){return p===P.eof?u(p):Ge(p)?e.attempt(CN,s,u)(p):(e.enter(z.codeFlowValue),l(p))}function l(p){return p===P.eof||Ge(p)?(e.exit(z.codeFlowValue),s(p)):(e.consume(p),l)}function u(p){return e.exit(z.codeIndented),t(p)}}function EN(e,t,n){const r=this;return a;function a(s){return r.parser.lazy[r.now().line]?n(s):Ge(s)?(e.enter(z.lineEnding),e.consume(s),e.exit(z.lineEnding),a):Dt(e,o,z.linePrefix,Be.tabSize+1)(s)}function o(s){const l=r.events[r.events.length-1];return l&&l[1].type===z.linePrefix&&l[2].sliceSerialize(l[1],!0).length>=Be.tabSize?t(s):Ge(s)?a(s):n(s)}}const AN={name:"codeText",previous:Tx,resolve:TN,tokenize:IN};function TN(e){let t=e.length-4,n=3,r,a;if((e[n][1].type===z.lineEnding||e[n][1].type==="space")&&(e[t][1].type===z.lineEnding||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type===z.codeTextData){e[n][1].type=z.codeTextPadding,e[t][1].type=z.codeTextPadding,n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!==z.lineEnding&&(a=r):(r===t||e[r][1].type===z.lineEnding)&&(e[a][1].type=z.codeTextData,r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function Tx(e){return e!==P.graveAccent||this.events[this.events.length-1][1].type===z.characterEscape}function IN(e,t,n){const r=this;let a=0,o,s;return l;function l(m){return te(m===P.graveAccent,"expected `` ` ``"),te(Tx.call(r,r.previous),"expected correct previous"),e.enter(z.codeText),e.enter(z.codeTextSequence),u(m)}function u(m){return m===P.graveAccent?(e.consume(m),a++,u):(e.exit(z.codeTextSequence),p(m))}function p(m){return m===P.eof?n(m):m===P.space?(e.enter("space"),e.consume(m),e.exit("space"),p):m===P.graveAccent?(s=e.enter(z.codeTextSequence),o=0,h(m)):Ge(m)?(e.enter(z.lineEnding),e.consume(m),e.exit(z.lineEnding),p):(e.enter(z.codeTextData),d(m))}function d(m){return m===P.eof||m===P.space||m===P.graveAccent||Ge(m)?(e.exit(z.codeTextData),p(m)):(e.consume(m),d)}function h(m){return m===P.graveAccent?(e.consume(m),o++,h):o===a?(e.exit(z.codeTextSequence),e.exit(z.codeText),t(m)):(s.type=z.codeTextData,d(m))}}class jN{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&ho(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ho(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ho(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ho(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ho(this.left,n.reverse())}}}function ho(e,t){let n=0;if(t.length<Be.v8MaxSafeChunkSize)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+Be.v8MaxSafeChunkSize)),n+=Be.v8MaxSafeChunkSize}function Ix(e){const t={};let n=-1,r,a,o,s,l,u,p;const d=new jN(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type===z.chunkFlow&&d.get(n-1)[1].type===z.listItemPrefix&&(te(r[1]._tokenizer,"expected `_tokenizer` on subtokens"),u=r[1]._tokenizer.events,o=0,o<u.length&&u[o][1].type===z.lineEndingBlank&&(o+=2),o<u.length&&u[o][1].type===z.content))for(;++o<u.length&&u[o][1].type!==z.content;)u[o][1].type===z.chunkText&&(u[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,RN(d,n)),n=t[n],p=!0);else if(r[1]._container){for(o=n,a=void 0;o--;)if(s=d.get(o),s[1].type===z.lineEnding||s[1].type===z.lineEndingBlank)s[0]==="enter"&&(a&&(d.get(a)[1].type=z.lineEndingBlank),s[1].type=z.lineEnding,a=o);else if(!(s[1].type===z.linePrefix||s[1].type===z.listItemIndent))break;a&&(r[1].end={...d.get(a)[1].start},l=d.slice(a,n),l.unshift(r),d.splice(a,n-a+1,l))}}return Br(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!p}function RN(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const o=[];te(n.contentType,"expected `contentType` on subtokens");let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,u=[],p={};let d,h,m=-1,v=n,y=0,_=0;const b=[_];for(;v;){for(;e.get(++a)[1]!==v;);te(!h||v.previous===h,"expected previous to match"),te(!h||h.next===v,"expected next to match"),o.push(a),v._tokenizer||(d=r.sliceStream(v),v.next||d.push(P.eof),h&&s.defineSkip(v.start),v._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),v._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=v,v=v.next}for(v=n;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(te(v,"expected a current token"),_=m+1,b.push(_),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(s.events=[],v?(v._tokenizer=void 0,v.previous=void 0,te(!v.next,"expected no next token")):b.pop(),m=b.length;m--;){const k=l.slice(b[m],b[m+1]),E=o.pop();te(E!==void 0,"expected a start position when splicing"),u.push([E,E+k.length-1]),e.splice(E,2,k)}for(u.reverse(),m=-1;++m<u.length;)p[y+u[m][0]]=y+u[m][1],y+=u[m][1]-u[m][0]-1;return p}const ON={resolve:zN,tokenize:PN},MN={partial:!0,tokenize:NN};function zN(e){return Ix(e),e}function PN(e,t){let n;return r;function r(l){return te(l!==P.eof&&!Ge(l),"expected no eof or eol"),e.enter(z.content),n=e.enter(z.chunkContent,{contentType:Be.contentTypeContent}),a(l)}function a(l){return l===P.eof?o(l):Ge(l)?e.check(MN,s,o)(l):(e.consume(l),a)}function o(l){return e.exit(z.chunkContent),e.exit(z.content),t(l)}function s(l){return te(Ge(l),"expected eol"),e.consume(l),e.exit(z.chunkContent),te(n,"expected previous token"),n.next=e.enter(z.chunkContent,{contentType:Be.contentTypeContent,previous:n}),n=n.next,a}}function NN(e,t,n){const r=this;return a;function a(s){return te(Ge(s),"expected a line ending"),e.exit(z.chunkContent),e.enter(z.lineEnding),e.consume(s),e.exit(z.lineEnding),Dt(e,o,z.linePrefix)}function o(s){if(s===P.eof||Ge(s))return n(s);te(r.parser.constructs.disable.null,"expected `disable.null` to be populated");const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type===z.linePrefix&&l[2].sliceSerialize(l[1],!0).length>=Be.tabSize?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function jx(e,t,n,r,a,o,s,l,u){const p=u||Number.POSITIVE_INFINITY;let d=0;return h;function h(k){return k===P.lessThan?(e.enter(r),e.enter(a),e.enter(o),e.consume(k),e.exit(o),m):k===P.eof||k===P.space||k===P.rightParenthesis||wp(k)?n(k):(e.enter(r),e.enter(s),e.enter(l),e.enter(z.chunkString,{contentType:Be.contentTypeString}),_(k))}function m(k){return k===P.greaterThan?(e.enter(o),e.consume(k),e.exit(o),e.exit(a),e.exit(r),t):(e.enter(l),e.enter(z.chunkString,{contentType:Be.contentTypeString}),v(k))}function v(k){return k===P.greaterThan?(e.exit(z.chunkString),e.exit(l),m(k)):k===P.eof||k===P.lessThan||Ge(k)?n(k):(e.consume(k),k===P.backslash?y:v)}function y(k){return k===P.lessThan||k===P.greaterThan||k===P.backslash?(e.consume(k),v):v(k)}function _(k){return!d&&(k===P.eof||k===P.rightParenthesis||Zn(k))?(e.exit(z.chunkString),e.exit(l),e.exit(s),e.exit(r),t(k)):d<p&&k===P.leftParenthesis?(e.consume(k),d++,_):k===P.rightParenthesis?(e.consume(k),d--,_):k===P.eof||k===P.space||k===P.leftParenthesis||wp(k)?n(k):(e.consume(k),k===P.backslash?b:_)}function b(k){return k===P.leftParenthesis||k===P.rightParenthesis||k===P.backslash?(e.consume(k),_):_(k)}}function Rx(e,t,n,r,a,o){const s=this;let l=0,u;return p;function p(v){return te(v===P.leftSquareBracket,"expected `[`"),e.enter(r),e.enter(a),e.consume(v),e.exit(a),e.enter(o),d}function d(v){return l>Be.linkReferenceSizeMax||v===P.eof||v===P.leftSquareBracket||v===P.rightSquareBracket&&!u||v===P.caret&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(v):v===P.rightSquareBracket?(e.exit(o),e.enter(a),e.consume(v),e.exit(a),e.exit(r),t):Ge(v)?(e.enter(z.lineEnding),e.consume(v),e.exit(z.lineEnding),d):(e.enter(z.chunkString,{contentType:Be.contentTypeString}),h(v))}function h(v){return v===P.eof||v===P.leftSquareBracket||v===P.rightSquareBracket||Ge(v)||l++>Be.linkReferenceSizeMax?(e.exit(z.chunkString),d(v)):(e.consume(v),u||(u=!At(v)),v===P.backslash?m:h)}function m(v){return v===P.leftSquareBracket||v===P.backslash||v===P.rightSquareBracket?(e.consume(v),l++,h):h(v)}}function Ox(e,t,n,r,a,o){let s;return l;function l(m){return m===P.quotationMark||m===P.apostrophe||m===P.leftParenthesis?(e.enter(r),e.enter(a),e.consume(m),e.exit(a),s=m===P.leftParenthesis?P.rightParenthesis:m,u):n(m)}function u(m){return m===s?(e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):(e.enter(o),p(m))}function p(m){return m===s?(e.exit(o),u(s)):m===P.eof?n(m):Ge(m)?(e.enter(z.lineEnding),e.consume(m),e.exit(z.lineEnding),Dt(e,p,z.linePrefix)):(e.enter(z.chunkString,{contentType:Be.contentTypeString}),d(m))}function d(m){return m===s||m===P.eof||Ge(m)?(e.exit(z.chunkString),p(m)):(e.consume(m),m===P.backslash?h:d)}function h(m){return m===s||m===P.backslash?(e.consume(m),d):d(m)}}function ko(e,t){let n;return r;function r(a){return Ge(a)?(e.enter(z.lineEnding),e.consume(a),e.exit(z.lineEnding),n=!0,r):At(a)?Dt(e,r,n?z.linePrefix:z.lineSuffix)(a):t(a)}}const $N={name:"definition",tokenize:DN},FN={partial:!0,tokenize:LN};function DN(e,t,n){const r=this;let a;return o;function o(v){return e.enter(z.definition),s(v)}function s(v){return te(v===P.leftSquareBracket,"expected `[`"),Rx.call(r,e,l,n,z.definitionLabel,z.definitionLabelMarker,z.definitionLabelString)(v)}function l(v){return a=Ii(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===P.colon?(e.enter(z.definitionMarker),e.consume(v),e.exit(z.definitionMarker),u):n(v)}function u(v){return Zn(v)?ko(e,p)(v):p(v)}function p(v){return jx(e,d,n,z.definitionDestination,z.definitionDestinationLiteral,z.definitionDestinationLiteralMarker,z.definitionDestinationRaw,z.definitionDestinationString)(v)}function d(v){return e.attempt(FN,h,h)(v)}function h(v){return At(v)?Dt(e,m,z.whitespace)(v):m(v)}function m(v){return v===P.eof||Ge(v)?(e.exit(z.definition),r.parser.defined.push(a),t(v)):n(v)}}function LN(e,t,n){return r;function r(l){return Zn(l)?ko(e,a)(l):n(l)}function a(l){return Ox(e,o,n,z.definitionTitle,z.definitionTitleMarker,z.definitionTitleString)(l)}function o(l){return At(l)?Dt(e,s,z.whitespace)(l):s(l)}function s(l){return l===P.eof||Ge(l)?t(l):n(l)}}const BN={name:"hardBreakEscape",tokenize:UN};function UN(e,t,n){return r;function r(o){return te(o===P.backslash,"expected `\\`"),e.enter(z.hardBreakEscape),e.consume(o),a}function a(o){return Ge(o)?(e.exit(z.hardBreakEscape),t(o)):n(o)}}const ZN={name:"headingAtx",resolve:HN,tokenize:qN};function HN(e,t){let n=e.length-2,r=3,a,o;return e[r][1].type===z.whitespace&&(r+=2),n-2>r&&e[n][1].type===z.whitespace&&(n-=2),e[n][1].type===z.atxHeadingSequence&&(r===n-1||n-4>r&&e[n-2][1].type===z.whitespace)&&(n-=r+1===n?2:4),n>r&&(a={type:z.atxHeadingText,start:e[r][1].start,end:e[n][1].end},o={type:z.chunkText,start:e[r][1].start,end:e[n][1].end,contentType:Be.contentTypeText},Br(e,r,n-r+1,[["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t]])),e}function qN(e,t,n){let r=0;return a;function a(d){return e.enter(z.atxHeading),o(d)}function o(d){return te(d===P.numberSign,"expected `#`"),e.enter(z.atxHeadingSequence),s(d)}function s(d){return d===P.numberSign&&r++<Be.atxHeadingOpeningFenceSizeMax?(e.consume(d),s):d===P.eof||Zn(d)?(e.exit(z.atxHeadingSequence),l(d)):n(d)}function l(d){return d===P.numberSign?(e.enter(z.atxHeadingSequence),u(d)):d===P.eof||Ge(d)?(e.exit(z.atxHeading),t(d)):At(d)?Dt(e,l,z.whitespace)(d):(e.enter(z.atxHeadingText),p(d))}function u(d){return d===P.numberSign?(e.consume(d),u):(e.exit(z.atxHeadingSequence),l(d))}function p(d){return d===P.eof||d===P.numberSign||Zn(d)?(e.exit(z.atxHeadingText),l(d)):(e.consume(d),p)}}const WN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],dg=["pre","script","style","textarea"],VN={concrete:!0,name:"htmlFlow",resolveTo:KN,tokenize:YN},GN={partial:!0,tokenize:QN},JN={partial:!0,tokenize:XN};function KN(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type===z.htmlFlow););return t>1&&e[t-2][1].type===z.linePrefix&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function YN(e,t,n){const r=this;let a,o,s,l,u;return p;function p(R){return d(R)}function d(R){return te(R===P.lessThan,"expected `<`"),e.enter(z.htmlFlow),e.enter(z.htmlFlowData),e.consume(R),h}function h(R){return R===P.exclamationMark?(e.consume(R),m):R===P.slash?(e.consume(R),o=!0,_):R===P.questionMark?(e.consume(R),a=Be.htmlInstruction,r.interrupt?t:$):Lr(R)?(te(R!==null),e.consume(R),s=String.fromCharCode(R),b):n(R)}function m(R){return R===P.dash?(e.consume(R),a=Be.htmlComment,v):R===P.leftSquareBracket?(e.consume(R),a=Be.htmlCdata,l=0,y):Lr(R)?(e.consume(R),a=Be.htmlDeclaration,r.interrupt?t:$):n(R)}function v(R){return R===P.dash?(e.consume(R),r.interrupt?t:$):n(R)}function y(R){const Ne=Be.cdataOpeningString;return R===Ne.charCodeAt(l++)?(e.consume(R),l===Ne.length?r.interrupt?t:pe:y):n(R)}function _(R){return Lr(R)?(te(R!==null),e.consume(R),s=String.fromCharCode(R),b):n(R)}function b(R){if(R===P.eof||R===P.slash||R===P.greaterThan||Zn(R)){const Ne=R===P.slash,Q=s.toLowerCase();return!Ne&&!o&&dg.includes(Q)?(a=Be.htmlRaw,r.interrupt?t(R):pe(R)):WN.includes(s.toLowerCase())?(a=Be.htmlBasic,Ne?(e.consume(R),k):r.interrupt?t(R):pe(R)):(a=Be.htmlComplete,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):o?E(R):T(R))}return R===P.dash||er(R)?(e.consume(R),s+=String.fromCharCode(R),b):n(R)}function k(R){return R===P.greaterThan?(e.consume(R),r.interrupt?t:pe):n(R)}function E(R){return At(R)?(e.consume(R),E):Y(R)}function T(R){return R===P.slash?(e.consume(R),Y):R===P.colon||R===P.underscore||Lr(R)?(e.consume(R),I):At(R)?(e.consume(R),T):Y(R)}function I(R){return R===P.dash||R===P.dot||R===P.colon||R===P.underscore||er(R)?(e.consume(R),I):N(R)}function N(R){return R===P.equalsTo?(e.consume(R),M):At(R)?(e.consume(R),N):T(R)}function M(R){return R===P.eof||R===P.lessThan||R===P.equalsTo||R===P.greaterThan||R===P.graveAccent?n(R):R===P.quotationMark||R===P.apostrophe?(e.consume(R),u=R,U):At(R)?(e.consume(R),M):B(R)}function U(R){return R===u?(e.consume(R),u=null,J):R===P.eof||Ge(R)?n(R):(e.consume(R),U)}function B(R){return R===P.eof||R===P.quotationMark||R===P.apostrophe||R===P.slash||R===P.lessThan||R===P.equalsTo||R===P.greaterThan||R===P.graveAccent||Zn(R)?N(R):(e.consume(R),B)}function J(R){return R===P.slash||R===P.greaterThan||At(R)?T(R):n(R)}function Y(R){return R===P.greaterThan?(e.consume(R),q):n(R)}function q(R){return R===P.eof||Ge(R)?pe(R):At(R)?(e.consume(R),q):n(R)}function pe(R){return R===P.dash&&a===Be.htmlComment?(e.consume(R),L):R===P.lessThan&&a===Be.htmlRaw?(e.consume(R),Ae):R===P.greaterThan&&a===Be.htmlDeclaration?(e.consume(R),Re):R===P.questionMark&&a===Be.htmlInstruction?(e.consume(R),$):R===P.rightSquareBracket&&a===Be.htmlCdata?(e.consume(R),fe):Ge(R)&&(a===Be.htmlBasic||a===Be.htmlComplete)?(e.exit(z.htmlFlowData),e.check(GN,se,O)(R)):R===P.eof||Ge(R)?(e.exit(z.htmlFlowData),O(R)):(e.consume(R),pe)}function O(R){return e.check(JN,K,se)(R)}function K(R){return te(Ge(R)),e.enter(z.lineEnding),e.consume(R),e.exit(z.lineEnding),w}function w(R){return R===P.eof||Ge(R)?O(R):(e.enter(z.htmlFlowData),pe(R))}function L(R){return R===P.dash?(e.consume(R),$):pe(R)}function Ae(R){return R===P.slash?(e.consume(R),s="",de):pe(R)}function de(R){if(R===P.greaterThan){const Ne=s.toLowerCase();return dg.includes(Ne)?(e.consume(R),Re):pe(R)}return Lr(R)&&s.length<Be.htmlRawSizeMax?(te(R!==null),e.consume(R),s+=String.fromCharCode(R),de):pe(R)}function fe(R){return R===P.rightSquareBracket?(e.consume(R),$):pe(R)}function $(R){return R===P.greaterThan?(e.consume(R),Re):R===P.dash&&a===Be.htmlComment?(e.consume(R),$):pe(R)}function Re(R){return R===P.eof||Ge(R)?(e.exit(z.htmlFlowData),se(R)):(e.consume(R),Re)}function se(R){return e.exit(z.htmlFlow),t(R)}}function XN(e,t,n){const r=this;return a;function a(s){return Ge(s)?(e.enter(z.lineEnding),e.consume(s),e.exit(z.lineEnding),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function QN(e,t,n){return r;function r(a){return te(Ge(a),"expected a line ending"),e.enter(z.lineEnding),e.consume(a),e.exit(z.lineEnding),e.attempt(Fl,t,n)}}const e$={name:"htmlText",tokenize:t$};function t$(e,t,n){const r=this;let a,o,s;return l;function l($){return te($===P.lessThan,"expected `<`"),e.enter(z.htmlText),e.enter(z.htmlTextData),e.consume($),u}function u($){return $===P.exclamationMark?(e.consume($),p):$===P.slash?(e.consume($),N):$===P.questionMark?(e.consume($),T):Lr($)?(e.consume($),B):n($)}function p($){return $===P.dash?(e.consume($),d):$===P.leftSquareBracket?(e.consume($),o=0,y):Lr($)?(e.consume($),E):n($)}function d($){return $===P.dash?(e.consume($),v):n($)}function h($){return $===P.eof?n($):$===P.dash?(e.consume($),m):Ge($)?(s=h,Ae($)):(e.consume($),h)}function m($){return $===P.dash?(e.consume($),v):h($)}function v($){return $===P.greaterThan?L($):$===P.dash?m($):h($)}function y($){const Re=Be.cdataOpeningString;return $===Re.charCodeAt(o++)?(e.consume($),o===Re.length?_:y):n($)}function _($){return $===P.eof?n($):$===P.rightSquareBracket?(e.consume($),b):Ge($)?(s=_,Ae($)):(e.consume($),_)}function b($){return $===P.rightSquareBracket?(e.consume($),k):_($)}function k($){return $===P.greaterThan?L($):$===P.rightSquareBracket?(e.consume($),k):_($)}function E($){return $===P.eof||$===P.greaterThan?L($):Ge($)?(s=E,Ae($)):(e.consume($),E)}function T($){return $===P.eof?n($):$===P.questionMark?(e.consume($),I):Ge($)?(s=T,Ae($)):(e.consume($),T)}function I($){return $===P.greaterThan?L($):T($)}function N($){return Lr($)?(e.consume($),M):n($)}function M($){return $===P.dash||er($)?(e.consume($),M):U($)}function U($){return Ge($)?(s=U,Ae($)):At($)?(e.consume($),U):L($)}function B($){return $===P.dash||er($)?(e.consume($),B):$===P.slash||$===P.greaterThan||Zn($)?J($):n($)}function J($){return $===P.slash?(e.consume($),L):$===P.colon||$===P.underscore||Lr($)?(e.consume($),Y):Ge($)?(s=J,Ae($)):At($)?(e.consume($),J):L($)}function Y($){return $===P.dash||$===P.dot||$===P.colon||$===P.underscore||er($)?(e.consume($),Y):q($)}function q($){return $===P.equalsTo?(e.consume($),pe):Ge($)?(s=q,Ae($)):At($)?(e.consume($),q):J($)}function pe($){return $===P.eof||$===P.lessThan||$===P.equalsTo||$===P.greaterThan||$===P.graveAccent?n($):$===P.quotationMark||$===P.apostrophe?(e.consume($),a=$,O):Ge($)?(s=pe,Ae($)):At($)?(e.consume($),pe):(e.consume($),K)}function O($){return $===a?(e.consume($),a=void 0,w):$===P.eof?n($):Ge($)?(s=O,Ae($)):(e.consume($),O)}function K($){return $===P.eof||$===P.quotationMark||$===P.apostrophe||$===P.lessThan||$===P.equalsTo||$===P.graveAccent?n($):$===P.slash||$===P.greaterThan||Zn($)?J($):(e.consume($),K)}function w($){return $===P.slash||$===P.greaterThan||Zn($)?J($):n($)}function L($){return $===P.greaterThan?(e.consume($),e.exit(z.htmlTextData),e.exit(z.htmlText),t):n($)}function Ae($){return te(s,"expected return state"),te(Ge($),"expected eol"),e.exit(z.htmlTextData),e.enter(z.lineEnding),e.consume($),e.exit(z.lineEnding),de}function de($){return te(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),At($)?Dt(e,fe,z.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:Be.tabSize)($):fe($)}function fe($){return e.enter(z.htmlTextData),s($)}}const Ad={name:"labelEnd",resolveAll:i$,resolveTo:o$,tokenize:s$},n$={tokenize:l$},r$={tokenize:c$},a$={tokenize:u$};function i$(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type===z.labelImage||r.type===z.labelLink||r.type===z.labelEnd){const a=r.type===z.labelImage?4:2;r.type=z.data,t+=a}}return e.length!==n.length&&Br(e,0,e.length,n),e}function o$(e,t){let n=e.length,r=0,a,o,s,l;for(;n--;)if(a=e[n][1],o){if(a.type===z.link||a.type===z.labelLink&&a._inactive)break;e[n][0]==="enter"&&a.type===z.labelLink&&(a._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(a.type===z.labelImage||a.type===z.labelLink)&&!a._balanced&&(o=n,a.type!==z.labelLink)){r=2;break}}else a.type===z.labelEnd&&(s=n);te(o!==void 0,"`open` is supposed to be found"),te(s!==void 0,"`close` is supposed to be found");const u={type:e[o][1].type===z.labelLink?z.link:z.image,start:{...e[o][1].start},end:{...e[e.length-1][1].end}},p={type:z.label,start:{...e[o][1].start},end:{...e[s][1].end}},d={type:z.labelText,start:{...e[o+r+2][1].end},end:{...e[s-2][1].start}};return l=[["enter",u,t],["enter",p,t]],l=yr(l,e.slice(o+1,o+r+3)),l=yr(l,[["enter",d,t]]),te(t.parser.constructs.insideSpan.null,"expected `insideSpan.null` to be populated"),l=yr(l,Ed(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),l=yr(l,[["exit",d,t],e[s-2],e[s-1],["exit",p,t]]),l=yr(l,e.slice(s+1)),l=yr(l,[["exit",u,t]]),Br(e,o,e.length,l),e}function s$(e,t,n){const r=this;let a=r.events.length,o,s;for(;a--;)if((r.events[a][1].type===z.labelImage||r.events[a][1].type===z.labelLink)&&!r.events[a][1]._balanced){o=r.events[a][1];break}return l;function l(m){return te(m===P.rightSquareBracket,"expected `]`"),o?o._inactive?h(m):(s=r.parser.defined.includes(Ii(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter(z.labelEnd),e.enter(z.labelMarker),e.consume(m),e.exit(z.labelMarker),e.exit(z.labelEnd),u):n(m)}function u(m){return m===P.leftParenthesis?e.attempt(n$,d,s?d:h)(m):m===P.leftSquareBracket?e.attempt(r$,d,s?p:h)(m):s?d(m):h(m)}function p(m){return e.attempt(a$,d,h)(m)}function d(m){return t(m)}function h(m){return o._balanced=!0,n(m)}}function l$(e,t,n){return r;function r(h){return te(h===P.leftParenthesis,"expected left paren"),e.enter(z.resource),e.enter(z.resourceMarker),e.consume(h),e.exit(z.resourceMarker),a}function a(h){return Zn(h)?ko(e,o)(h):o(h)}function o(h){return h===P.rightParenthesis?d(h):jx(e,s,l,z.resourceDestination,z.resourceDestinationLiteral,z.resourceDestinationLiteralMarker,z.resourceDestinationRaw,z.resourceDestinationString,Be.linkResourceDestinationBalanceMax)(h)}function s(h){return Zn(h)?ko(e,u)(h):d(h)}function l(h){return n(h)}function u(h){return h===P.quotationMark||h===P.apostrophe||h===P.leftParenthesis?Ox(e,p,n,z.resourceTitle,z.resourceTitleMarker,z.resourceTitleString)(h):d(h)}function p(h){return Zn(h)?ko(e,d)(h):d(h)}function d(h){return h===P.rightParenthesis?(e.enter(z.resourceMarker),e.consume(h),e.exit(z.resourceMarker),e.exit(z.resource),t):n(h)}}function c$(e,t,n){const r=this;return a;function a(l){return te(l===P.leftSquareBracket,"expected left bracket"),Rx.call(r,e,o,s,z.reference,z.referenceMarker,z.referenceString)(l)}function o(l){return r.parser.defined.includes(Ii(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function s(l){return n(l)}}function u$(e,t,n){return r;function r(o){return te(o===P.leftSquareBracket,"expected left bracket"),e.enter(z.reference),e.enter(z.referenceMarker),e.consume(o),e.exit(z.referenceMarker),a}function a(o){return o===P.rightSquareBracket?(e.enter(z.referenceMarker),e.consume(o),e.exit(z.referenceMarker),e.exit(z.reference),t):n(o)}}const p$={name:"labelStartImage",resolveAll:Ad.resolveAll,tokenize:d$};function d$(e,t,n){const r=this;return a;function a(l){return te(l===P.exclamationMark,"expected `!`"),e.enter(z.labelImage),e.enter(z.labelImageMarker),e.consume(l),e.exit(z.labelImageMarker),o}function o(l){return l===P.leftSquareBracket?(e.enter(z.labelMarker),e.consume(l),e.exit(z.labelMarker),e.exit(z.labelImage),s):n(l)}function s(l){return l===P.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const f$={name:"labelStartLink",resolveAll:Ad.resolveAll,tokenize:h$};function h$(e,t,n){const r=this;return a;function a(s){return te(s===P.leftSquareBracket,"expected `[`"),e.enter(z.labelLink),e.enter(z.labelMarker),e.consume(s),e.exit(z.labelMarker),e.exit(z.labelLink),o}function o(s){return s===P.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Su={name:"lineEnding",tokenize:m$};function m$(e,t){return n;function n(r){return te(Ge(r),"expected eol"),e.enter(z.lineEnding),e.consume(r),e.exit(z.lineEnding),Dt(e,t,z.linePrefix)}}const Ys={name:"thematicBreak",tokenize:g$};function g$(e,t,n){let r=0,a;return o;function o(p){return e.enter(z.thematicBreak),s(p)}function s(p){return te(p===P.asterisk||p===P.dash||p===P.underscore,"expected `*`, `-`, or `_`"),a=p,l(p)}function l(p){return p===a?(e.enter(z.thematicBreakSequence),u(p)):r>=Be.thematicBreakMarkerCountMin&&(p===P.eof||Ge(p))?(e.exit(z.thematicBreak),t(p)):n(p)}function u(p){return p===a?(e.consume(p),r++,u):(e.exit(z.thematicBreakSequence),At(p)?Dt(e,l,z.whitespace)(p):l(p))}}const Bn={continuation:{tokenize:x$},exit:w$,name:"list",tokenize:b$},y$={partial:!0,tokenize:k$},v$={partial:!0,tokenize:_$};function b$(e,t,n){const r=this,a=r.events[r.events.length-1];let o=a&&a[1].type===z.linePrefix?a[2].sliceSerialize(a[1],!0).length:0,s=0;return l;function l(v){te(r.containerState,"expected state");const y=r.containerState.type||(v===P.asterisk||v===P.plusSign||v===P.dash?z.listUnordered:z.listOrdered);if(y===z.listUnordered?!r.containerState.marker||v===r.containerState.marker:kp(v)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y===z.listUnordered)return e.enter(z.listItemPrefix),v===P.asterisk||v===P.dash?e.check(Ys,n,p)(v):p(v);if(!r.interrupt||v===P.digit1)return e.enter(z.listItemPrefix),e.enter(z.listItemValue),u(v)}return n(v)}function u(v){return te(r.containerState,"expected state"),kp(v)&&++s<Be.listItemValueSizeMax?(e.consume(v),u):(!r.interrupt||s<2)&&(r.containerState.marker?v===r.containerState.marker:v===P.rightParenthesis||v===P.dot)?(e.exit(z.listItemValue),p(v)):n(v)}function p(v){return te(r.containerState,"expected state"),te(v!==P.eof,"eof (`null`) is not a marker"),e.enter(z.listItemMarker),e.consume(v),e.exit(z.listItemMarker),r.containerState.marker=r.containerState.marker||v,e.check(Fl,r.interrupt?n:d,e.attempt(y$,m,h))}function d(v){return te(r.containerState,"expected state"),r.containerState.initialBlankLine=!0,o++,m(v)}function h(v){return At(v)?(e.enter(z.listItemPrefixWhitespace),e.consume(v),e.exit(z.listItemPrefixWhitespace),m):n(v)}function m(v){return te(r.containerState,"expected state"),r.containerState.size=o+r.sliceSerialize(e.exit(z.listItemPrefix),!0).length,t(v)}}function x$(e,t,n){const r=this;return te(r.containerState,"expected state"),r.containerState._closeFlow=void 0,e.check(Fl,a,o);function a(l){return te(r.containerState,"expected state"),te(typeof r.containerState.size=="number","expected size"),r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Dt(e,t,z.listItemIndent,r.containerState.size+1)(l)}function o(l){return te(r.containerState,"expected state"),r.containerState.furtherBlankLines||!At(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(v$,t,s)(l))}function s(l){return te(r.containerState,"expected state"),r.containerState._closeFlow=!0,r.interrupt=void 0,te(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Dt(e,e.attempt(Bn,t,n),z.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:Be.tabSize)(l)}}function _$(e,t,n){const r=this;return te(r.containerState,"expected state"),te(typeof r.containerState.size=="number","expected size"),Dt(e,a,z.listItemIndent,r.containerState.size+1);function a(o){te(r.containerState,"expected state");const s=r.events[r.events.length-1];return s&&s[1].type===z.listItemIndent&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function w$(e){te(this.containerState,"expected state"),te(typeof this.containerState.type=="string","expected type"),e.exit(this.containerState.type)}function k$(e,t,n){const r=this;return te(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Dt(e,a,z.listItemPrefixWhitespace,r.parser.constructs.disable.null.includes("codeIndented")?void 0:Be.tabSize+1);function a(o){const s=r.events[r.events.length-1];return!At(o)&&s&&s[1].type===z.listItemPrefixWhitespace?t(o):n(o)}}const fg={name:"setextUnderline",resolveTo:C$,tokenize:S$};function C$(e,t){let n=e.length,r,a,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type===z.content){r=n;break}e[n][1].type===z.paragraph&&(a=n)}else e[n][1].type===z.content&&e.splice(n,1),!o&&e[n][1].type===z.definition&&(o=n);te(a!==void 0,"expected a `text` index to be found"),te(r!==void 0,"expected a `text` index to be found"),te(e[r][2]===t,"enter context should be same"),te(e[e.length-1][2]===t,"enter context should be same");const s={type:z.setextHeading,start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type=z.setextHeadingText,o?(e.splice(a,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function S$(e,t,n){const r=this;let a;return o;function o(p){let d=r.events.length,h;for(te(p===P.dash||p===P.equalsTo,"expected `=` or `-`");d--;)if(r.events[d][1].type!==z.lineEnding&&r.events[d][1].type!==z.linePrefix&&r.events[d][1].type!==z.content){h=r.events[d][1].type===z.paragraph;break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter(z.setextHeadingLine),a=p,s(p)):n(p)}function s(p){return e.enter(z.setextHeadingLineSequence),l(p)}function l(p){return p===a?(e.consume(p),l):(e.exit(z.setextHeadingLineSequence),At(p)?Dt(e,u,z.lineSuffix)(p):u(p))}function u(p){return p===P.eof||Ge(p)?(e.exit(z.setextHeadingLine),t(p)):n(p)}}const E$={tokenize:A$};function A$(e){const t=this,n=e.attempt(Fl,r,e.attempt(this.parser.constructs.flowInitial,a,Dt(e,e.attempt(this.parser.constructs.flow,a,e.attempt(ON,a)),z.linePrefix)));return n;function r(o){if(te(o===P.eof||Ge(o),"expected eol or eof"),o===P.eof){e.consume(o);return}return e.enter(z.lineEndingBlank),e.consume(o),e.exit(z.lineEndingBlank),t.currentConstruct=void 0,n}function a(o){if(te(o===P.eof||Ge(o),"expected eol or eof"),o===P.eof){e.consume(o);return}return e.enter(z.lineEnding),e.consume(o),e.exit(z.lineEnding),t.currentConstruct=void 0,n}}const T$={resolveAll:zx()},I$=Mx("string"),j$=Mx("text");function Mx(e){return{resolveAll:zx(e==="text"?R$:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],o=n.attempt(a,s,l);return s;function s(d){return p(d)?o(d):l(d)}function l(d){if(d===P.eof){n.consume(d);return}return n.enter(z.data),n.consume(d),u}function u(d){return p(d)?(n.exit(z.data),o(d)):(n.consume(d),u)}function p(d){if(d===P.eof)return!0;const h=a[d];let m=-1;if(h)for(te(Array.isArray(h),"expected `disable.null` to be populated");++m<h.length;){const v=h[m];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function zx(e){return t;function t(n,r){let a=-1,o;for(;++a<=n.length;)o===void 0?n[a]&&n[a][1].type===z.data&&(o=a,a++):(!n[a]||n[a][1].type!==z.data)&&(a!==o+2&&(n[o][1].end=n[a-1][1].end,n.splice(o+2,a-o-2),a=o+2),o=void 0);return e?e(n,r):n}}function R$(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type===z.lineEnding)&&e[n-1][1].type===z.data){const r=e[n-1][1],a=t.sliceStream(r);let o=a.length,s=-1,l=0,u;for(;o--;){const p=a[o];if(typeof p=="string"){for(s=p.length;p.charCodeAt(s-1)===P.space;)l++,s--;if(s)break;s=-1}else if(p===P.horizontalTab)u=!0,l++;else if(p!==P.virtualSpace){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const p={type:n===e.length||u||l<Be.hardBreakPrefixSizeMin?z.lineSuffix:z.hardBreakTrailing,start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(e.splice(n,0,["enter",p,t],["exit",p,t]),n+=2)}n++}return e}const O$={[P.asterisk]:Bn,[P.plusSign]:Bn,[P.dash]:Bn,[P.digit0]:Bn,[P.digit1]:Bn,[P.digit2]:Bn,[P.digit3]:Bn,[P.digit4]:Bn,[P.digit5]:Bn,[P.digit6]:Bn,[P.digit7]:Bn,[P.digit8]:Bn,[P.digit9]:Bn,[P.greaterThan]:Sx},M$={[P.leftSquareBracket]:$N},z$={[P.horizontalTab]:Cu,[P.virtualSpace]:Cu,[P.space]:Cu},P$={[P.numberSign]:ZN,[P.asterisk]:Ys,[P.dash]:[fg,Ys],[P.lessThan]:VN,[P.equalsTo]:fg,[P.underscore]:Ys,[P.graveAccent]:pg,[P.tilde]:pg},N$={[P.ampersand]:Ax,[P.backslash]:Ex},$$={[P.carriageReturn]:Su,[P.lineFeed]:Su,[P.carriageReturnLineFeed]:Su,[P.exclamationMark]:p$,[P.ampersand]:Ax,[P.asterisk]:Cp,[P.lessThan]:[hN,e$],[P.leftSquareBracket]:f$,[P.backslash]:[BN,Ex],[P.rightSquareBracket]:Ad,[P.underscore]:Cp,[P.graveAccent]:AN},F$={null:[Cp,T$]},D$={null:[P.asterisk,P.underscore]},L$={null:[]},B$=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:D$,contentInitial:M$,disable:L$,document:O$,flow:P$,flowInitial:z$,insideSpan:F$,string:N$,text:$$},Symbol.toStringTag,{value:"Module"}));var Sp={exports:{}},Eu,hg;function U$(){if(hg)return Eu;hg=1;var e=1e3,t=e*60,n=t*60,r=n*24,a=r*7,o=r*365.25;Eu=function(d,h){h=h||{};var m=typeof d;if(m==="string"&&d.length>0)return s(d);if(m==="number"&&isFinite(d))return h.long?u(d):l(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(h){var m=parseFloat(h[1]),v=(h[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return m*o;case"weeks":case"week":case"w":return m*a;case"days":case"day":case"d":return m*r;case"hours":case"hour":case"hrs":case"hr":case"h":return m*n;case"minutes":case"minute":case"mins":case"min":case"m":return m*t;case"seconds":case"second":case"secs":case"sec":case"s":return m*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function l(d){var h=Math.abs(d);return h>=r?Math.round(d/r)+"d":h>=n?Math.round(d/n)+"h":h>=t?Math.round(d/t)+"m":h>=e?Math.round(d/e)+"s":d+"ms"}function u(d){var h=Math.abs(d);return h>=r?p(d,h,r,"day"):h>=n?p(d,h,n,"hour"):h>=t?p(d,h,t,"minute"):h>=e?p(d,h,e,"second"):d+" ms"}function p(d,h,m,v){var y=h>=m*1.5;return Math.round(d/m)+" "+v+(y?"s":"")}return Eu}function Z$(e){n.debug=n,n.default=n,n.coerce=u,n.disable=o,n.enable=a,n.enabled=s,n.humanize=U$(),n.destroy=p,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let h=0;for(let m=0;m<d.length;m++)h=(h<<5)-h+d.charCodeAt(m),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=t;function n(d){let h,m=null,v,y;function _(...b){if(!_.enabled)return;const k=_,E=Number(new Date),T=E-(h||E);k.diff=T,k.prev=h,k.curr=E,h=E,b[0]=n.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let I=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(M,U)=>{if(M==="%%")return"%";I++;const B=n.formatters[U];if(typeof B=="function"){const J=b[I];M=B.call(k,J),b.splice(I,1),I--}return M}),n.formatArgs.call(k,b),(k.log||n.log).apply(k,b)}return _.namespace=d,_.useColors=n.useColors(),_.color=n.selectColor(d),_.extend=r,_.destroy=n.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(v!==n.namespaces&&(v=n.namespaces,y=n.enabled(d)),y),set:b=>{m=b}}),typeof n.init=="function"&&n.init(_),_}function r(d,h){const m=n(this.namespace+(typeof h>"u"?":":h)+d);return m.log=this.log,m}function a(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let h;const m=(typeof d=="string"?d:"").split(/[\s,]+/),v=m.length;for(h=0;h<v;h++)m[h]&&(d=m[h].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function o(){const d=[...n.names.map(l),...n.skips.map(l).map(h=>"-"+h)].join(",");return n.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let h,m;for(h=0,m=n.skips.length;h<m;h++)if(n.skips[h].test(d))return!1;for(h=0,m=n.names.length;h<m;h++)if(n.names[h].test(d))return!0;return!1}function l(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function u(d){return d instanceof Error?d.stack||d.message:d}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var H$=Z$;(function(e,t){var n={},r={};t.formatArgs=o,t.save=s,t.load=l,t.useColors=a,t.storage=u(),t.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;d.splice(1,0,h,"color: inherit");let m=0,v=0;d[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(m++,y==="%c"&&(v=m))}),d.splice(v,0,h)}t.log=console.debug||console.log||(()=>{});function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function l(){let d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof n<"u"&&"env"in n&&(d=r.DEBUG),d}function u(){try{return localStorage}catch{}}e.exports=H$(t);const{formatters:p}=e.exports;p.j=function(d){try{return JSON.stringify(d)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}})(Sp,Sp.exports);var q$=Sp.exports;const W$=wn(q$),Da=W$("micromark");function V$(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},o=[];let s=[],l=[],u=!0;const p={attempt:J(U),check:J(B),consume:I,enter:N,exit:M,interrupt:J(B,{interrupt:!0})},d={code:P.eof,containerState:{},defineSkip:k,events:[],now:b,parser:e,previous:P.eof,sliceSerialize:y,sliceStream:_,write:v};let h=t.tokenize.call(d,p),m;return t.resolveAll&&o.push(t),d;function v(O){return s=yr(s,O),E(),s[s.length-1]!==P.eof?[]:(Y(t,0),d.events=Ed(o,d.events,d),d.events)}function y(O,K){return J$(_(O),K)}function _(O){return G$(s,O)}function b(){const{_bufferIndex:O,_index:K,line:w,column:L,offset:Ae}=r;return{_bufferIndex:O,_index:K,line:w,column:L,offset:Ae}}function k(O){a[O.line]=O.column,pe(),Da("position: define skip: `%j`",r)}function E(){let O;for(;r._index<s.length;){const K=s[r._index];if(typeof K=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<K.length;)T(K.charCodeAt(r._bufferIndex));else T(K)}}function T(O){te(u===!0,"expected character to be consumed"),u=void 0,Da("main: passing `%s` to %s",O,h&&h.name),m=O,te(typeof h=="function","expected state"),h=h(O)}function I(O){te(O===m,"expected given code to equal expected code"),Da("consume: `%s`",O),te(u===void 0,"expected code to not have been consumed: this might be because `return x(code)` instead of `return x` was used"),te(O===null?d.events.length===0||d.events[d.events.length-1][0]==="exit":d.events[d.events.length-1][0]==="enter","expected last token to be open"),Ge(O)?(r.line++,r.column=1,r.offset+=O===P.carriageReturnLineFeed?2:1,pe(),Da("position: after eol: `%j`",r)):O!==P.virtualSpace&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=O,u=!0}function N(O,K){const w=K||{};return w.type=O,w.start=b(),te(typeof O=="string","expected string type"),te(O.length>0,"expected non-empty string"),Da("enter: `%s`",O),d.events.push(["enter",w,d]),l.push(w),w}function M(O){te(typeof O=="string","expected string type"),te(O.length>0,"expected non-empty string");const K=l.pop();return te(K,"cannot close w/o open tokens"),K.end=b(),te(O===K.type,"expected exit token to match current token"),te(!(K.start._index===K.end._index&&K.start._bufferIndex===K.end._bufferIndex),"expected non-empty token (`"+O+"`)"),Da("exit: `%s`",K.type),d.events.push(["exit",K,d]),K}function U(O,K){Y(O,K.from)}function B(O,K){K.restore()}function J(O,K){return w;function w(L,Ae,de){let fe,$,Re,se;return Array.isArray(L)?Ne(L):"tokenize"in L?Ne([L]):R(L);function R(Se){return ce;function ce(je){const me=je!==null&&Se[je],Te=je!==null&&Se.null,qe=[...Array.isArray(me)?me:me?[me]:[],...Array.isArray(Te)?Te:Te?[Te]:[]];return Ne(qe)(je)}}function Ne(Se){return fe=Se,$=0,Se.length===0?(te(de,"expected `bogusState` to be given"),de):Q(Se[$])}function Q(Se){return ce;function ce(je){return se=q(),Re=Se,Se.partial||(d.currentConstruct=Se),te(d.parser.constructs.disable.null,"expected `disable.null` to be populated"),Se.name&&d.parser.constructs.disable.null.includes(Se.name)?we(je):Se.tokenize.call(K?Object.assign(Object.create(d),K):d,p,W,we)(je)}}function W(Se){return te(Se===m,"expected code"),u=!0,O(Re,se),Ae}function we(Se){return te(Se===m,"expected code"),u=!0,se.restore(),++$<fe.length?Q(fe[$]):de}}}function Y(O,K){O.resolveAll&&!o.includes(O)&&o.push(O),O.resolve&&Br(d.events,K,d.events.length-K,O.resolve(d.events.slice(K),d)),O.resolveTo&&(d.events=O.resolveTo(d.events,d)),te(O.partial||d.events.length===0||d.events[d.events.length-1][0]==="exit","expected last token to end")}function q(){const O=b(),K=d.previous,w=d.currentConstruct,L=d.events.length,Ae=Array.from(l);return{from:L,restore:de};function de(){r=O,d.previous=K,d.currentConstruct=w,d.events.length=L,l=Ae,pe(),Da("position: restore: `%j`",r)}}function pe(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function G$(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,o=t.end._bufferIndex;let s;if(n===a)te(o>-1,"expected non-negative end buffer index"),te(r>-1,"expected non-negative start buffer index"),s=[e[n].slice(r,o)];else{if(s=e.slice(n,a),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):(te(r===0,"expected `startBufferIndex` to be `0`"),s.shift())}o>0&&s.push(e[a].slice(0,o))}return s}function J$(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case P.carriageReturn:{s=Dr.cr;break}case P.lineFeed:{s=Dr.lf;break}case P.carriageReturnLineFeed:{s=Dr.cr+Dr.lf;break}case P.horizontalTab:{s=t?Dr.space:Dr.ht;break}case P.virtualSpace:{if(!t&&a)continue;s=Dr.space;break}default:te(typeof o=="number","expected number"),s=String.fromCharCode(o)}a=o===P.horizontalTab,r.push(s)}return r.join("")}function K$(e){const r={constructs:QP([B$,...(e||{}).extensions||[]]),content:a(sN),defined:[],document:a(cN),flow:a(E$),lazy:{},string:a(I$),text:a(j$)};return r;function a(o){return s;function s(l){return V$(r,o,l)}}}function Y$(e){for(;!Ix(e););return e}const mg=/[\0\t\n\r]/g;function X$(){let e=1,t="",n=!0,r;return a;function a(o,s,l){const u=[];let p,d,h,m,v;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),h=0,t="",n&&(o.charCodeAt(0)===P.byteOrderMarker&&h++,n=void 0);h<o.length;){if(mg.lastIndex=h,p=mg.exec(o),m=p&&p.index!==void 0?p.index:o.length,v=o.charCodeAt(m),!p){t=o.slice(h);break}if(v===P.lf&&h===m&&r)u.push(P.carriageReturnLineFeed),r=void 0;else switch(r&&(u.push(P.carriageReturn),r=void 0),h<m&&(u.push(o.slice(h,m)),e+=m-h),v){case P.nul:{u.push(P.replacementCharacter),e++;break}case P.ht:{for(d=Math.ceil(e/Be.tabSize)*Be.tabSize,u.push(P.horizontalTab);e++<d;)u.push(P.virtualSpace);break}case P.lf:{u.push(P.lineFeed),e=1;break}default:r=!0,e=1}h=m+1}return l&&(r&&u.push(P.carriageReturn),t&&u.push(t),u.push(P.eof)),u}}const Q$=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function eF(e){return e.replace(Q$,tF)}function tF(e,t,n){if(t)return t;if(n.charCodeAt(0)===P.numberSign){const a=n.charCodeAt(1),o=a===P.lowercaseX||a===P.uppercaseX;return Cx(n.slice(o?2:1),o?Be.numericBaseHexadecimal:Be.numericBaseDecimal)}return Sd(n)||e}const Px={}.hasOwnProperty;function nF(e,t,n){return typeof t!="string"&&(n=t,t=void 0),rF(n)(Y$(K$(n).document().write(X$()(e,t,!0))))}function rF(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(C),autolinkProtocol:J,autolinkEmail:J,atxHeading:o(S),blockQuote:o(je),characterEscape:J,characterReference:J,codeFenced:o(me),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(me,s),codeText:o(Te,s),codeTextData:J,data:J,codeFlowValue:J,definition:o(qe),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(Ye),hardBreakEscape:o(he),hardBreakTrailing:o(he),htmlFlow:o(G,s),htmlFlowData:J,htmlText:o(G,s),htmlTextData:J,image:o(D),label:s,link:o(C),listItem:o(_e),listItemValue:m,listOrdered:o(ne,h),listUnordered:o(ne),paragraph:o(Ce),reference:R,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(S),strong:o(ie),thematicBreak:o(ve)},exit:{atxHeading:u(),atxHeadingSequence:N,autolink:u(),autolinkEmail:ce,autolinkProtocol:Se,blockQuote:u(),characterEscapeValue:Y,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:W,characterReference:we,codeFenced:u(b),codeFencedFence:_,codeFencedFenceInfo:v,codeFencedFenceMeta:y,codeFlowValue:Y,codeIndented:u(k),codeText:u(w),codeTextData:Y,data:Y,definition:u(),definitionDestinationString:I,definitionLabelString:E,definitionTitleString:T,emphasis:u(),hardBreakEscape:u(pe),hardBreakTrailing:u(pe),htmlFlow:u(O),htmlFlowData:Y,htmlText:u(K),htmlTextData:Y,image:u(Ae),label:fe,labelText:de,lineEnding:q,link:u(L),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Ne,resourceDestinationString:$,resourceTitleString:Re,resource:se,setextHeading:u(B),setextHeadingLineSequence:U,setextHeadingText:M,strong:u(),thematicBreak:u()}};Nx(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Z){let X={type:"root",children:[]};const xe={stack:[X],tokenStack:[],config:t,enter:l,exit:p,buffer:s,resume:d,data:n},Pe=[];let We=-1;for(;++We<Z.length;)if(Z[We][1].type===z.listOrdered||Z[We][1].type===z.listUnordered)if(Z[We][0]==="enter")Pe.push(We);else{const dt=Pe.pop();te(typeof dt=="number","expected list ot be open"),We=a(Z,dt,We)}for(We=-1;++We<Z.length;){const dt=t[Z[We][0]];Px.call(dt,Z[We][1].type)&&dt[Z[We][1].type].call(Object.assign({sliceSerialize:Z[We][2].sliceSerialize},xe),Z[We][1])}if(xe.tokenStack.length>0){const dt=xe.tokenStack[xe.tokenStack.length-1];(dt[1]||gg).call(xe,void 0,dt[0])}for(X.position={start:ga(Z.length>0?Z[0][1].start:{line:1,column:1,offset:0}),end:ga(Z.length>0?Z[Z.length-2][1].end:{line:1,column:1,offset:0})},We=-1;++We<t.transforms.length;)X=t.transforms[We](X)||X;return X}function a(Z,X,xe){let Pe=X-1,We=-1,dt=!1,Tt,_t,it,fn;for(;++Pe<=xe;){const wt=Z[Pe];switch(wt[1].type){case z.listUnordered:case z.listOrdered:case z.blockQuote:{wt[0]==="enter"?We++:We--,fn=void 0;break}case z.lineEndingBlank:{wt[0]==="enter"&&(Tt&&!fn&&!We&&!it&&(it=Pe),fn=void 0);break}case z.linePrefix:case z.listItemValue:case z.listItemMarker:case z.listItemPrefix:case z.listItemPrefixWhitespace:break;default:fn=void 0}if(!We&&wt[0]==="enter"&&wt[1].type===z.listItemPrefix||We===-1&&wt[0]==="exit"&&(wt[1].type===z.listUnordered||wt[1].type===z.listOrdered)){if(Tt){let Ot=Pe;for(_t=void 0;Ot--;){const ft=Z[Ot];if(ft[1].type===z.lineEnding||ft[1].type===z.lineEndingBlank){if(ft[0]==="exit")continue;_t&&(Z[_t][1].type=z.lineEndingBlank,dt=!0),ft[1].type=z.lineEnding,_t=Ot}else if(!(ft[1].type===z.linePrefix||ft[1].type===z.blockQuotePrefix||ft[1].type===z.blockQuotePrefixWhitespace||ft[1].type===z.blockQuoteMarker||ft[1].type===z.listItemIndent))break}it&&(!_t||it<_t)&&(Tt._spread=!0),Tt.end=Object.assign({},_t?Z[_t][1].start:wt[1].end),Z.splice(_t||Pe,0,["exit",Tt,wt[2]]),Pe++,xe++}if(wt[1].type===z.listItemPrefix){const Ot={type:"listItem",_spread:!1,start:Object.assign({},wt[1].start),end:void 0};Tt=Ot,Z.splice(Pe,0,["enter",Ot,wt[2]]),Pe++,xe++,it=void 0,fn=!0}}}return Z[X][1]._spread=dt,xe}function o(Z,X){return xe;function xe(Pe){l.call(this,Z(Pe),Pe),X&&X.call(this,Pe)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(Z,X,xe){const Pe=this.stack[this.stack.length-1];te(Pe,"expected `parent`"),te("children"in Pe,"expected `parent`"),Pe.children.push(Z),this.stack.push(Z),this.tokenStack.push([X,xe||void 0]),Z.position={start:ga(X.start),end:void 0}}function u(Z){return X;function X(xe){Z&&Z.call(this,xe),p.call(this,xe)}}function p(Z,X){const xe=this.stack.pop();te(xe,"expected `node`");const Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==Z.type&&(X?X.call(this,Z,Pe[0]):(Pe[1]||gg).call(this,Z,Pe[0]));else throw new Error("Cannot close `"+Z.type+"` ("+wo({start:Z.start,end:Z.end})+"): its not open");te(xe.type!=="fragment","unexpected fragment `exit`ed"),te(xe.position,"expected `position` to be defined"),xe.position.end=ga(Z.end)}function d(){return YP(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function m(Z){if(this.data.expectingFirstListItemValue){const X=this.stack[this.stack.length-2];te(X,"expected nodes on stack"),te(X.type==="list","expected list on stack"),X.start=Number.parseInt(this.sliceSerialize(Z),Be.numericBaseDecimal),this.data.expectingFirstListItemValue=void 0}}function v(){const Z=this.resume(),X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te(X.type==="code","expected code on stack"),X.lang=Z}function y(){const Z=this.resume(),X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te(X.type==="code","expected code on stack"),X.meta=Z}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const Z=this.resume(),X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te(X.type==="code","expected code on stack"),X.value=Z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const Z=this.resume(),X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te(X.type==="code","expected code on stack"),X.value=Z.replace(/(\r?\n|\r)$/g,"")}function E(Z){const X=this.resume(),xe=this.stack[this.stack.length-1];te(xe,"expected node on stack"),te(xe.type==="definition","expected definition on stack"),xe.label=X,xe.identifier=Ii(this.sliceSerialize(Z)).toLowerCase()}function T(){const Z=this.resume(),X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te(X.type==="definition","expected definition on stack"),X.title=Z}function I(){const Z=this.resume(),X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te(X.type==="definition","expected definition on stack"),X.url=Z}function N(Z){const X=this.stack[this.stack.length-1];if(te(X,"expected node on stack"),te(X.type==="heading","expected heading on stack"),!X.depth){const xe=this.sliceSerialize(Z).length;te(xe===1||xe===2||xe===3||xe===4||xe===5||xe===6,"expected `depth` between `1` and `6`"),X.depth=xe}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function U(Z){const X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te(X.type==="heading","expected heading on stack"),X.depth=this.sliceSerialize(Z).codePointAt(0)===P.equalsTo?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function J(Z){const X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te("children"in X,"expected parent on stack");const xe=X.children;let Pe=xe[xe.length-1];(!Pe||Pe.type!=="text")&&(Pe=le(),Pe.position={start:ga(Z.start),end:void 0},xe.push(Pe)),this.stack.push(Pe)}function Y(Z){const X=this.stack.pop();te(X,"expected a `node` to be on the stack"),te("value"in X,"expected a `literal` to be on the stack"),te(X.position,"expected `node` to have an open position"),X.value+=this.sliceSerialize(Z),X.position.end=ga(Z.end)}function q(Z){const X=this.stack[this.stack.length-1];if(te(X,"expected `node`"),this.data.atHardBreak){te("children"in X,"expected `parent`");const xe=X.children[X.children.length-1];te(xe.position,"expected tail to have a starting position"),xe.position.end=ga(Z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(X.type)&&(J.call(this,Z),Y.call(this,Z))}function pe(){this.data.atHardBreak=!0}function O(){const Z=this.resume(),X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te(X.type==="html","expected html on stack"),X.value=Z}function K(){const Z=this.resume(),X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te(X.type==="html","expected html on stack"),X.value=Z}function w(){const Z=this.resume(),X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te(X.type==="inlineCode","expected inline code on stack"),X.value=Z}function L(){const Z=this.stack[this.stack.length-1];if(te(Z,"expected node on stack"),te(Z.type==="link","expected link on stack"),this.data.inReference){const X=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=X,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function Ae(){const Z=this.stack[this.stack.length-1];if(te(Z,"expected node on stack"),te(Z.type==="image","expected image on stack"),this.data.inReference){const X=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=X,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function de(Z){const X=this.sliceSerialize(Z),xe=this.stack[this.stack.length-2];te(xe,"expected ancestor on stack"),te(xe.type==="image"||xe.type==="link","expected image or link on stack"),xe.label=eF(X),xe.identifier=Ii(X).toLowerCase()}function fe(){const Z=this.stack[this.stack.length-1];te(Z,"expected node on stack"),te(Z.type==="fragment","expected fragment on stack");const X=this.resume(),xe=this.stack[this.stack.length-1];if(te(xe,"expected node on stack"),te(xe.type==="image"||xe.type==="link","expected image or link on stack"),this.data.inReference=!0,xe.type==="link"){const Pe=Z.children;xe.children=Pe}else xe.alt=X}function $(){const Z=this.resume(),X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te(X.type==="image"||X.type==="link","expected image or link on stack"),X.url=Z}function Re(){const Z=this.resume(),X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te(X.type==="image"||X.type==="link","expected image or link on stack"),X.title=Z}function se(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function Ne(Z){const X=this.resume(),xe=this.stack[this.stack.length-1];te(xe,"expected node on stack"),te(xe.type==="image"||xe.type==="link","expected image reference or link reference on stack"),xe.label=X,xe.identifier=Ii(this.sliceSerialize(Z)).toLowerCase(),this.data.referenceType="full"}function Q(Z){te(Z.type==="characterReferenceMarkerNumeric"||Z.type==="characterReferenceMarkerHexadecimal"),this.data.characterReferenceType=Z.type}function W(Z){const X=this.sliceSerialize(Z),xe=this.data.characterReferenceType;let Pe;if(xe)Pe=Cx(X,xe===z.characterReferenceMarkerNumeric?Be.numericBaseDecimal:Be.numericBaseHexadecimal),this.data.characterReferenceType=void 0;else{const dt=Sd(X);te(dt!==!1,"expected reference to decode"),Pe=dt}const We=this.stack[this.stack.length-1];te(We,"expected `node`"),te("value"in We,"expected `node.value`"),We.value+=Pe}function we(Z){const X=this.stack.pop();te(X,"expected `node`"),te(X.position,"expected `node.position`"),X.position.end=ga(Z.end)}function Se(Z){Y.call(this,Z);const X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te(X.type==="link","expected link on stack"),X.url=this.sliceSerialize(Z)}function ce(Z){Y.call(this,Z);const X=this.stack[this.stack.length-1];te(X,"expected node on stack"),te(X.type==="link","expected link on stack"),X.url="mailto:"+this.sliceSerialize(Z)}function je(){return{type:"blockquote",children:[]}}function me(){return{type:"code",lang:null,meta:null,value:""}}function Te(){return{type:"inlineCode",value:""}}function qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ye(){return{type:"emphasis",children:[]}}function S(){return{type:"heading",depth:0,children:[]}}function he(){return{type:"break"}}function G(){return{type:"html",value:""}}function D(){return{type:"image",title:null,url:"",alt:null}}function C(){return{type:"link",title:null,url:"",children:[]}}function ne(Z){return{type:"list",ordered:Z.type==="listOrdered",start:null,spread:Z._spread,children:[]}}function _e(Z){return{type:"listItem",spread:Z._spread,checked:null,children:[]}}function Ce(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function ve(){return{type:"thematicBreak"}}}function ga(e){return{line:e.line,column:e.column,offset:e.offset}}function Nx(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Nx(e,r):aF(e,r)}}function aF(e,t){let n;for(n in t)if(Px.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function gg(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+wo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+wo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+wo({start:t.start,end:t.end})+") is still open")}function iF(e){const t=this;t.parser=n;function n(r){return nF(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function oF(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function sF(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function lF(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function cF(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function uF(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pF(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Bi(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,l+=1,e.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,u);const p={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,p),e.applyData(t,p)}function dF(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fF(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function $x(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const s=a[a.length-1];return s&&s.type==="text"?s.value+=r:a.push({type:"text",value:r}),a}function hF(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return $x(e,t);const a={src:Bi(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,o),e.applyData(t,o)}function mF(e,t){const n={src:Bi(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function gF(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function yF(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return $x(e,t);const a={href:Bi(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function vF(e,t){const n={href:Bi(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function bF(e,t,n){const r=e.all(t),a=n?xF(n):Fx(t),o={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(a||l!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?s.push(...d.children):s.push(d)}const u=r[r.length-1];u&&(a||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,p),e.applyData(t,p)}function xF(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Fx(n[r])}return t}function Fx(e){const t=e.spread;return t??e.children.length>1}function _F(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const s=r[a];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function wF(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kF(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function CF(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function SF(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),a.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=_d(t.children[1]),u=yx(t.children[t.children.length-1]);l&&u&&(s.position={start:l,end:u}),a.push(s)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,o),e.applyData(t,o)}function EF(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,l=s?s.length:t.children.length;let u=-1;const p=[];for(;++u<l;){const h=t.children[u],m={},v=s?s[u]:void 0;v&&(m.align=v);let y={type:"element",tagName:o,properties:m,children:[]};h&&(y.children=e.all(h),e.patch(h,y),y=e.applyData(h,y)),p.push(y)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(p,!0)};return e.patch(t,d),e.applyData(t,d)}function AF(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const yg=9,vg=32;function TF(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const o=[];for(;r;)o.push(bg(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return o.push(bg(t.slice(a),a>0,!1)),o.join("")}function bg(e,t,n){let r=0,a=e.length;if(t){let o=e.codePointAt(r);for(;o===yg||o===vg;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(a-1);for(;o===yg||o===vg;)a--,o=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function IF(e,t){const n={type:"text",value:TF(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function jF(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const RF={blockquote:oF,break:sF,code:lF,delete:cF,emphasis:uF,footnoteReference:pF,heading:dF,html:fF,imageReference:hF,image:mF,inlineCode:gF,linkReference:yF,link:vF,listItem:bF,list:_F,paragraph:wF,root:kF,strong:CF,table:SF,tableCell:AF,tableRow:EF,text:IF,thematicBreak:jF,toml:Zs,yaml:Zs,definition:Zs,footnoteDefinition:Zs};function Zs(){}const Dx=-1,Dl=0,Co=1,ul=2,Td=3,Id=4,jd=5,Rd=6,Lx=7,Bx=8,xg=typeof self=="object"?self:globalThis,OF=(e,t)=>{const n=(a,o)=>(e.set(o,a),a),r=a=>{if(e.has(a))return e.get(a);const[o,s]=t[a];switch(o){case Dl:case Dx:return n(s,a);case Co:{const l=n([],a);for(const u of s)l.push(r(u));return l}case ul:{const l=n({},a);for(const[u,p]of s)l[r(u)]=r(p);return l}case Td:return n(new Date(s),a);case Id:{const{source:l,flags:u}=s;return n(new RegExp(l,u),a)}case jd:{const l=n(new Map,a);for(const[u,p]of s)l.set(r(u),r(p));return l}case Rd:{const l=n(new Set,a);for(const u of s)l.add(r(u));return l}case Lx:{const{name:l,message:u}=s;return n(new xg[l](u),a)}case Bx:return n(BigInt(s),a);case"BigInt":return n(Object(BigInt(s)),a);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return n(new DataView(l),s)}}return n(new xg[o](s),a)};return r},_g=e=>OF(new Map,e)(0),yi="",{toString:MF}={},{keys:zF}=Object,mo=e=>{const t=typeof e;if(t!=="object"||!e)return[Dl,t];const n=MF.call(e).slice(8,-1);switch(n){case"Array":return[Co,yi];case"Object":return[ul,yi];case"Date":return[Td,yi];case"RegExp":return[Id,yi];case"Map":return[jd,yi];case"Set":return[Rd,yi];case"DataView":return[Co,n]}return n.includes("Array")?[Co,n]:n.includes("Error")?[Lx,n]:[ul,n]},Hs=([e,t])=>e===Dl&&(t==="function"||t==="symbol"),PF=(e,t,n,r)=>{const a=(s,l)=>{const u=r.push(s)-1;return n.set(l,u),u},o=s=>{if(n.has(s))return n.get(s);let[l,u]=mo(s);switch(l){case Dl:{let d=s;switch(u){case"bigint":l=Bx,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return a([Dx],s)}return a([l,d],s)}case Co:{if(u){let m=s;return u==="DataView"?m=new Uint8Array(s.buffer):u==="ArrayBuffer"&&(m=new Uint8Array(s)),a([u,[...m]],s)}const d=[],h=a([l,d],s);for(const m of s)d.push(o(m));return h}case ul:{if(u)switch(u){case"BigInt":return a([u,s.toString()],s);case"Boolean":case"Number":case"String":return a([u,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const d=[],h=a([l,d],s);for(const m of zF(s))(e||!Hs(mo(s[m])))&&d.push([o(m),o(s[m])]);return h}case Td:return a([l,s.toISOString()],s);case Id:{const{source:d,flags:h}=s;return a([l,{source:d,flags:h}],s)}case jd:{const d=[],h=a([l,d],s);for(const[m,v]of s)(e||!(Hs(mo(m))||Hs(mo(v))))&&d.push([o(m),o(v)]);return h}case Rd:{const d=[],h=a([l,d],s);for(const m of s)(e||!Hs(mo(m)))&&d.push(o(m));return h}}const{message:p}=s;return a([l,{name:u,message:p}],s)};return o},wg=(e,{json:t,lossy:n}={})=>{const r=[];return PF(!(t||n),!!t,new Map,r)(e),r},pl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?_g(wg(e,t)):structuredClone(e):(e,t)=>_g(wg(e,t));function NF(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function $F(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function FF(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||NF,r=e.options.footnoteBackLabel||$F,a=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const p=e.footnoteById.get(e.footnoteOrder[u]);if(!p)continue;const d=e.all(p),h=String(p.identifier).toUpperCase(),m=Bi(h.toLowerCase());let v=0;const y=[],_=e.footnoteCounts.get(h);for(;_!==void 0&&++v<=_;){y.length>0&&y.push({type:"text",value:" "});let E=typeof n=="string"?n:n(u,v);typeof E=="string"&&(E={type:"text",value:E}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,v),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const E=b.children[b.children.length-1];E&&E.type==="text"?E.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...y)}else d.push(...y);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(d,!0)};e.patch(p,k),l.push(k)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...pl(s),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Ux=function(e){if(e==null)return UF;if(typeof e=="function")return Ll(e);if(typeof e=="object")return Array.isArray(e)?DF(e):LF(e);if(typeof e=="string")return BF(e);throw new Error("Expected function, string, or object as test")};function DF(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ux(e[n]);return Ll(r);function r(...a){let o=-1;for(;++o<t.length;)if(t[o].apply(this,a))return!0;return!1}}function LF(e){const t=e;return Ll(n);function n(r){const a=r;let o;for(o in e)if(a[o]!==t[o])return!1;return!0}}function BF(e){return Ll(t);function t(n){return n&&n.type===e}}function Ll(e){return t;function t(n,r,a){return!!(ZF(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function UF(){return!0}function ZF(e){return e!==null&&typeof e=="object"&&"type"in e}const Zx=[],HF=!0,kg=!1,qF="skip";function WF(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const o=Ux(a),s=r?-1:1;l(e,void 0,[])();function l(u,p,d){const h=u&&typeof u=="object"?u:{};if(typeof h.type=="string"){const v=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(u.type+(v?"<"+v+">":""))+")"})}return m;function m(){let v=Zx,y,_,b;if((!t||o(u,p,d[d.length-1]||void 0))&&(v=VF(n(u,d)),v[0]===kg))return v;if("children"in u&&u.children){const k=u;if(k.children&&v[0]!==qF)for(_=(r?k.children.length:-1)+s,b=d.concat(k);_>-1&&_<k.children.length;){const E=k.children[_];if(y=l(E,_,b)(),y[0]===kg)return y;_=typeof y[1]=="number"?y[1]:_+s}}return v}}}function VF(e){return Array.isArray(e)?e:typeof e=="number"?[HF,e]:e==null?Zx:[e]}function Hx(e,t,n,r){let a,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,a=n):(o=t,s=n,a=r),WF(e,o,l,a);function l(u,p){const d=p[p.length-1],h=d?d.children.indexOf(u):void 0;return s(u,h,d)}}const Ep={}.hasOwnProperty,GF={};function JF(e,t){const n=t||GF,r=new Map,a=new Map,o=new Map,s={...RF,...n.handlers},l={all:p,applyData:YF,definitionById:r,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:s,one:u,options:n,patch:KF,wrap:QF};return Hx(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:a,m=String(d.identifier).toUpperCase();h.has(m)||h.set(m,d)}}),l;function u(d,h){const m=d.type,v=l.handlers[m];if(Ep.call(l.handlers,m)&&v)return v(l,d,h);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in d){const{children:_,...b}=d,k=pl(b);return k.children=l.all(d),k}return pl(d)}return(l.options.unknownHandler||XF)(l,d,h)}function p(d){const h=[];if("children"in d){const m=d.children;let v=-1;for(;++v<m.length;){const y=l.one(m[v],d);if(y){if(v&&m[v-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=Cg(y.value)),!Array.isArray(y)&&y.type==="element")){const _=y.children[0];_&&_.type==="text"&&(_.value=Cg(_.value))}Array.isArray(y)?h.push(...y):h.push(y)}}}return h}}function KF(e,t){e.position&&(t.position=IP(e))}function YF(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,pl(o)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function XF(e,t){const n=t.data||{},r="value"in t&&!(Ep.call(n,"hProperties")||Ep.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function QF(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Cg(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Sg(e,t){const n=JF(e,t),r=n.one(e,void 0),a=FF(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&(te("children"in o),o.children.push({type:"text",value:`
`},a)),o}function eD(e,t){return e&&"run"in e?async function(n,r){const a=Sg(n,{file:r,...t});await e.run(a,r)}:function(n,r){return Sg(n,{file:r,...e||t})}}function Eg(e){if(e)throw e}var Xs=Object.prototype.hasOwnProperty,qx=Object.prototype.toString,Ag=Object.defineProperty,Tg=Object.getOwnPropertyDescriptor,Ig=function(t){return typeof Array.isArray=="function"?Array.isArray(t):qx.call(t)==="[object Array]"},jg=function(t){if(!t||qx.call(t)!=="[object Object]")return!1;var n=Xs.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Xs.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a>"u"||Xs.call(t,a)},Rg=function(t,n){Ag&&n.name==="__proto__"?Ag(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Og=function(t,n){if(n==="__proto__")if(Xs.call(t,n)){if(Tg)return Tg(t,n).value}else return;return t[n]},tD=function e(){var t,n,r,a,o,s,l=arguments[0],u=1,p=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<p;++u)if(t=arguments[u],t!=null)for(n in t)r=Og(l,n),a=Og(t,n),l!==a&&(d&&a&&(jg(a)||(o=Ig(a)))?(o?(o=!1,s=r&&Ig(r)?r:[]):s=r&&jg(r)?r:{},Rg(l,{name:n,newValue:e(d,s,a)})):typeof a<"u"&&Rg(l,{name:n,newValue:a}));return l};const Au=wn(tD);function Ap(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function nD(){const e=[],t={run:n,use:r};return t;function n(...a){let o=-1;const s=a.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...a);function l(u,...p){const d=e[++o];let h=-1;if(u){s(u);return}for(;++h<a.length;)(p[h]===null||p[h]===void 0)&&(p[h]=a[h]);a=p,d?rD(d,l)(...p):s(null,...p)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function rD(e,t){let n;return r;function r(...s){const l=e.length>s.length;let u;l&&s.push(a);try{u=e.apply(this,s)}catch(p){const d=p;if(l&&n)throw d;return a(d)}l||(u&&u.then&&typeof u.then=="function"?u.then(o,a):u instanceof Error?a(u):o(u))}function a(s,...l){n||(n=!0,t(s,...l))}function o(s){a(null,s)}}const $r={basename:aD,dirname:iD,extname:oD,join:sD,sep:"/"};function aD(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Bo(e);let n=0,r=-1,a=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(o){n=a+1;break}}else r<0&&(o=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,l=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(o){n=a+1;break}}else s<0&&(o=!0,s=a+1),l>-1&&(e.codePointAt(a)===t.codePointAt(l--)?l<0&&(r=a):(l=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function iD(e){if(Bo(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function oD(e){Bo(e);let t=e.length,n=-1,r=0,a=-1,o=0,s;for(;t--;){const l=e.codePointAt(t);if(l===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),l===46?a<0?a=t:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||n<0||o===0||o===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function sD(...e){let t=-1,n;for(;++t<e.length;)Bo(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":lD(n)}function lD(e){Bo(e);const t=e.codePointAt(0)===47;let n=cD(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function cD(e,t){let n="",r=0,a=-1,o=0,s=-1,l,u;for(;++s<=e.length;){if(s<e.length)l=e.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(a===s-1||o===1))if(a!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),a=s,o=0;continue}}else if(n.length>0){n="",r=0,a=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,s):n=e.slice(a+1,s),r=s-a-1;a=s,o=0}else l===46&&o>-1?o++:o=-1}return n}function Bo(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const uD={cwd:pD};function pD(){return"/"}function Tp(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function dD(e){if(typeof e=="string")e=new URL(e);else if(!Tp(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return fD(e)}function fD(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Tu=["history","path","basename","stem","extname","dirname"];class Wx{constructor(t){let n;t?Tp(t)?n={path:t}:typeof t=="string"||hD(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":uD.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Tu.length;){const o=Tu[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let a;for(a in n)Tu.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?$r.basename(this.path):void 0}set basename(t){ju(t,"basename"),Iu(t,"basename"),this.path=$r.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?$r.dirname(this.path):void 0}set dirname(t){Mg(this.basename,"dirname"),this.path=$r.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?$r.extname(this.path):void 0}set extname(t){if(Iu(t,"extname"),Mg(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$r.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Tp(t)&&(t=dD(t)),ju(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?$r.basename(this.path,this.extname):void 0}set stem(t){ju(t,"stem"),Iu(t,"stem"),this.path=$r.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new An(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Iu(e,t){if(e&&e.includes($r.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+$r.sep+"`")}function ju(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Mg(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function hD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const mD=function(e){const r=this.constructor.prototype,a=r[e],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},gD={}.hasOwnProperty;class Od extends mD{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=nD()}copy(){const t=new Od;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Au(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Mu("data",this.frozen),this.namespace[t]=n,this):gD.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Mu("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=qs(t),r=this.parser||this.Parser;return Ru("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ru("process",this.parser||this.Parser),Ou("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(o,s){const l=qs(t),u=r.parse(l);r.run(u,l,function(d,h,m){if(d||!h||!m)return p(d);const v=h,y=r.stringify(v,m);bD(y)?m.value=y:m.result=y,p(d,m)});function p(d,h){d||!h?s(d):o?o(h):(te(n,"`done` is defined if `resolve` is not"),n(void 0,h))}}}processSync(t){let n=!1,r;return this.freeze(),Ru("processSync",this.parser||this.Parser),Ou("processSync",this.compiler||this.Compiler),this.process(t,a),Pg("processSync","process",n),te(r,"we either bailed on an error or have a tree"),r;function a(o,s){n=!0,Eg(o),r=s}}run(t,n,r){zg(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,l){te(typeof n!="function","`file` cant be a `done` anymore, we checked");const u=qs(n);a.run(t,u,p);function p(d,h,m){const v=h||t;d?l(d):s?s(v):(te(r,"`done` is defined if `resolve` is not"),r(void 0,v,m))}}}runSync(t,n){let r=!1,a;return this.run(t,n,o),Pg("runSync","run",r),te(a,"we either bailed on an error or have a tree"),a;function o(s,l){Eg(s),a=l,r=!0}}stringify(t,n){this.freeze();const r=qs(n),a=this.compiler||this.Compiler;return Ou("stringify",a),zg(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Mu("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(p){if(typeof p=="function")u(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[d,...h]=p;u(d,h)}else s(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function s(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(p.plugins),p.settings&&(a.settings=Au(!0,a.settings,p.settings))}function l(p){let d=-1;if(p!=null)if(Array.isArray(p))for(;++d<p.length;){const h=p[d];o(h)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function u(p,d){let h=-1,m=-1;for(;++h<r.length;)if(r[h][0]===p){m=h;break}if(m===-1)r.push([p,...d]);else if(d.length>0){let[v,...y]=d;const _=r[m][1];Ap(_)&&Ap(v)&&(v=Au(!0,_,v)),r[m]=[p,v,...y]}}}}const yD=new Od().freeze();function Ru(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ou(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Mu(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zg(e){if(!Ap(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Pg(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function qs(e){return vD(e)?e:new Wx(e)}function vD(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function bD(e){return typeof e=="string"||xD(e)}function xD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const _D="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ng=[],$g={allowDangerousHtml:!0},wD=/^(https?|ircs?|mailto|xmpp)$/i,kD=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function CD(e){const t=SD(e),n=ED(e);return AD(t.runSync(t.parse(n),n),e)}function SD(e){const t=e.rehypePlugins||Ng,n=e.remarkPlugins||Ng,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...$g}:$g;return yD().use(iF).use(n).use(eD,r).use(t)}function ED(e){const t=e.children||"",n=new Wx;return typeof t=="string"?n.value=t:gp("Unexpected value `"+t+"` for `children` prop, expected `string`"),n}function AD(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,o=t.disallowedElements,s=t.skipHtml,l=t.unwrapDisallowed,u=t.urlTransform||TD;for(const d of kD)Object.hasOwn(t,d.from)&&gp("Unexpected `"+d.from+"` prop, "+(d.to?"use `"+d.to+"` instead":"remove it")+" (see <"+_D+"#"+d.id+"> for more info)");return n&&o&&gp("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Hx(e,p),zP(e,{Fragment:g.Fragment,components:a,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function p(d,h,m){if(d.type==="raw"&&m&&typeof h=="number")return s?m.children.splice(h,1):m.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let v;for(v in ku)if(Object.hasOwn(ku,v)&&Object.hasOwn(d.properties,v)){const y=d.properties[v],_=ku[v];(_===null||_.includes(d.tagName))&&(d.properties[v]=u(String(y||""),v,d))}}if(d.type==="element"){let v=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!v&&r&&typeof h=="number"&&(v=!r(d,h,m)),v&&m&&typeof h=="number")return l&&d.children?m.children.splice(h,1,...d.children):m.children.splice(h,1),h}}}function TD(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||wD.test(e.slice(0,t))?e:""}const Vx=V.createContext(),ar=()=>V.useContext(Vx);var Gx="vercel.ai.error",ID=Symbol.for(Gx),Fg,Dg,_a=class Jx extends(Dg=Error,Fg=ID,Dg){constructor({name:t,message:n,cause:r}){super(n),this[Fg]=!0,this.name=t,this.cause=r}static isInstance(t){return Jx.hasMarker(t,Gx)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};function Kx(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var Yx="AI_InvalidArgumentError",Xx=`vercel.ai.error.${Yx}`,jD=Symbol.for(Xx),Lg,Bg,RD=class extends(Bg=_a,Lg=jD,Bg){constructor({message:t,cause:n,argument:r}){super({name:Yx,message:t,cause:n}),this[Lg]=!0,this.argument=r}static isInstance(t){return _a.hasMarker(t,Xx)}},Qx="AI_JSONParseError",e0=`vercel.ai.error.${Qx}`,OD=Symbol.for(e0),Ug,Zg,Hg=class extends(Zg=_a,Ug=OD,Zg){constructor({text:t,cause:n}){super({name:Qx,message:`JSON parsing failed: Text: ${t}.
Error message: ${Kx(n)}`,cause:n}),this[Ug]=!0,this.text=t}static isInstance(t){return _a.hasMarker(t,e0)}},t0="AI_TypeValidationError",n0=`vercel.ai.error.${t0}`,MD=Symbol.for(n0),qg,Wg,dl=class Ip extends(Wg=_a,qg=MD,Wg){constructor({value:t,cause:n}){super({name:t0,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${Kx(n)}`,cause:n}),this[qg]=!0,this.value=t}static isInstance(t){return _a.hasMarker(t,n0)}static wrap({value:t,cause:n}){return Ip.isInstance(n)&&n.value===t?n:new Ip({value:t,cause:n})}};class Vg extends Error{constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function zu(e){}function zD(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=zu,onError:n=zu,onRetry:r=zu,onComment:a}=e;let o="",s=!0,l,u="",p="";function d(_){const b=s?_.replace(/^\xEF\xBB\xBF/,""):_,[k,E]=PD(`${o}${b}`);for(const T of k)h(T);o=E,s=!1}function h(_){if(_===""){v();return}if(_.startsWith(":")){a&&a(_.slice(_.startsWith(": ")?2:1));return}const b=_.indexOf(":");if(b!==-1){const k=_.slice(0,b),E=_[b+1]===" "?2:1,T=_.slice(b+E);m(k,T,_);return}m(_,"",_)}function m(_,b,k){switch(_){case"event":p=b;break;case"data":u=`${u}${b}
`;break;case"id":l=b.includes("\0")?void 0:b;break;case"retry":/^\d+$/.test(b)?r(parseInt(b,10)):n(new Vg(`Invalid \`retry\` value: "${b}"`,{type:"invalid-retry",value:b,line:k}));break;default:n(new Vg(`Unknown field "${_.length>20?`${_.slice(0,20)}`:_}"`,{type:"unknown-field",field:_,value:b,line:k}));break}}function v(){u.length>0&&t({id:l,event:p||void 0,data:u.endsWith(`
`)?u.slice(0,-1):u}),l=void 0,u="",p=""}function y(_={}){o&&_.consume&&h(o),s=!0,l=void 0,u="",p="",o=""}return{feed:d,reset:y}}function PD(e){const t=[];let n="",r=0;for(;r<e.length;){const a=e.indexOf("\r",r),o=e.indexOf(`
`,r);let s=-1;if(a!==-1&&o!==-1?s=Math.min(a,o):a!==-1?a===e.length-1?s=-1:s=a:o!==-1&&(s=o),s===-1){n=e.slice(r);break}else{const l=e.slice(r,s);t.push(l),r=s+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}class r0 extends TransformStream{constructor({onError:t,onRetry:n,onComment:r}={}){let a;super({start(o){a=zD({onEvent:s=>{o.enqueue(s)},onError(s){t==="terminate"?o.error(s):typeof t=="function"&&t(s)},onRetry:n,onComment:r})},transform(o){a.feed(o)}})}}function ge(e,t,n){function r(l,u){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:u,constr:s,traits:new Set},enumerable:!1}),l._zod.traits.has(e))return;l._zod.traits.add(e),t(l,u);const p=s.prototype,d=Object.keys(p);for(let h=0;h<d.length;h++){const m=d[h];m in l||(l[m]=p[m].bind(l))}}const a=n?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:e});function s(l){var u;const p=n?.Parent?new o:this;r(p,l),(u=p._zod).deferred??(u.deferred=[]);for(const d of p._zod.deferred)d();return p}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:l=>n?.Parent&&l instanceof n.Parent?!0:l?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}class ji extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class a0 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const i0={};function wa(e){return i0}function o0(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function jp(e,t){return typeof t=="bigint"?t.toString():t}function Bl(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Md(e){return e==null}function zd(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function ND(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u?.[1]&&(a=Number.parseInt(u[1]))}const o=n>a?n:a,s=Number.parseInt(e.toFixed(o).replace(".","")),l=Number.parseInt(t.toFixed(o).replace(".",""));return s%l/10**o}const Gg=Symbol("evaluating");function bt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Gg)return r===void 0&&(r=Gg,r=n()),r},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function ei(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Aa(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function Jg(e){return JSON.stringify(e)}function $D(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const s0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function jo(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const FD=Bl(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Mi(e){if(jo(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(jo(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function l0(e){return Mi(e)?{...e}:Array.isArray(e)?[...e]:e}const DD=new Set(["string","number","symbol"]);function zi(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ta(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function Je(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function LD(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const BD={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function UD(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=Aa(e._zod.def,{get shape(){const s={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(s[l]=n.shape[l])}return ei(this,"shape",s),s},checks:[]});return Ta(e,o)}function ZD(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=Aa(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete s[l]}return ei(this,"shape",s),s},checks:[]});return Ta(e,o)}function HD(e,t){if(!Mi(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const o=e._zod.def.shape;for(const s in t)if(Object.getOwnPropertyDescriptor(o,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=Aa(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return ei(this,"shape",o),o}});return Ta(e,a)}function qD(e,t){if(!Mi(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Aa(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return ei(this,"shape",r),r}});return Ta(e,n)}function WD(e,t){const n=Aa(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return ei(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Ta(e,n)}function VD(e,t,n){const a=t._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const s=Aa(t._zod.def,{get shape(){const l=t._zod.def.shape,u={...l};if(n)for(const p in n){if(!(p in l))throw new Error(`Unrecognized key: "${p}"`);n[p]&&(u[p]=e?new e({type:"optional",innerType:l[p]}):l[p])}else for(const p in l)u[p]=e?new e({type:"optional",innerType:l[p]}):l[p];return ei(this,"shape",u),u},checks:[]});return Ta(t,s)}function GD(e,t,n){const r=Aa(t._zod.def,{get shape(){const a=t._zod.def.shape,o={...a};if(n)for(const s in n){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(o[s]=new e({type:"nonoptional",innerType:a[s]}))}else for(const s in a)o[s]=new e({type:"nonoptional",innerType:a[s]});return ei(this,"shape",o),o}});return Ta(t,r)}function Ci(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Si(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Ws(e){return typeof e=="string"?e:e?.message}function ka(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const a=Ws(e.inst?._zod.def?.error?.(e))??Ws(t?.error?.(e))??Ws(n.customError?.(e))??Ws(n.localeError?.(e))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Pd(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ro(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const c0=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,jp,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},u0=ge("$ZodError",c0),p0=ge("$ZodError",c0,{Parent:Error});function JD(e,t=n=>n.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function KD(e,t=n=>n.message){const n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(s=>r({issues:s}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(t(o));else{let s=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(s[u]=s[u]||{_errors:[]},s[u]._errors.push(t(o))):s[u]=s[u]||{_errors:[]},s=s[u],l++}}};return r(e),n}const Nd=e=>(t,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new ji;if(s.issues.length){const l=new(a?.Err??e)(s.issues.map(u=>ka(u,o,wa())));throw s0(l,a?.callee),l}return s.value},$d=e=>async(t,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const l=new(a?.Err??e)(s.issues.map(u=>ka(u,o,wa())));throw s0(l,a?.callee),l}return s.value},Ul=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new ji;return o.issues.length?{success:!1,error:new(e??u0)(o.issues.map(s=>ka(s,a,wa())))}:{success:!0,data:o.value}},YD=Ul(p0),Zl=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>ka(s,a,wa())))}:{success:!0,data:o.value}},XD=Zl(p0),QD=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Nd(e)(t,n,a)},eL=e=>(t,n,r)=>Nd(e)(t,n,r),tL=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return $d(e)(t,n,a)},nL=e=>async(t,n,r)=>$d(e)(t,n,r),rL=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ul(e)(t,n,a)},aL=e=>(t,n,r)=>Ul(e)(t,n,r),iL=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Zl(e)(t,n,a)},oL=e=>async(t,n,r)=>Zl(e)(t,n,r),sL=/^[cC][^\s-]{8,}$/,lL=/^[0-9a-z]+$/,cL=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,uL=/^[0-9a-vA-V]{20}$/,pL=/^[A-Za-z0-9]{27}$/,dL=/^[a-zA-Z0-9_-]{21}$/,fL=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,hL=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Kg=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,mL=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,gL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function yL(){return new RegExp(gL,"u")}const vL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,xL=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,_L=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,wL=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,d0=/^[A-Za-z0-9_-]*$/,kL=/^\+[1-9]\d{6,14}$/,f0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",CL=new RegExp(`^${f0}$`);function h0(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function SL(e){return new RegExp(`^${h0(e)}$`)}function EL(e){const t=h0({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${f0}T(?:${r})$`)}const AL=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},TL=/^-?\d+$/,m0=/^-?\d+(?:\.\d+)?$/,IL=/^(?:true|false)$/i,jL=/^null$/i,RL=/^[^A-Z]*$/,OL=/^[^a-z]*$/,qn=ge("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),g0={number:"number",bigint:"bigint",object:"date"},y0=ge("$ZodCheckLessThan",(e,t)=>{qn.init(e,t);const n=g0[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),v0=ge("$ZodCheckGreaterThan",(e,t)=>{qn.init(e,t);const n=g0[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ML=ge("$ZodCheckMultipleOf",(e,t)=>{qn.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):ND(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),zL=ge("$ZodCheckNumberFormat",(e,t)=>{qn.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[a,o]=BD[t.format];e._zod.onattach.push(s=>{const l=s._zod.bag;l.format=t.format,l.minimum=a,l.maximum=o,n&&(l.pattern=TL)}),e._zod.check=s=>{const l=s.value;if(n){if(!Number.isInteger(l)){s.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?s.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):s.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}l<a&&s.issues.push({origin:"number",input:l,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),l>o&&s.issues.push({origin:"number",input:l,code:"too_big",maximum:o,inclusive:!0,inst:e,continue:!t.abort})}}),PL=ge("$ZodCheckMaxLength",(e,t)=>{var n;qn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Md(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const s=Pd(a);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),NL=ge("$ZodCheckMinLength",(e,t)=>{var n;qn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Md(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const s=Pd(a);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),$L=ge("$ZodCheckLengthEquals",(e,t)=>{var n;qn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Md(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,o=a.length;if(o===t.length)return;const s=Pd(a),l=o>t.length;r.issues.push({origin:s,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Hl=ge("$ZodCheckStringFormat",(e,t)=>{var n,r;qn.init(e,t),e._zod.onattach.push(a=>{const o=a._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),FL=ge("$ZodCheckRegex",(e,t)=>{Hl.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),DL=ge("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=RL),Hl.init(e,t)}),LL=ge("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=OL),Hl.init(e,t)}),BL=ge("$ZodCheckIncludes",(e,t)=>{qn.init(e,t);const n=zi(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),UL=ge("$ZodCheckStartsWith",(e,t)=>{qn.init(e,t);const n=new RegExp(`^${zi(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),ZL=ge("$ZodCheckEndsWith",(e,t)=>{qn.init(e,t);const n=new RegExp(`.*${zi(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),HL=ge("$ZodCheckOverwrite",(e,t)=>{qn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class qL{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),a=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(a)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,n=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new t(...n,a.join(`
`))}}const WL={major:4,minor:3,patch:6},qt=ge("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=WL;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const a of r)for(const o of a._zod.onattach)o(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(s,l,u)=>{let p=Ci(s),d;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(s))continue}else if(p)continue;const m=s.issues.length,v=h._zod.check(s);if(v instanceof Promise&&u?.async===!1)throw new ji;if(d||v instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await v,s.issues.length!==m&&(p||(p=Ci(s,m)))});else{if(s.issues.length===m)continue;p||(p=Ci(s,m))}}return d?d.then(()=>s):s},o=(s,l,u)=>{if(Ci(s))return s.aborted=!0,s;const p=a(l,r,u);if(p instanceof Promise){if(u.async===!1)throw new ji;return p.then(d=>e._zod.parse(d,u))}return e._zod.parse(p,u)};e._zod.run=(s,l)=>{if(l.skipChecks)return e._zod.parse(s,l);if(l.direction==="backward"){const p=e._zod.parse({value:s.value,issues:[]},{...l,skipChecks:!0});return p instanceof Promise?p.then(d=>o(d,s,l)):o(p,s,l)}const u=e._zod.parse(s,l);if(u instanceof Promise){if(l.async===!1)throw new ji;return u.then(p=>a(p,r,l))}return a(u,r,l)}}bt(e,"~standard",()=>({validate:a=>{try{const o=YD(e,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return XD(e,a).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}))}),Fd=ge("$ZodString",(e,t)=>{qt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??AL(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Kt=ge("$ZodStringFormat",(e,t)=>{Hl.init(e,t),Fd.init(e,t)}),VL=ge("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=hL),Kt.init(e,t)}),GL=ge("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Kg(r))}else t.pattern??(t.pattern=Kg());Kt.init(e,t)}),JL=ge("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=mL),Kt.init(e,t)}),KL=ge("$ZodURL",(e,t)=>{Kt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),YL=ge("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=yL()),Kt.init(e,t)}),XL=ge("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=dL),Kt.init(e,t)}),QL=ge("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=sL),Kt.init(e,t)}),e4=ge("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=lL),Kt.init(e,t)}),t4=ge("$ZodULID",(e,t)=>{t.pattern??(t.pattern=cL),Kt.init(e,t)}),n4=ge("$ZodXID",(e,t)=>{t.pattern??(t.pattern=uL),Kt.init(e,t)}),r4=ge("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=pL),Kt.init(e,t)}),a4=ge("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=EL(t)),Kt.init(e,t)}),i4=ge("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=CL),Kt.init(e,t)}),o4=ge("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=SL(t)),Kt.init(e,t)}),s4=ge("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=fL),Kt.init(e,t)}),l4=ge("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=vL),Kt.init(e,t),e._zod.bag.format="ipv4"}),c4=ge("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=bL),Kt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),u4=ge("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=xL),Kt.init(e,t)}),p4=ge("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=_L),Kt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,o]=r;if(!o)throw new Error;const s=Number(o);if(`${s}`!==o)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function b0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const d4=ge("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=wL),Kt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{b0(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function f4(e){if(!d0.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return b0(n)}const h4=ge("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=d0),Kt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{f4(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),m4=ge("$ZodE164",(e,t)=>{t.pattern??(t.pattern=kL),Kt.init(e,t)});function g4(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const y4=ge("$ZodJWT",(e,t)=>{Kt.init(e,t),e._zod.check=n=>{g4(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),x0=ge("$ZodNumber",(e,t)=>{qt.init(e,t),e._zod.pattern=e._zod.bag.pattern??m0,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...o?{received:o}:{}}),n}}),v4=ge("$ZodNumberFormat",(e,t)=>{zL.init(e,t),x0.init(e,t)}),b4=ge("$ZodBoolean",(e,t)=>{qt.init(e,t),e._zod.pattern=IL,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}}),x4=ge("$ZodNull",(e,t)=>{qt.init(e,t),e._zod.pattern=jL,e._zod.values=new Set([null]),e._zod.parse=(n,r)=>{const a=n.value;return a===null||n.issues.push({expected:"null",code:"invalid_type",input:a,inst:e}),n}}),_4=ge("$ZodUnknown",(e,t)=>{qt.init(e,t),e._zod.parse=n=>n}),w4=ge("$ZodNever",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Yg(e,t,n){e.issues.length&&t.issues.push(...Si(n,e.issues)),t.value[n]=e.value}const k4=ge("$ZodArray",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const o=[];for(let s=0;s<a.length;s++){const l=a[s],u=t.element._zod.run({value:l,issues:[]},r);u instanceof Promise?o.push(u.then(p=>Yg(p,n,s))):Yg(u,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function fl(e,t,n,r,a){if(e.issues.length){if(a&&!(n in r))return;t.issues.push(...Si(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function _0(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=LD(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function w0(e,t,n,r,a,o){const s=[],l=a.keySet,u=a.catchall._zod,p=u.def.type,d=u.optout==="optional";for(const h in t){if(l.has(h))continue;if(p==="never"){s.push(h);continue}const m=u.run({value:t[h],issues:[]},r);m instanceof Promise?e.push(m.then(v=>fl(v,n,h,t,d))):fl(m,n,h,t,d)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const C4=ge("$ZodObject",(e,t)=>{if(qt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...l};return Object.defineProperty(t,"shape",{value:u}),u}})}const r=Bl(()=>_0(t));bt(e._zod,"propValues",()=>{const l=t.shape,u={};for(const p in l){const d=l[p]._zod;if(d.values){u[p]??(u[p]=new Set);for(const h of d.values)u[p].add(h)}}return u});const a=jo,o=t.catchall;let s;e._zod.parse=(l,u)=>{s??(s=r.value);const p=l.value;if(!a(p))return l.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),l;l.value={};const d=[],h=s.shape;for(const m of s.keys){const v=h[m],y=v._zod.optout==="optional",_=v._zod.run({value:p[m],issues:[]},u);_ instanceof Promise?d.push(_.then(b=>fl(b,l,m,p,y))):fl(_,l,m,p,y)}return o?w0(d,p,l,u,r.value,e):d.length?Promise.all(d).then(()=>l):l}}),S4=ge("$ZodObjectJIT",(e,t)=>{C4.init(e,t);const n=e._zod.parse,r=Bl(()=>_0(t)),a=m=>{const v=new qL(["shape","payload","ctx"]),y=r.value,_=T=>{const I=Jg(T);return`shape[${I}]._zod.run({ value: input[${I}], issues: [] }, ctx)`};v.write("const input = payload.value;");const b=Object.create(null);let k=0;for(const T of y.keys)b[T]=`key_${k++}`;v.write("const newResult = {};");for(const T of y.keys){const I=b[T],N=Jg(T),U=m[T]?._zod?.optout==="optional";v.write(`const ${I} = ${_(T)};`),U?v.write(`
        if (${I}.issues.length) {
          if (${N} in input) {
            payload.issues = payload.issues.concat(${I}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${N}, ...iss.path] : [${N}]
            })));
          }
        }
        
        if (${I}.value === undefined) {
          if (${N} in input) {
            newResult[${N}] = undefined;
          }
        } else {
          newResult[${N}] = ${I}.value;
        }
        
      `):v.write(`
        if (${I}.issues.length) {
          payload.issues = payload.issues.concat(${I}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${N}, ...iss.path] : [${N}]
          })));
        }
        
        if (${I}.value === undefined) {
          if (${N} in input) {
            newResult[${N}] = undefined;
          }
        } else {
          newResult[${N}] = ${I}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");const E=v.compile();return(T,I)=>E(m,T,I)};let o;const s=jo,l=!i0.jitless,p=l&&FD.value,d=t.catchall;let h;e._zod.parse=(m,v)=>{h??(h=r.value);const y=m.value;return s(y)?l&&p&&v?.async===!1&&v.jitless!==!0?(o||(o=a(t.shape)),m=o(m,v),d?w0([],y,m,v,h,e):m):n(m,v):(m.issues.push({expected:"object",code:"invalid_type",input:y,inst:e}),m)}});function Xg(e,t,n,r){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const a=e.filter(o=>!Ci(o));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(o=>o.issues.map(s=>ka(s,r,wa())))}),t)}const k0=ge("$ZodUnion",(e,t)=>{qt.init(e,t),bt(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),bt(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),bt(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),bt(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>zd(o.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(a,o)=>{if(n)return r(a,o);let s=!1;const l=[];for(const u of t.options){const p=u._zod.run({value:a.value,issues:[]},o);if(p instanceof Promise)l.push(p),s=!0;else{if(p.issues.length===0)return p;l.push(p)}}return s?Promise.all(l).then(u=>Xg(u,a,e,o)):Xg(l,a,e,o)}}),E4=ge("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,k0.init(e,t);const n=e._zod.parse;bt(e._zod,"propValues",()=>{const a={};for(const o of t.options){const s=o._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const[l,u]of Object.entries(s)){a[l]||(a[l]=new Set);for(const p of u)a[l].add(p)}}return a});const r=Bl(()=>{const a=t.options,o=new Map;for(const s of a){const l=s._zod.propValues?.[t.discriminator];if(!l||l.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(const u of l){if(o.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);o.set(u,s)}}return o});e._zod.parse=(a,o)=>{const s=a.value;if(!jo(s))return a.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),a;const l=r.value.get(s?.[t.discriminator]);return l?l._zod.run(a,o):t.unionFallback?n(a,o):(a.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:s,path:[t.discriminator],inst:e}),a)}}),A4=ge("$ZodIntersection",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value,o=t.left._zod.run({value:a,issues:[]},r),s=t.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([u,p])=>Qg(n,u,p)):Qg(n,o,s)}});function Rp(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Mi(e)&&Mi(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),a={...e,...t};for(const o of r){const s=Rp(e[o],t[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};a[o]=s.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=e[r],o=t[r],s=Rp(a,o);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Qg(e,t,n){const r=new Map;let a;for(const l of t.issues)if(l.code==="unrecognized_keys"){a??(a=l);for(const u of l.keys)r.has(u)||r.set(u,{}),r.get(u).l=!0}else e.issues.push(l);for(const l of n.issues)if(l.code==="unrecognized_keys")for(const u of l.keys)r.has(u)||r.set(u,{}),r.get(u).r=!0;else e.issues.push(l);const o=[...r].filter(([,l])=>l.l&&l.r).map(([l])=>l);if(o.length&&a&&e.issues.push({...a,keys:o}),Ci(e))return e;const s=Rp(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const T4=ge("$ZodRecord",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Mi(a))return n.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),n;const o=[],s=t.keyType._zod.values;if(s){n.value={};const l=new Set;for(const p of s)if(typeof p=="string"||typeof p=="number"||typeof p=="symbol"){l.add(typeof p=="number"?p.toString():p);const d=t.valueType._zod.run({value:a[p],issues:[]},r);d instanceof Promise?o.push(d.then(h=>{h.issues.length&&n.issues.push(...Si(p,h.issues)),n.value[p]=h.value})):(d.issues.length&&n.issues.push(...Si(p,d.issues)),n.value[p]=d.value)}let u;for(const p in a)l.has(p)||(u=u??[],u.push(p));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:u})}else{n.value={};for(const l of Reflect.ownKeys(a)){if(l==="__proto__")continue;let u=t.keyType._zod.run({value:l,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof l=="string"&&m0.test(l)&&u.issues.length){const h=t.keyType._zod.run({value:Number(l),issues:[]},r);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");h.issues.length===0&&(u=h)}if(u.issues.length){t.mode==="loose"?n.value[l]=a[l]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(h=>ka(h,r,wa())),input:l,path:[l],inst:e});continue}const d=t.valueType._zod.run({value:a[l],issues:[]},r);d instanceof Promise?o.push(d.then(h=>{h.issues.length&&n.issues.push(...Si(l,h.issues)),n.value[u.value]=h.value})):(d.issues.length&&n.issues.push(...Si(l,d.issues)),n.value[u.value]=d.value)}}return o.length?Promise.all(o).then(()=>n):n}}),I4=ge("$ZodEnum",(e,t)=>{qt.init(e,t);const n=o0(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(a=>DD.has(typeof a)).map(a=>typeof a=="string"?zi(a):a.toString()).join("|")})$`),e._zod.parse=(a,o)=>{const s=a.value;return r.has(s)||a.issues.push({code:"invalid_value",values:n,input:s,inst:e}),a}}),j4=ge("$ZodLiteral",(e,t)=>{if(qt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?zi(r):r?zi(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,a)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:t.values,input:o,inst:e}),r}}),R4=ge("$ZodTransform",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new a0(e.constructor.name);const a=t.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(s=>(n.value=s,n));if(a instanceof Promise)throw new ji;return n.value=a,n}});function ey(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const C0=ge("$ZodOptional",(e,t)=>{qt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",bt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),bt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${zd(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>ey(o,n.value)):ey(a,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),O4=ge("$ZodExactOptional",(e,t)=>{C0.init(e,t),bt(e._zod,"values",()=>t.innerType._zod.values),bt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),M4=ge("$ZodNullable",(e,t)=>{qt.init(e,t),bt(e._zod,"optin",()=>t.innerType._zod.optin),bt(e._zod,"optout",()=>t.innerType._zod.optout),bt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${zd(n.source)}|null)$`):void 0}),bt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),z4=ge("$ZodDefault",(e,t)=>{qt.init(e,t),e._zod.optin="optional",bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>ty(o,t)):ty(a,t)}});function ty(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const P4=ge("$ZodPrefault",(e,t)=>{qt.init(e,t),e._zod.optin="optional",bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),N4=ge("$ZodNonOptional",(e,t)=>{qt.init(e,t),bt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>ny(o,e)):ny(a,e)}});function ny(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const $4=ge("$ZodCatch",(e,t)=>{qt.init(e,t),bt(e._zod,"optin",()=>t.innerType._zod.optin),bt(e._zod,"optout",()=>t.innerType._zod.optout),bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>ka(s,r,wa()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(o=>ka(o,r,wa()))},input:n.value}),n.issues=[]),n)}}),F4=ge("$ZodPipe",(e,t)=>{qt.init(e,t),bt(e._zod,"values",()=>t.in._zod.values),bt(e._zod,"optin",()=>t.in._zod.optin),bt(e._zod,"optout",()=>t.out._zod.optout),bt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=t.out._zod.run(n,r);return o instanceof Promise?o.then(s=>Vs(s,t.in,r)):Vs(o,t.in,r)}const a=t.in._zod.run(n,r);return a instanceof Promise?a.then(o=>Vs(o,t.out,r)):Vs(a,t.out,r)}});function Vs(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const D4=ge("$ZodReadonly",(e,t)=>{qt.init(e,t),bt(e._zod,"propValues",()=>t.innerType._zod.propValues),bt(e._zod,"values",()=>t.innerType._zod.values),bt(e._zod,"optin",()=>t.innerType?._zod?.optin),bt(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(ry):ry(a)}});function ry(e){return e.value=Object.freeze(e.value),e}const L4=ge("$ZodLazy",(e,t)=>{qt.init(e,t),bt(e._zod,"innerType",()=>t.getter()),bt(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),bt(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),bt(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),bt(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)}),B4=ge("$ZodCustom",(e,t)=>{qn.init(e,t),qt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(o=>ay(o,n,r,e));ay(a,n,r,e)}});function ay(e,t,n,r){if(!e){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(Ro(a))}}var iy;class U4{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Z4(){return new U4}(iy=globalThis).__zod_globalRegistry??(iy.__zod_globalRegistry=Z4());const yo=globalThis.__zod_globalRegistry;function H4(e,t){return new e({type:"string",...Je(t)})}function q4(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Je(t)})}function oy(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Je(t)})}function W4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Je(t)})}function V4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Je(t)})}function G4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Je(t)})}function J4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Je(t)})}function K4(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Je(t)})}function Y4(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Je(t)})}function X4(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Je(t)})}function Q4(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Je(t)})}function eB(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Je(t)})}function tB(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Je(t)})}function nB(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Je(t)})}function rB(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Je(t)})}function aB(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Je(t)})}function iB(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Je(t)})}function oB(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Je(t)})}function sB(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Je(t)})}function S0(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Je(t)})}function lB(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Je(t)})}function cB(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Je(t)})}function uB(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Je(t)})}function pB(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Je(t)})}function dB(e,t){return new e({type:"string",format:"date",check:"string_format",...Je(t)})}function fB(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Je(t)})}function hB(e,t){return new e({type:"string",format:"duration",check:"string_format",...Je(t)})}function mB(e,t){return new e({type:"number",checks:[],...Je(t)})}function gB(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Je(t)})}function yB(e,t){return new e({type:"boolean",...Je(t)})}function vB(e,t){return new e({type:"null",...Je(t)})}function bB(e){return new e({type:"unknown"})}function xB(e,t){return new e({type:"never",...Je(t)})}function sy(e,t){return new y0({check:"less_than",...Je(t),value:e,inclusive:!1})}function Pu(e,t){return new y0({check:"less_than",...Je(t),value:e,inclusive:!0})}function ly(e,t){return new v0({check:"greater_than",...Je(t),value:e,inclusive:!1})}function Nu(e,t){return new v0({check:"greater_than",...Je(t),value:e,inclusive:!0})}function cy(e,t){return new ML({check:"multiple_of",...Je(t),value:e})}function E0(e,t){return new PL({check:"max_length",...Je(t),maximum:e})}function hl(e,t){return new NL({check:"min_length",...Je(t),minimum:e})}function A0(e,t){return new $L({check:"length_equals",...Je(t),length:e})}function _B(e,t){return new FL({check:"string_format",format:"regex",...Je(t),pattern:e})}function wB(e){return new DL({check:"string_format",format:"lowercase",...Je(e)})}function kB(e){return new LL({check:"string_format",format:"uppercase",...Je(e)})}function CB(e,t){return new BL({check:"string_format",format:"includes",...Je(t),includes:e})}function SB(e,t){return new UL({check:"string_format",format:"starts_with",...Je(t),prefix:e})}function EB(e,t){return new ZL({check:"string_format",format:"ends_with",...Je(t),suffix:e})}function Ui(e){return new HL({check:"overwrite",tx:e})}function AB(e){return Ui(t=>t.normalize(e))}function TB(){return Ui(e=>e.trim())}function IB(){return Ui(e=>e.toLowerCase())}function jB(){return Ui(e=>e.toUpperCase())}function RB(){return Ui(e=>$D(e))}function OB(e,t,n){return new e({type:"array",element:t,...Je(n)})}function MB(e,t,n){const r=Je(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}function zB(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Je(n)})}function PB(e){const t=NB(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Ro(r,n.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),n.issues.push(Ro(a))}},e(n.value,n)));return t}function NB(e,t){const n=new qn({check:"custom",...Je(t)});return n._zod.check=e,n}function ml(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??yo,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Lt(e,t,n={path:[],schemaPath:[]}){var r;const a=e._zod.def,o=t.seen.get(e);if(o)return o.count++,n.schemaPath.includes(e)&&(o.cycle=n.path),o.schema;const s={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,s);const l=e._zod.toJSONSchema?.();if(l)s.schema=l;else{const d={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,s.schema,d);else{const m=s.schema,v=t.processors[a.type];if(!v)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);v(e,t,m,d)}const h=e._zod.parent;h&&(s.ref||(s.ref=h),Lt(h,t,d),t.seen.get(h).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(s.schema,u),t.io==="input"&&On(e)&&(delete s.schema.examples,delete s.schema.default),t.io==="input"&&s.schema._prefault&&((r=s.schema).default??(r.default=s.schema._prefault)),delete s.schema._prefault,t.seen.get(e).schema}function gl(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const s of e.seen.entries()){const l=e.metadataRegistry.get(s[0])?.id;if(l){const u=r.get(l);if(u&&u!==s[0])throw new Error(`Duplicate schema id "${l}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(l,s[0])}}const a=s=>{const l=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const h=e.external.registry.get(s[0])?.id,m=e.external.uri??(y=>y);if(h)return{ref:m(h)};const v=s[1].defId??s[1].schema.id??`schema${e.counter++}`;return s[1].defId=v,{defId:v,ref:`${m("__shared")}#/${l}/${v}`}}if(s[1]===n)return{ref:"#"};const p=`#/${l}/`,d=s[1].schema.id??`__schema${e.counter++}`;return{defId:d,ref:p+d}},o=s=>{if(s[1].schema.$ref)return;const l=s[1],{ref:u,defId:p}=a(s);l.def={...l.schema},p&&(l.defId=p);const d=l.schema;for(const h in d)delete d[h];d.$ref=u};if(e.cycles==="throw")for(const s of e.seen.entries()){const l=s[1];if(l.cycle)throw new Error(`Cycle detected: #/${l.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of e.seen.entries()){const l=s[1];if(t===s[0]){o(s);continue}if(e.external){const p=e.external.registry.get(s[0])?.id;if(t!==s[0]&&p){o(s);continue}}if(e.metadataRegistry.get(s[0])?.id){o(s);continue}if(l.cycle){o(s);continue}if(l.count>1&&e.reused==="ref"){o(s);continue}}}function yl(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=s=>{const l=e.seen.get(s);if(l.ref===null)return;const u=l.def??l.schema,p={...u},d=l.ref;if(l.ref=null,d){r(d);const m=e.seen.get(d),v=m.schema;if(v.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(v)):Object.assign(u,v),Object.assign(u,p),s._zod.parent===d)for(const _ in u)_==="$ref"||_==="allOf"||_ in p||delete u[_];if(v.$ref&&m.def)for(const _ in u)_==="$ref"||_==="allOf"||_ in m.def&&JSON.stringify(u[_])===JSON.stringify(m.def[_])&&delete u[_]}const h=s._zod.parent;if(h&&h!==d){r(h);const m=e.seen.get(h);if(m?.schema.$ref&&(u.$ref=m.schema.$ref,m.def))for(const v in u)v==="$ref"||v==="allOf"||v in m.def&&JSON.stringify(u[v])===JSON.stringify(m.def[v])&&delete u[v]}e.override({zodSchema:s,jsonSchema:u,path:l.path??[]})};for(const s of[...e.seen.entries()].reverse())r(s[0]);const a={};if(e.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const s=e.external.registry.get(t)?.id;if(!s)throw new Error("Schema is missing an `id` property");a.$id=e.external.uri(s)}Object.assign(a,n.def??n.schema);const o=e.external?.defs??{};for(const s of e.seen.entries()){const l=s[1];l.def&&l.defId&&(o[l.defId]=l.def)}e.external||Object.keys(o).length>0&&(e.target==="draft-2020-12"?a.$defs=o:a.definitions=o);try{const s=JSON.parse(JSON.stringify(a));return Object.defineProperty(s,"~standard",{value:{...t["~standard"],jsonSchema:{input:vl(t,"input",e.processors),output:vl(t,"output",e.processors)}},enumerable:!1,writable:!1}),s}catch{throw new Error("Error converting schema to JSON.")}}function On(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return On(r.element,n);if(r.type==="set")return On(r.valueType,n);if(r.type==="lazy")return On(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return On(r.innerType,n);if(r.type==="intersection")return On(r.left,n)||On(r.right,n);if(r.type==="record"||r.type==="map")return On(r.keyType,n)||On(r.valueType,n);if(r.type==="pipe")return On(r.in,n)||On(r.out,n);if(r.type==="object"){for(const a in r.shape)if(On(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(On(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(On(a,n))return!0;return!!(r.rest&&On(r.rest,n))}return!1}const $B=(e,t={})=>n=>{const r=ml({...n,processors:t});return Lt(e,r),gl(r,e),yl(r,e)},vl=(e,t,n={})=>r=>{const{libraryOptions:a,target:o}=r??{},s=ml({...a??{},target:o,io:t,processors:n});return Lt(e,s),gl(s,e),yl(s,e)},FB={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},T0=(e,t,n,r)=>{const a=n;a.type="string";const{minimum:o,maximum:s,format:l,patterns:u,contentEncoding:p}=e._zod.bag;if(typeof o=="number"&&(a.minLength=o),typeof s=="number"&&(a.maxLength=s),l&&(a.format=FB[l]??l,a.format===""&&delete a.format,l==="time"&&delete a.format),p&&(a.contentEncoding=p),u&&u.size>0){const d=[...u];d.length===1?a.pattern=d[0].source:d.length>1&&(a.allOf=[...d.map(h=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},I0=(e,t,n,r)=>{const a=n,{minimum:o,maximum:s,format:l,multipleOf:u,exclusiveMaximum:p,exclusiveMinimum:d}=e._zod.bag;typeof l=="string"&&l.includes("int")?a.type="integer":a.type="number",typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.minimum=d,a.exclusiveMinimum=!0):a.exclusiveMinimum=d),typeof o=="number"&&(a.minimum=o,typeof d=="number"&&t.target!=="draft-04"&&(d>=o?delete a.minimum:delete a.exclusiveMinimum)),typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.maximum=p,a.exclusiveMaximum=!0):a.exclusiveMaximum=p),typeof s=="number"&&(a.maximum=s,typeof p=="number"&&t.target!=="draft-04"&&(p<=s?delete a.maximum:delete a.exclusiveMaximum)),typeof u=="number"&&(a.multipleOf=u)},j0=(e,t,n,r)=>{n.type="boolean"},DB=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},LB=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},R0=(e,t,n,r)=>{t.target==="openapi-3.0"?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"},BB=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},UB=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},O0=(e,t,n,r)=>{n.not={}},ZB=(e,t,n,r)=>{},M0=(e,t,n,r)=>{},HB=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},z0=(e,t,n,r)=>{const a=e._zod.def,o=o0(a.entries);o.every(s=>typeof s=="number")&&(n.type="number"),o.every(s=>typeof s=="string")&&(n.type="string"),n.enum=o},P0=(e,t,n,r)=>{const a=e._zod.def,o=[];for(const s of a.values)if(s===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof s=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(s))}else o.push(s);if(o.length!==0)if(o.length===1){const s=o[0];n.type=s===null?"null":typeof s,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[s]:n.const=s}else o.every(s=>typeof s=="number")&&(n.type="number"),o.every(s=>typeof s=="string")&&(n.type="string"),o.every(s=>typeof s=="boolean")&&(n.type="boolean"),o.every(s=>s===null)&&(n.type="null"),n.enum=o},qB=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},WB=(e,t,n,r)=>{const a=n,o=e._zod.pattern;if(!o)throw new Error("Pattern not found in template literal");a.type="string",a.pattern=o.source},VB=(e,t,n,r)=>{const a=n,o={type:"string",format:"binary",contentEncoding:"binary"},{minimum:s,maximum:l,mime:u}=e._zod.bag;s!==void 0&&(o.minLength=s),l!==void 0&&(o.maxLength=l),u?u.length===1?(o.contentMediaType=u[0],Object.assign(a,o)):(Object.assign(a,o),a.anyOf=u.map(p=>({contentMediaType:p}))):Object.assign(a,o)},GB=(e,t,n,r)=>{n.type="boolean"},N0=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},JB=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},$0=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},KB=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},YB=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},F0=(e,t,n,r)=>{const a=n,o=e._zod.def,{minimum:s,maximum:l}=e._zod.bag;typeof s=="number"&&(a.minItems=s),typeof l=="number"&&(a.maxItems=l),a.type="array",a.items=Lt(o.element,t,{...r,path:[...r.path,"items"]})},D0=(e,t,n,r)=>{const a=n,o=e._zod.def;a.type="object",a.properties={};const s=o.shape;for(const p in s)a.properties[p]=Lt(s[p],t,{...r,path:[...r.path,"properties",p]});const l=new Set(Object.keys(s)),u=new Set([...l].filter(p=>{const d=o.shape[p]._zod;return t.io==="input"?d.optin===void 0:d.optout===void 0}));u.size>0&&(a.required=Array.from(u)),o.catchall?._zod.def.type==="never"?a.additionalProperties=!1:o.catchall?o.catchall&&(a.additionalProperties=Lt(o.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(a.additionalProperties=!1)},L0=(e,t,n,r)=>{const a=e._zod.def,o=a.inclusive===!1,s=a.options.map((l,u)=>Lt(l,t,{...r,path:[...r.path,o?"oneOf":"anyOf",u]}));o?n.oneOf=s:n.anyOf=s},B0=(e,t,n,r)=>{const a=e._zod.def,o=Lt(a.left,t,{...r,path:[...r.path,"allOf",0]}),s=Lt(a.right,t,{...r,path:[...r.path,"allOf",1]}),l=p=>"allOf"in p&&Object.keys(p).length===1,u=[...l(o)?o.allOf:[o],...l(s)?s.allOf:[s]];n.allOf=u},XB=(e,t,n,r)=>{const a=n,o=e._zod.def;a.type="array";const s=t.target==="draft-2020-12"?"prefixItems":"items",l=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",u=o.items.map((m,v)=>Lt(m,t,{...r,path:[...r.path,s,v]})),p=o.rest?Lt(o.rest,t,{...r,path:[...r.path,l,...t.target==="openapi-3.0"?[o.items.length]:[]]}):null;t.target==="draft-2020-12"?(a.prefixItems=u,p&&(a.items=p)):t.target==="openapi-3.0"?(a.items={anyOf:u},p&&a.items.anyOf.push(p),a.minItems=u.length,p||(a.maxItems=u.length)):(a.items=u,p&&(a.additionalItems=p));const{minimum:d,maximum:h}=e._zod.bag;typeof d=="number"&&(a.minItems=d),typeof h=="number"&&(a.maxItems=h)},U0=(e,t,n,r)=>{const a=n,o=e._zod.def;a.type="object";const s=o.keyType,u=s._zod.bag?.patterns;if(o.mode==="loose"&&u&&u.size>0){const d=Lt(o.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});a.patternProperties={};for(const h of u)a.patternProperties[h.source]=d}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(a.propertyNames=Lt(o.keyType,t,{...r,path:[...r.path,"propertyNames"]})),a.additionalProperties=Lt(o.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const p=s._zod.values;if(p){const d=[...p].filter(h=>typeof h=="string"||typeof h=="number");d.length>0&&(a.required=d)}},Z0=(e,t,n,r)=>{const a=e._zod.def,o=Lt(a.innerType,t,r),s=t.seen.get(e);t.target==="openapi-3.0"?(s.ref=a.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},H0=(e,t,n,r)=>{const a=e._zod.def;Lt(a.innerType,t,r);const o=t.seen.get(e);o.ref=a.innerType},q0=(e,t,n,r)=>{const a=e._zod.def;Lt(a.innerType,t,r);const o=t.seen.get(e);o.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},W0=(e,t,n,r)=>{const a=e._zod.def;Lt(a.innerType,t,r);const o=t.seen.get(e);o.ref=a.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},V0=(e,t,n,r)=>{const a=e._zod.def;Lt(a.innerType,t,r);const o=t.seen.get(e);o.ref=a.innerType;let s;try{s=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=s},G0=(e,t,n,r)=>{const a=e._zod.def,o=t.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;Lt(o,t,r);const s=t.seen.get(e);s.ref=o},J0=(e,t,n,r)=>{const a=e._zod.def;Lt(a.innerType,t,r);const o=t.seen.get(e);o.ref=a.innerType,n.readOnly=!0},QB=(e,t,n,r)=>{const a=e._zod.def;Lt(a.innerType,t,r);const o=t.seen.get(e);o.ref=a.innerType},Dd=(e,t,n,r)=>{const a=e._zod.def;Lt(a.innerType,t,r);const o=t.seen.get(e);o.ref=a.innerType},K0=(e,t,n,r)=>{const a=e._zod.innerType;Lt(a,t,r);const o=t.seen.get(e);o.ref=a},uy={string:T0,number:I0,boolean:j0,bigint:DB,symbol:LB,null:R0,undefined:BB,void:UB,never:O0,any:ZB,unknown:M0,date:HB,enum:z0,literal:P0,nan:qB,template_literal:WB,file:VB,success:GB,custom:N0,function:JB,transform:$0,map:KB,set:YB,array:F0,object:D0,union:L0,intersection:B0,tuple:XB,record:U0,nullable:Z0,nonoptional:H0,default:q0,prefault:W0,catch:V0,pipe:G0,readonly:J0,promise:QB,optional:Dd,lazy:K0};function Y0(e,t){if("_idmap"in e){const r=e,a=ml({...t,processors:uy}),o={};for(const u of r._idmap.entries()){const[p,d]=u;Lt(d,a)}const s={},l={registry:r,uri:t?.uri,defs:o};a.external=l;for(const u of r._idmap.entries()){const[p,d]=u;gl(a,d),s[p]=yl(a,d)}if(Object.keys(o).length>0){const u=a.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[u]:o}}return{schemas:s}}const n=ml({...t,processors:uy});return Lt(e,n),gl(n,e),yl(n,e)}const e5=ge("ZodISODateTime",(e,t)=>{a4.init(e,t),nn.init(e,t)});function t5(e){return pB(e5,e)}const n5=ge("ZodISODate",(e,t)=>{i4.init(e,t),nn.init(e,t)});function r5(e){return dB(n5,e)}const a5=ge("ZodISOTime",(e,t)=>{o4.init(e,t),nn.init(e,t)});function i5(e){return fB(a5,e)}const o5=ge("ZodISODuration",(e,t)=>{s4.init(e,t),nn.init(e,t)});function s5(e){return hB(o5,e)}const l5=(e,t)=>{u0.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>KD(e,n)},flatten:{value:n=>JD(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,jp,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,jp,2)}},isEmpty:{get(){return e.issues.length===0}}})},xr=ge("ZodError",l5,{Parent:Error}),c5=Nd(xr),u5=$d(xr),p5=Ul(xr),Ld=Zl(xr),d5=QD(xr),f5=eL(xr),h5=tL(xr),m5=nL(xr),g5=rL(xr),y5=aL(xr),v5=iL(xr),b5=oL(xr),Wt=ge("ZodType",(e,t)=>(qt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:vl(e,"input"),output:vl(e,"output")}}),e.toJSONSchema=$B(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Aa(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>Ta(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>c5(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>p5(e,n,r),e.parseAsync=async(n,r)=>u5(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>Ld(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>d5(e,n,r),e.decode=(n,r)=>f5(e,n,r),e.encodeAsync=async(n,r)=>h5(e,n,r),e.decodeAsync=async(n,r)=>m5(e,n,r),e.safeEncode=(n,r)=>g5(e,n,r),e.safeDecode=(n,r)=>y5(e,n,r),e.safeEncodeAsync=async(n,r)=>v5(e,n,r),e.safeDecodeAsync=async(n,r)=>b5(e,n,r),e.refine=(n,r)=>e.check(u6(n,r)),e.superRefine=n=>e.check(p6(n)),e.overwrite=n=>e.check(Ui(n)),e.optional=()=>dn(e),e.exactOptional=()=>Y5(e),e.nullable=()=>fy(e),e.nullish=()=>dn(fy(e)),e.nonoptional=n=>r6(e,n),e.array=()=>Wn(e),e.or=n=>Rt([e,n]),e.and=n=>q5(e,n),e.transform=n=>hy(e,J5(n)),e.default=n=>e6(e,n),e.prefault=n=>n6(e,n),e.catch=n=>i6(e,n),e.pipe=n=>hy(e,n),e.readonly=()=>l6(e),e.describe=n=>{const r=e.clone();return yo.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return yo.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return yo.get(e);const r=e.clone();return yo.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),X0=ge("_ZodString",(e,t)=>{Fd.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(r,a,o)=>T0(e,r,a);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(_B(...r)),e.includes=(...r)=>e.check(CB(...r)),e.startsWith=(...r)=>e.check(SB(...r)),e.endsWith=(...r)=>e.check(EB(...r)),e.min=(...r)=>e.check(hl(...r)),e.max=(...r)=>e.check(E0(...r)),e.length=(...r)=>e.check(A0(...r)),e.nonempty=(...r)=>e.check(hl(1,...r)),e.lowercase=r=>e.check(wB(r)),e.uppercase=r=>e.check(kB(r)),e.trim=()=>e.check(TB()),e.normalize=(...r)=>e.check(AB(...r)),e.toLowerCase=()=>e.check(IB()),e.toUpperCase=()=>e.check(jB()),e.slugify=()=>e.check(RB())}),x5=ge("ZodString",(e,t)=>{Fd.init(e,t),X0.init(e,t),e.email=n=>e.check(q4(_5,n)),e.url=n=>e.check(K4(w5,n)),e.jwt=n=>e.check(uB(N5,n)),e.emoji=n=>e.check(Y4(k5,n)),e.guid=n=>e.check(oy(py,n)),e.uuid=n=>e.check(W4(Gs,n)),e.uuidv4=n=>e.check(V4(Gs,n)),e.uuidv6=n=>e.check(G4(Gs,n)),e.uuidv7=n=>e.check(J4(Gs,n)),e.nanoid=n=>e.check(X4(C5,n)),e.guid=n=>e.check(oy(py,n)),e.cuid=n=>e.check(Q4(S5,n)),e.cuid2=n=>e.check(eB(E5,n)),e.ulid=n=>e.check(tB(A5,n)),e.base64=n=>e.check(S0(Q0,n)),e.base64url=n=>e.check(lB(z5,n)),e.xid=n=>e.check(nB(T5,n)),e.ksuid=n=>e.check(rB(I5,n)),e.ipv4=n=>e.check(aB(j5,n)),e.ipv6=n=>e.check(iB(R5,n)),e.cidrv4=n=>e.check(oB(O5,n)),e.cidrv6=n=>e.check(sB(M5,n)),e.e164=n=>e.check(cB(P5,n)),e.datetime=n=>e.check(t5(n)),e.date=n=>e.check(r5(n)),e.time=n=>e.check(i5(n)),e.duration=n=>e.check(s5(n))});function ue(e){return H4(x5,e)}const nn=ge("ZodStringFormat",(e,t)=>{Kt.init(e,t),X0.init(e,t)}),_5=ge("ZodEmail",(e,t)=>{JL.init(e,t),nn.init(e,t)}),py=ge("ZodGUID",(e,t)=>{VL.init(e,t),nn.init(e,t)}),Gs=ge("ZodUUID",(e,t)=>{GL.init(e,t),nn.init(e,t)}),w5=ge("ZodURL",(e,t)=>{KL.init(e,t),nn.init(e,t)}),k5=ge("ZodEmoji",(e,t)=>{YL.init(e,t),nn.init(e,t)}),C5=ge("ZodNanoID",(e,t)=>{XL.init(e,t),nn.init(e,t)}),S5=ge("ZodCUID",(e,t)=>{QL.init(e,t),nn.init(e,t)}),E5=ge("ZodCUID2",(e,t)=>{e4.init(e,t),nn.init(e,t)}),A5=ge("ZodULID",(e,t)=>{t4.init(e,t),nn.init(e,t)}),T5=ge("ZodXID",(e,t)=>{n4.init(e,t),nn.init(e,t)}),I5=ge("ZodKSUID",(e,t)=>{r4.init(e,t),nn.init(e,t)}),j5=ge("ZodIPv4",(e,t)=>{l4.init(e,t),nn.init(e,t)}),R5=ge("ZodIPv6",(e,t)=>{c4.init(e,t),nn.init(e,t)}),O5=ge("ZodCIDRv4",(e,t)=>{u4.init(e,t),nn.init(e,t)}),M5=ge("ZodCIDRv6",(e,t)=>{p4.init(e,t),nn.init(e,t)}),Q0=ge("ZodBase64",(e,t)=>{d4.init(e,t),nn.init(e,t)});function e_(e){return S0(Q0,e)}const z5=ge("ZodBase64URL",(e,t)=>{h4.init(e,t),nn.init(e,t)}),P5=ge("ZodE164",(e,t)=>{m4.init(e,t),nn.init(e,t)}),N5=ge("ZodJWT",(e,t)=>{y4.init(e,t),nn.init(e,t)}),t_=ge("ZodNumber",(e,t)=>{x0.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(r,a,o)=>I0(e,r,a),e.gt=(r,a)=>e.check(ly(r,a)),e.gte=(r,a)=>e.check(Nu(r,a)),e.min=(r,a)=>e.check(Nu(r,a)),e.lt=(r,a)=>e.check(sy(r,a)),e.lte=(r,a)=>e.check(Pu(r,a)),e.max=(r,a)=>e.check(Pu(r,a)),e.int=r=>e.check(dy(r)),e.safe=r=>e.check(dy(r)),e.positive=r=>e.check(ly(0,r)),e.nonnegative=r=>e.check(Nu(0,r)),e.negative=r=>e.check(sy(0,r)),e.nonpositive=r=>e.check(Pu(0,r)),e.multipleOf=(r,a)=>e.check(cy(r,a)),e.step=(r,a)=>e.check(cy(r,a)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Pi(e){return mB(t_,e)}const $5=ge("ZodNumberFormat",(e,t)=>{v4.init(e,t),t_.init(e,t)});function dy(e){return gB($5,e)}const F5=ge("ZodBoolean",(e,t)=>{b4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>j0(e,n,r)});function pt(e){return yB(F5,e)}const D5=ge("ZodNull",(e,t)=>{x4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>R0(e,n,r)});function n_(e){return vB(D5,e)}const L5=ge("ZodUnknown",(e,t)=>{_4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>M0()});function St(){return bB(L5)}const B5=ge("ZodNever",(e,t)=>{w4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>O0(e,n,r)});function Un(e){return xB(B5,e)}const U5=ge("ZodArray",(e,t)=>{k4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>F0(e,n,r,a),e.element=t.element,e.min=(n,r)=>e.check(hl(n,r)),e.nonempty=n=>e.check(hl(1,n)),e.max=(n,r)=>e.check(E0(n,r)),e.length=(n,r)=>e.check(A0(n,r)),e.unwrap=()=>e.element});function Wn(e,t){return OB(U5,e,t)}const Bd=ge("ZodObject",(e,t)=>{S4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>D0(e,n,r,a),bt(e,"shape",()=>t.shape),e.keyof=()=>Uo(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:St()}),e.loose=()=>e.clone({...e._zod.def,catchall:St()}),e.strict=()=>e.clone({...e._zod.def,catchall:Un()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>HD(e,n),e.safeExtend=n=>qD(e,n),e.merge=n=>WD(e,n),e.pick=n=>UD(e,n),e.omit=n=>ZD(e,n),e.partial=(...n)=>VD(i_,e,n[0]),e.required=(...n)=>GD(o_,e,n[0])});function Ze(e,t){const n={type:"object",shape:e??{},...Je(t)};return new Bd(n)}function rt(e,t){return new Bd({type:"object",shape:e,catchall:Un(),...Je(t)})}function Ei(e,t){return new Bd({type:"object",shape:e,catchall:St(),...Je(t)})}const r_=ge("ZodUnion",(e,t)=>{k0.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>L0(e,n,r,a),e.options=t.options});function Rt(e,t){return new r_({type:"union",options:e,...Je(t)})}const Z5=ge("ZodDiscriminatedUnion",(e,t)=>{r_.init(e,t),E4.init(e,t)});function a_(e,t,n){return new Z5({type:"union",options:t,discriminator:e,...Je(n)})}const H5=ge("ZodIntersection",(e,t)=>{A4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>B0(e,n,r,a)});function q5(e,t){return new H5({type:"intersection",left:e,right:t})}const W5=ge("ZodRecord",(e,t)=>{T4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>U0(e,n,r,a),e.keyType=t.keyType,e.valueType=t.valueType});function Ni(e,t,n){return new W5({type:"record",keyType:e,valueType:t,...Je(n)})}const Op=ge("ZodEnum",(e,t)=>{I4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(r,a,o)=>z0(e,r,a),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const o={};for(const s of r)if(n.has(s))o[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Op({...t,checks:[],...Je(a),entries:o})},e.exclude=(r,a)=>{const o={...t.entries};for(const s of r)if(n.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new Op({...t,checks:[],...Je(a),entries:o})}});function Uo(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Op({type:"enum",entries:n,...Je(t)})}const V5=ge("ZodLiteral",(e,t)=>{j4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>P0(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Ee(e,t){return new V5({type:"literal",values:Array.isArray(e)?e:[e],...Je(t)})}const G5=ge("ZodTransform",(e,t)=>{R4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>$0(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new a0(e.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(Ro(o,n.value,t));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),n.issues.push(Ro(s))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function J5(e){return new G5({type:"transform",transform:e})}const i_=ge("ZodOptional",(e,t)=>{C0.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Dd(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function dn(e){return new i_({type:"optional",innerType:e})}const K5=ge("ZodExactOptional",(e,t)=>{O4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Dd(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function Y5(e){return new K5({type:"optional",innerType:e})}const X5=ge("ZodNullable",(e,t)=>{M4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Z0(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function fy(e){return new X5({type:"nullable",innerType:e})}const Q5=ge("ZodDefault",(e,t)=>{z4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>q0(e,n,r,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function e6(e,t){return new Q5({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():l0(t)}})}const t6=ge("ZodPrefault",(e,t)=>{P4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>W0(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function n6(e,t){return new t6({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():l0(t)}})}const o_=ge("ZodNonOptional",(e,t)=>{N4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>H0(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function r6(e,t){return new o_({type:"nonoptional",innerType:e,...Je(t)})}const a6=ge("ZodCatch",(e,t)=>{$4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>V0(e,n,r,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function i6(e,t){return new a6({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const o6=ge("ZodPipe",(e,t)=>{F4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>G0(e,n,r,a),e.in=t.in,e.out=t.out});function hy(e,t){return new o6({type:"pipe",in:e,out:t})}const s6=ge("ZodReadonly",(e,t)=>{D4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>J0(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function l6(e){return new s6({type:"readonly",innerType:e})}const c6=ge("ZodLazy",(e,t)=>{L4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>K0(e,n,r,a),e.unwrap=()=>e._zod.def.getter()});function s_(e){return new c6({type:"lazy",getter:e})}const Ud=ge("ZodCustom",(e,t)=>{B4.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>N0(e,n)});function ql(e,t){return MB(Ud,e??(()=>!0),t)}function u6(e,t={}){return zB(Ud,e,t)}function p6(e){return PB(e)}function Ca(e,t={}){const n=new Ud({type:"custom",check:"custom",fn:r=>r instanceof e,abort:!0,...Je(t)});return n._zod.bag.Class=e,n._zod.check=r=>{r.value instanceof e||r.issues.push({code:"invalid_type",expected:e.name,input:r.value,inst:n,path:[...n._zod.def.path??[]]})},n}var Oo;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const o={};for(const s of a)o[s]=s;return o},e.getValidEnumValues=a=>{const o=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),s={};for(const l of o)s[l]=a[l];return e.objectValues(s)},e.objectValues=a=>e.objectKeys(a).map(function(o){return a[o]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&o.push(s);return o},e.find=(a,o)=>{for(const s of a)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,o=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(Oo||(Oo={}));var my;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(my||(my={}));Oo.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);Oo.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class bl extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(o){return o.message},r={_errors:[]},a=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let l=r,u=0;for(;u<s.path.length;){const p=s.path[u];u===s.path.length-1?(l[p]=l[p]||{_errors:[]},l[p]._errors.push(n(s))):l[p]=l[p]||{_errors:[]},l=l[p],u++}}};return a(this),r}static assert(t){if(!(t instanceof bl))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Oo.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n=Object.create(null),r=[];for(const a of this.issues)if(a.path.length>0){const o=a.path[0];n[o]=n[o]||[],n[o].push(t(a))}else r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}bl.create=e=>new bl(e);var gy;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(gy||(gy={}));var $e;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})($e||($e={}));var Zo=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const a=()=>{const o=n.length,s=new Array(t);for(let l=0;l<t;l++)s[l]=n[Math.random()*o|0];return s.join("")};if(e==null)return a;if(n.includes(r))throw new RD({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${a()}`},d6=Zo();function yy(e=globalThis){var t,n,r;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(r=(n=e.process)==null?void 0:n.versions)!=null&&r.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function Za(e){if(e==null)return{};const t={};if(e instanceof Headers)e.forEach((n,r)=>{t[r.toLowerCase()]=n});else{Array.isArray(e)||(e=Object.entries(e));for(const[n,r]of e)r!=null&&(t[n.toLowerCase()]=r)}return t}function vy(e,...t){const n=new Headers(Za(e)),r=n.get("user-agent")||"";return n.set("user-agent",[r,...t].filter(Boolean).join(" ")),Object.fromEntries(n.entries())}var f6=/"__proto__"\s*:/,h6=/"constructor"\s*:/;function by(e){const t=JSON.parse(e);return t===null||typeof t!="object"||f6.test(e)===!1&&h6.test(e)===!1?t:m6(t)}function m6(e){let t=[e];for(;t.length;){const n=t;t=[];for(const r of n){if(Object.prototype.hasOwnProperty.call(r,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const a in r){const o=r[a];o&&typeof o=="object"&&t.push(o)}}}return e}function g6(e){const{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return by(e)}try{return by(e)}finally{Error.stackTraceLimit=t}}var xl=Symbol.for("vercel.ai.validator");function y6(e){return{[xl]:!0,validate:e}}function v6(e){return typeof e=="object"&&e!==null&&xl in e&&e[xl]===!0&&"validate"in e}function b6(e){let t;return()=>(t==null&&(t=e()),t)}function x6(e){return v6(e)?e:typeof e=="function"?e():_6(e)}function _6(e){return y6(async t=>{const n=await e["~standard"].validate(t);return n.issues==null?{success:!0,value:n.value}:{success:!1,error:new dl({value:t,cause:n.issues})}})}async function xy({value:e,schema:t}){const n=await Zd({value:e,schema:t});if(!n.success)throw dl.wrap({value:e,cause:n.error});return n.value}async function Zd({value:e,schema:t}){const n=x6(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};const r=await n.validate(e);return r.success?{success:!0,value:r.value,rawValue:e}:{success:!1,error:dl.wrap({value:e,cause:r.error}),rawValue:e}}catch(r){return{success:!1,error:dl.wrap({value:e,cause:r}),rawValue:e}}}async function _l({text:e,schema:t}){try{const n=g6(e);return t==null?{success:!0,value:n,rawValue:n}:await Zd({value:n,schema:t})}catch(n){return{success:!1,error:Hg.isInstance(n)?n:new Hg({text:e,cause:n}),rawValue:void 0}}}function w6({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new r0).pipeThrough(new TransformStream({async transform({data:n},r){n!=="[DONE]"&&r.enqueue(await _l({text:n,schema:t}))}}))}async function vi(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}function Qs(e){if(e.type==="object"){e.additionalProperties=!1;const t=e.properties;if(t!=null)for(const n in t)t[n]=Qs(t[n])}return e.type==="array"&&e.items!=null&&(Array.isArray(e.items)?e.items=e.items.map(t=>Qs(t)):e.items=Qs(e.items)),e}var k6=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},C6=Symbol("Let zodToJsonSchema decide on which parser to use"),_y={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},S6=e=>typeof e=="string"?{..._y,name:e}:{..._y,...e};function nr(){return{}}function E6(e,t){var n,r,a;const o={type:"array"};return(n=e.type)!=null&&n._def&&((a=(r=e.type)==null?void 0:r._def)==null?void 0:a.typeName)!==$e.ZodAny&&(o.items=Mt(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(o.minItems=e.minLength.value),e.maxLength&&(o.maxItems=e.maxLength.value),e.exactLength&&(o.minItems=e.exactLength.value,o.maxItems=e.exactLength.value),o}function A6(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function T6(){return{type:"boolean"}}function l_(e,t){return Mt(e.type._def,t)}var I6=(e,t)=>Mt(e.innerType._def,t);function c_(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,o)=>c_(e,t,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return j6(e)}}var j6=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value;break}return t};function R6(e,t){return{...Mt(e.innerType._def,t),default:e.defaultValue()}}function O6(e,t){return t.effectStrategy==="input"?Mt(e.schema._def,t):nr()}function M6(e){return{type:"string",enum:Array.from(e.values)}}var z6=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function P6(e,t){const n=[Mt(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Mt(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),r=[];return n.forEach(a=>{if(z6(a))r.push(...a.allOf);else{let o=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:s,...l}=a;o=l}r.push(o)}}),r.length?{allOf:r}:void 0}function N6(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var $u=void 0,Er={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>($u===void 0&&($u=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),$u),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function u_(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":Ar(n,"email",r.message,t);break;case"format:idn-email":Ar(n,"idn-email",r.message,t);break;case"pattern:zod":jn(n,Er.email,r.message,t);break}break;case"url":Ar(n,"uri",r.message,t);break;case"uuid":Ar(n,"uuid",r.message,t);break;case"regex":jn(n,r.regex,r.message,t);break;case"cuid":jn(n,Er.cuid,r.message,t);break;case"cuid2":jn(n,Er.cuid2,r.message,t);break;case"startsWith":jn(n,RegExp(`^${Fu(r.value,t)}`),r.message,t);break;case"endsWith":jn(n,RegExp(`${Fu(r.value,t)}$`),r.message,t);break;case"datetime":Ar(n,"date-time",r.message,t);break;case"date":Ar(n,"date",r.message,t);break;case"time":Ar(n,"time",r.message,t);break;case"duration":Ar(n,"duration",r.message,t);break;case"length":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"includes":{jn(n,RegExp(Fu(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&Ar(n,"ipv4",r.message,t),r.version!=="v4"&&Ar(n,"ipv6",r.message,t);break}case"base64url":jn(n,Er.base64url,r.message,t);break;case"jwt":jn(n,Er.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&jn(n,Er.ipv4Cidr,r.message,t),r.version!=="v4"&&jn(n,Er.ipv6Cidr,r.message,t);break}case"emoji":jn(n,Er.emoji(),r.message,t);break;case"ulid":{jn(n,Er.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Ar(n,"binary",r.message,t);break}case"contentEncoding:base64":{n.contentEncoding="base64";break}case"pattern:zod":{jn(n,Er.base64,r.message,t);break}}break}case"nanoid":jn(n,Er.nanoid,r.message,t)}return n}function Fu(e,t){return t.patternStrategy==="escape"?F6(e):e}var $6=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function F6(e){let t="";for(let n=0;n<e.length;n++)$6.has(e[n])||(t+="\\"),t+=e[n];return t}function Ar(e,t,n,r){var a;e.format||(a=e.anyOf)!=null&&a.some(o=>o.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function jn(e,t,n,r){var a;e.pattern||(a=e.allOf)!=null&&a.some(o=>o.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:wy(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=wy(t,r)}function wy(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=r.i?e.source.toLowerCase():e.source;let o="",s=!1,l=!1,u=!1;for(let p=0;p<a.length;p++){if(s){o+=a[p],s=!1;continue}if(r.i){if(l){if(a[p].match(/[a-z]/)){u?(o+=a[p],o+=`${a[p-2]}-${a[p]}`.toUpperCase(),u=!1):a[p+1]==="-"&&((n=a[p+2])!=null&&n.match(/[a-z]/))?(o+=a[p],u=!0):o+=`${a[p]}${a[p].toUpperCase()}`;continue}}else if(a[p].match(/[a-z]/)){o+=`[${a[p]}${a[p].toUpperCase()}]`;continue}}if(r.m){if(a[p]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(a[p]==="$"){o+=`($|(?=[\r
]))`;continue}}if(r.s&&a[p]==="."){o+=l?`${a[p]}\r
`:`[${a[p]}\r
]`;continue}o+=a[p],a[p]==="\\"?s=!0:l&&a[p]==="]"?l=!1:!l&&a[p]==="["&&(l=!0)}try{new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return o}function p_(e,t){var n,r,a,o,s,l;const u={type:"object",additionalProperties:(n=Mt(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?n:t.allowedAdditionalProperties};if(((r=e.keyType)==null?void 0:r._def.typeName)===$e.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){const{type:p,...d}=u_(e.keyType._def,t);return{...u,propertyNames:d}}else{if(((o=e.keyType)==null?void 0:o._def.typeName)===$e.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===$e.ZodBranded&&e.keyType._def.type._def.typeName===$e.ZodString&&((l=e.keyType._def.type._def.checks)!=null&&l.length)){const{type:p,...d}=l_(e.keyType._def,t);return{...u,propertyNames:d}}}return u}function D6(e,t){if(t.mapStrategy==="record")return p_(e,t);const n=Mt(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||nr(),r=Mt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||nr();return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function L6(e){const t=e.values,r=Object.keys(e.values).filter(o=>typeof t[t[o]]!="number").map(o=>t[o]),a=Array.from(new Set(r.map(o=>typeof o)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function B6(){return{not:nr()}}function U6(){return{type:"null"}}var Mp={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Z6(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in Mp&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((a,o)=>{const s=Mp[o._def.typeName];return s&&!a.includes(s)?[...a,s]:a},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((a,o)=>{const s=typeof o._def.value;switch(s){case"string":case"number":case"boolean":return[...a,s];case"bigint":return[...a,"integer"];case"object":if(o._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===n.length){const a=r.filter((o,s,l)=>l.indexOf(o)===s);return{type:a.length>1?a:a[0],enum:n.reduce((o,s)=>o.includes(s._def.value)?o:[...o,s._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,a)=>[...r,...a._def.values.filter(o=>!r.includes(o))],[])};return H6(e,t)}var H6=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,a)=>Mt(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function q6(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[Mp[e.innerType._def.typeName],"null"]};const n=Mt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function W6(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function V6(e,t){const n={type:"object",properties:{}},r=[],a=e.shape();for(const s in a){let l=a[s];if(l===void 0||l._def===void 0)continue;const u=J6(l),p=Mt(l._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});p!==void 0&&(n.properties[s]=p,u||r.push(s))}r.length&&(n.required=r);const o=G6(e,t);return o!==void 0&&(n.additionalProperties=o),n}function G6(e,t){if(e.catchall._def.typeName!=="ZodNever")return Mt(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function J6(e){try{return e.isOptional()}catch{return!0}}var K6=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return Mt(e.innerType._def,t);const r=Mt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:nr()},r]}:nr()},Y6=(e,t)=>{if(t.pipeStrategy==="input")return Mt(e.in._def,t);if(t.pipeStrategy==="output")return Mt(e.out._def,t);const n=Mt(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=Mt(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(a=>a!==void 0)}};function X6(e,t){return Mt(e.type._def,t)}function Q6(e,t){const r={type:"array",uniqueItems:!0,items:Mt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(r.minItems=e.minSize.value),e.maxSize&&(r.maxItems=e.maxSize.value),r}function eU(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>Mt(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Mt(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>Mt(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function tU(){return{not:nr()}}function nU(){return nr()}var rU=(e,t)=>Mt(e.innerType._def,t),aU=(e,t,n)=>{switch(t){case $e.ZodString:return u_(e,n);case $e.ZodNumber:return W6(e);case $e.ZodObject:return V6(e,n);case $e.ZodBigInt:return A6(e);case $e.ZodBoolean:return T6();case $e.ZodDate:return c_(e,n);case $e.ZodUndefined:return tU();case $e.ZodNull:return U6();case $e.ZodArray:return E6(e,n);case $e.ZodUnion:case $e.ZodDiscriminatedUnion:return Z6(e,n);case $e.ZodIntersection:return P6(e,n);case $e.ZodTuple:return eU(e,n);case $e.ZodRecord:return p_(e,n);case $e.ZodLiteral:return N6(e);case $e.ZodEnum:return M6(e);case $e.ZodNativeEnum:return L6(e);case $e.ZodNullable:return q6(e,n);case $e.ZodOptional:return K6(e,n);case $e.ZodMap:return D6(e,n);case $e.ZodSet:return Q6(e,n);case $e.ZodLazy:return()=>e.getter()._def;case $e.ZodPromise:return X6(e,n);case $e.ZodNaN:case $e.ZodNever:return B6();case $e.ZodEffects:return O6(e,n);case $e.ZodAny:return nr();case $e.ZodUnknown:return nU();case $e.ZodDefault:return R6(e,n);case $e.ZodBranded:return l_(e,n);case $e.ZodReadonly:return rU(e,n);case $e.ZodCatch:return I6(e,n);case $e.ZodPipeline:return Y6(e,n);case $e.ZodFunction:case $e.ZodVoid:case $e.ZodSymbol:return;default:return(r=>{})()}};function Mt(e,t,n=!1){var r;const a=t.seen.get(e);if(t.override){const u=(r=t.override)==null?void 0:r.call(t,e,t,a,n);if(u!==C6)return u}if(a&&!n){const u=iU(a,t);if(u!==void 0)return u}const o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);const s=aU(e,e.typeName,t),l=typeof s=="function"?Mt(s(),t):s;if(l&&oU(e,t,l),t.postProcess){const u=t.postProcess(l,e,t);return o.jsonSchema=l,u}return o.jsonSchema=l,l}var iU=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:k6(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),nr()):t.$refStrategy==="seen"?nr():void 0}},oU=(e,t,n)=>(e.description&&(n.description=e.description),n),sU=e=>{const t=S6(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,a])=>[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}},lU=(e,t)=>{var n;const r=sU(t);let a=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((p,[d,h])=>{var m;return{...p,[d]:(m=Mt(h._def,{...r,currentPath:[...r.basePath,r.definitionPath,d]},!0))!=null?m:nr()}},{}):void 0;const o=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(n=Mt(e._def,o===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1))!=null?n:nr(),l=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;l!==void 0&&(s.title=l);const u=o===void 0?a?{...s,[r.definitionPath]:a}:s:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...a,[o]:s}};return u.$schema="http://json-schema.org/draft-07/schema#",u},cU=lU;function uU(e,t){var n;const r=(n=void 0)!=null?n:!1;return Hd(()=>cU(e,{$refStrategy:r?"root":"none"}),{validate:async a=>{const o=await e.safeParseAsync(a);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function pU(e,t){var n;const r=(n=void 0)!=null?n:!1;return Hd(()=>Qs(Y0(e,{target:"draft-7",io:"input",reused:r?"ref":"inline"})),{validate:async a=>{const o=await Ld(e,a);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function dU(e){return"_zod"in e}function d_(e,t){return dU(e)?pU(e):uU(e)}var zp=Symbol.for("vercel.ai.schema");function Hd(e,{validate:t}={}){return{[zp]:!0,_type:void 0,[xl]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}function fU(e){return typeof e=="object"&&e!==null&&zp in e&&e[zp]===!0&&"jsonSchema"in e&&"validate"in e}function hU(e){return e==null?Hd({properties:{},additionalProperties:!1}):fU(e)?e:typeof e=="function"?e():d_(e)}var mU=Object.defineProperty,gU=(e,t)=>{for(var n in t)mU(e,n,{get:t[n],enumerable:!0})},f_="AI_NoObjectGeneratedError",h_=`vercel.ai.error.${f_}`,yU=Symbol.for(h_),m_,ky=class extends _a{constructor({message:t="No object generated.",cause:n,text:r,response:a,usage:o,finishReason:s}){super({name:f_,message:t,cause:n}),this[m_]=!0,this.text=r,this.response=a,this.usage=o,this.finishReason=s}static isInstance(t){return _a.hasMarker(t,h_)}};m_=yU;var Cy="5.0.118",g_=Rt([ue(),Ca(Uint8Array),Ca(ArrayBuffer),ql(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]),Mo=s_(()=>Rt([n_(),ue(),Pi(),pt(),Ni(ue(),Mo),Wn(Mo)])),cn=Ni(ue(),Ni(ue(),Mo)),y_=Ze({type:Ee("text"),text:ue(),providerOptions:cn.optional()}),vU=Ze({type:Ee("image"),image:Rt([g_,Ca(URL)]),mediaType:ue().optional(),providerOptions:cn.optional()}),v_=Ze({type:Ee("file"),data:Rt([g_,Ca(URL)]),filename:ue().optional(),mediaType:ue(),providerOptions:cn.optional()}),bU=Ze({type:Ee("reasoning"),text:ue(),providerOptions:cn.optional()}),xU=Ze({type:Ee("tool-call"),toolCallId:ue(),toolName:ue(),input:St(),providerOptions:cn.optional(),providerExecuted:pt().optional()}),_U=a_("type",[Ze({type:Ee("text"),value:ue()}),Ze({type:Ee("json"),value:Mo}),Ze({type:Ee("error-text"),value:ue()}),Ze({type:Ee("error-json"),value:Mo}),Ze({type:Ee("content"),value:Wn(Rt([Ze({type:Ee("text"),text:ue()}),Ze({type:Ee("media"),data:ue(),mediaType:ue()})]))})]),b_=Ze({type:Ee("tool-result"),toolCallId:ue(),toolName:ue(),output:_U,providerOptions:cn.optional()}),wU=Ze({role:Ee("system"),content:ue(),providerOptions:cn.optional()}),kU=Ze({role:Ee("user"),content:Rt([ue(),Wn(Rt([y_,vU,v_]))]),providerOptions:cn.optional()}),CU=Ze({role:Ee("assistant"),content:Rt([ue(),Wn(Rt([y_,v_,bU,xU,b_]))]),providerOptions:cn.optional()}),SU=Ze({role:Ee("tool"),content:Wn(b_),providerOptions:cn.optional()});Rt([wU,kU,CU,SU]);Zo({prefix:"aitxt",size:24});(class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}});var EU=b6(()=>d_(Rt([rt({type:Ee("text-start"),id:ue(),providerMetadata:cn.optional()}),rt({type:Ee("text-delta"),id:ue(),delta:ue(),providerMetadata:cn.optional()}),rt({type:Ee("text-end"),id:ue(),providerMetadata:cn.optional()}),rt({type:Ee("error"),errorText:ue()}),rt({type:Ee("tool-input-start"),toolCallId:ue(),toolName:ue(),providerExecuted:pt().optional(),dynamic:pt().optional()}),rt({type:Ee("tool-input-delta"),toolCallId:ue(),inputTextDelta:ue()}),rt({type:Ee("tool-input-available"),toolCallId:ue(),toolName:ue(),input:St(),providerExecuted:pt().optional(),providerMetadata:cn.optional(),dynamic:pt().optional()}),rt({type:Ee("tool-input-error"),toolCallId:ue(),toolName:ue(),input:St(),providerExecuted:pt().optional(),providerMetadata:cn.optional(),dynamic:pt().optional(),errorText:ue()}),rt({type:Ee("tool-output-available"),toolCallId:ue(),output:St(),providerExecuted:pt().optional(),dynamic:pt().optional(),preliminary:pt().optional()}),rt({type:Ee("tool-output-error"),toolCallId:ue(),errorText:ue(),providerExecuted:pt().optional(),dynamic:pt().optional()}),rt({type:Ee("reasoning-start"),id:ue(),providerMetadata:cn.optional()}),rt({type:Ee("reasoning-delta"),id:ue(),delta:ue(),providerMetadata:cn.optional()}),rt({type:Ee("reasoning-end"),id:ue(),providerMetadata:cn.optional()}),rt({type:Ee("source-url"),sourceId:ue(),url:ue(),title:ue().optional(),providerMetadata:cn.optional()}),rt({type:Ee("source-document"),sourceId:ue(),mediaType:ue(),title:ue(),filename:ue().optional(),providerMetadata:cn.optional()}),rt({type:Ee("file"),url:ue(),mediaType:ue(),providerMetadata:cn.optional()}),rt({type:ql(e=>typeof e=="string"&&e.startsWith("data-"),{message:'Type must start with "data-"'}),id:ue().optional(),data:St(),transient:pt().optional()}),rt({type:Ee("start-step")}),rt({type:Ee("finish-step")}),rt({type:Ee("start"),messageId:ue().optional(),messageMetadata:St().optional()}),rt({type:Ee("finish"),finishReason:Uo(["stop","length","content-filter","tool-calls","error","other","unknown"]).optional(),messageMetadata:St().optional()}),rt({type:Ee("abort")}),rt({type:Ee("message-metadata"),messageMetadata:St()})])));function AU(e){return e.type.startsWith("data-")}function x_(e,t){if(e===void 0&&t===void 0)return;if(e===void 0)return t;if(t===void 0)return e;const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const a=t[r];if(a===void 0)continue;const o=r in e?e[r]:void 0,s=a!==null&&typeof a=="object"&&!Array.isArray(a)&&!(a instanceof Date)&&!(a instanceof RegExp),l=o!=null&&typeof o=="object"&&!Array.isArray(o)&&!(o instanceof Date)&&!(o instanceof RegExp);s&&l?n[r]=x_(o,a):n[r]=a}return n}function TU(e){const t=["ROOT"];let n=-1,r=null;function a(u,p,d){switch(u){case'"':{n=p,t.pop(),t.push(d),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=p,r=p,t.pop(),t.push(d),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(d),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=p,t.pop(),t.push(d),t.push("INSIDE_NUMBER");break}case"{":{n=p,t.pop(),t.push(d),t.push("INSIDE_OBJECT_START");break}case"[":{n=p,t.pop(),t.push(d),t.push("INSIDE_ARRAY_START");break}}}function o(u,p){switch(u){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=p,t.pop();break}}}function s(u,p){switch(u){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=p,t.pop();break}}}for(let u=0;u<e.length;u++){const p=e[u];switch(t[t.length-1]){case"ROOT":a(p,u,"FINISH");break;case"INSIDE_OBJECT_START":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=u,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(p){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(p,u,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{o(p,u);break}case"INSIDE_STRING":{switch(p){case'"':{t.pop(),n=u;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=u}break}case"INSIDE_ARRAY_START":{switch(p){case"]":{n=u,t.pop();break}default:{n=u,a(p,u,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(p){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=u,t.pop();break}default:{n=u;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(p,u,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=u;break}case"INSIDE_NUMBER":{switch(p){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=u;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(p,u),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(p,u);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(p,u);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(p,u);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const h=e.substring(r,u+1);!"false".startsWith(h)&&!"true".startsWith(h)&&!"null".startsWith(h)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?o(p,u):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(p,u)):n=u;break}}}let l=e.slice(0,n+1);for(let u=t.length-1;u>=0;u--)switch(t[u]){case"INSIDE_STRING":{l+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{l+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{l+="]";break}case"INSIDE_LITERAL":{const d=e.substring(r,e.length);"true".startsWith(d)?l+="true".slice(d.length):"false".startsWith(d)?l+="false".slice(d.length):"null".startsWith(d)&&(l+="null".slice(d.length))}}return l}async function __(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await _l({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await _l({text:TU(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}function el(e){return e.type.startsWith("tool-")}function IU(e){return e.type==="dynamic-tool"}function Sy(e){return el(e)||IU(e)}function Ey(e){return e.type.split("-").slice(1).join("-")}function jU({lastMessage:e,messageId:t}){return{message:e?.role==="assistant"?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function RU({stream:e,messageMetadataSchema:t,dataPartSchemas:n,runUpdateMessageJob:r,onError:a,onToolCall:o,onData:s}){return e.pipeThrough(new TransformStream({async transform(l,u){await r(async({state:p,write:d})=>{var h,m,v,y;function _(I){const M=p.message.parts.filter(el).find(U=>U.toolCallId===I);if(M==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return M}function b(I){const M=p.message.parts.filter(U=>U.type==="dynamic-tool").find(U=>U.toolCallId===I);if(M==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return M}function k(I){var N;const M=p.message.parts.find(J=>el(J)&&J.toolCallId===I.toolCallId),U=I,B=M;M!=null?(M.state=I.state,B.input=U.input,B.output=U.output,B.errorText=U.errorText,B.rawInput=U.rawInput,B.preliminary=U.preliminary,B.providerExecuted=(N=U.providerExecuted)!=null?N:M.providerExecuted,U.providerMetadata!=null&&M.state==="input-available"&&(M.callProviderMetadata=U.providerMetadata)):p.message.parts.push({type:`tool-${I.toolName}`,toolCallId:I.toolCallId,state:I.state,input:U.input,output:U.output,rawInput:U.rawInput,errorText:U.errorText,providerExecuted:U.providerExecuted,preliminary:U.preliminary,...U.providerMetadata!=null?{callProviderMetadata:U.providerMetadata}:{}})}function E(I){var N,M;const U=p.message.parts.find(Y=>Y.type==="dynamic-tool"&&Y.toolCallId===I.toolCallId),B=I,J=U;U!=null?(U.state=I.state,J.toolName=I.toolName,J.input=B.input,J.output=B.output,J.errorText=B.errorText,J.rawInput=(N=B.rawInput)!=null?N:J.rawInput,J.preliminary=B.preliminary,J.providerExecuted=(M=B.providerExecuted)!=null?M:U.providerExecuted,B.providerMetadata!=null&&U.state==="input-available"&&(U.callProviderMetadata=B.providerMetadata)):p.message.parts.push({type:"dynamic-tool",toolName:I.toolName,toolCallId:I.toolCallId,state:I.state,input:B.input,output:B.output,errorText:B.errorText,preliminary:B.preliminary,providerExecuted:B.providerExecuted,...B.providerMetadata!=null?{callProviderMetadata:B.providerMetadata}:{}})}async function T(I){if(I!=null){const N=p.message.metadata!=null?x_(p.message.metadata,I):I;t!=null&&await xy({value:N,schema:t}),p.message.metadata=N}}switch(l.type){case"text-start":{const I={type:"text",text:"",providerMetadata:l.providerMetadata,state:"streaming"};p.activeTextParts[l.id]=I,p.message.parts.push(I),d();break}case"text-delta":{const I=p.activeTextParts[l.id];I.text+=l.delta,I.providerMetadata=(h=l.providerMetadata)!=null?h:I.providerMetadata,d();break}case"text-end":{const I=p.activeTextParts[l.id];I.state="done",I.providerMetadata=(m=l.providerMetadata)!=null?m:I.providerMetadata,delete p.activeTextParts[l.id],d();break}case"reasoning-start":{const I={type:"reasoning",text:"",providerMetadata:l.providerMetadata,state:"streaming"};p.activeReasoningParts[l.id]=I,p.message.parts.push(I),d();break}case"reasoning-delta":{const I=p.activeReasoningParts[l.id];I.text+=l.delta,I.providerMetadata=(v=l.providerMetadata)!=null?v:I.providerMetadata,d();break}case"reasoning-end":{const I=p.activeReasoningParts[l.id];I.providerMetadata=(y=l.providerMetadata)!=null?y:I.providerMetadata,I.state="done",delete p.activeReasoningParts[l.id],d();break}case"file":{p.message.parts.push({type:"file",mediaType:l.mediaType,url:l.url}),d();break}case"source-url":{p.message.parts.push({type:"source-url",sourceId:l.sourceId,url:l.url,title:l.title,providerMetadata:l.providerMetadata}),d();break}case"source-document":{p.message.parts.push({type:"source-document",sourceId:l.sourceId,mediaType:l.mediaType,title:l.title,filename:l.filename,providerMetadata:l.providerMetadata}),d();break}case"tool-input-start":{const I=p.message.parts.filter(el);p.partialToolCalls[l.toolCallId]={text:"",toolName:l.toolName,index:I.length,dynamic:l.dynamic},l.dynamic?E({toolCallId:l.toolCallId,toolName:l.toolName,state:"input-streaming",input:void 0,providerExecuted:l.providerExecuted}):k({toolCallId:l.toolCallId,toolName:l.toolName,state:"input-streaming",input:void 0,providerExecuted:l.providerExecuted}),d();break}case"tool-input-delta":{const I=p.partialToolCalls[l.toolCallId];I.text+=l.inputTextDelta;const{value:N}=await __(I.text);I.dynamic?E({toolCallId:l.toolCallId,toolName:I.toolName,state:"input-streaming",input:N}):k({toolCallId:l.toolCallId,toolName:I.toolName,state:"input-streaming",input:N}),d();break}case"tool-input-available":{l.dynamic?E({toolCallId:l.toolCallId,toolName:l.toolName,state:"input-available",input:l.input,providerExecuted:l.providerExecuted,providerMetadata:l.providerMetadata}):k({toolCallId:l.toolCallId,toolName:l.toolName,state:"input-available",input:l.input,providerExecuted:l.providerExecuted,providerMetadata:l.providerMetadata}),d(),o&&!l.providerExecuted&&await o({toolCall:l});break}case"tool-input-error":{l.dynamic?E({toolCallId:l.toolCallId,toolName:l.toolName,state:"output-error",input:l.input,errorText:l.errorText,providerExecuted:l.providerExecuted,providerMetadata:l.providerMetadata}):k({toolCallId:l.toolCallId,toolName:l.toolName,state:"output-error",input:void 0,rawInput:l.input,errorText:l.errorText,providerExecuted:l.providerExecuted,providerMetadata:l.providerMetadata}),d();break}case"tool-output-available":{if(l.dynamic){const I=b(l.toolCallId);E({toolCallId:l.toolCallId,toolName:I.toolName,state:"output-available",input:I.input,output:l.output,preliminary:l.preliminary})}else{const I=_(l.toolCallId);k({toolCallId:l.toolCallId,toolName:Ey(I),state:"output-available",input:I.input,output:l.output,providerExecuted:l.providerExecuted,preliminary:l.preliminary})}d();break}case"tool-output-error":{if(l.dynamic){const I=b(l.toolCallId);E({toolCallId:l.toolCallId,toolName:I.toolName,state:"output-error",input:I.input,errorText:l.errorText,providerExecuted:l.providerExecuted})}else{const I=_(l.toolCallId);k({toolCallId:l.toolCallId,toolName:Ey(I),state:"output-error",input:I.input,rawInput:I.rawInput,errorText:l.errorText,providerExecuted:l.providerExecuted})}d();break}case"start-step":{p.message.parts.push({type:"step-start"});break}case"finish-step":{p.activeTextParts={},p.activeReasoningParts={};break}case"start":{l.messageId!=null&&(p.message.id=l.messageId),await T(l.messageMetadata),(l.messageId!=null||l.messageMetadata!=null)&&d();break}case"finish":{l.finishReason!=null&&(p.finishReason=l.finishReason),await T(l.messageMetadata),l.messageMetadata!=null&&d();break}case"message-metadata":{await T(l.messageMetadata),l.messageMetadata!=null&&d();break}case"error":{a?.(new Error(l.errorText));break}default:if(AU(l)){n?.[l.type]!=null&&await xy({value:l.data,schema:n[l.type]});const I=l;if(I.transient){s?.(I);break}const N=I.id!=null?p.message.parts.find(M=>I.type===M.type&&I.id===M.id):void 0;N!=null?N.data=I.data:p.message.parts.push(I),s?.(I),d()}}u.enqueue(l)})}}))}async function OU({stream:e,onError:t}){const n=e.getReader();try{for(;;){const{done:r}=await n.read();if(r)break}}catch(r){t?.(r)}finally{n.releaseLock()}}Zo({prefix:"aitxt",size:24});Zo({prefix:"aiobj",size:24});var MU=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise((t,n)=>{this.queue.push(async()=>{try{await e(),t()}catch(r){n(r)}}),this.processQueue()})}};Zo({prefix:"aiobj",size:24});var zU={};gU(zU,{object:()=>NU,text:()=>PU});var PU=()=>({type:"text",responseFormat:{type:"text"},async parsePartial({text:e}){return{partial:e}},async parseOutput({text:e}){return e}}),NU=({schema:e})=>{const t=hU(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:n}){const r=await __(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const a=r.state;throw new Error(`Unsupported parse state: ${a}`)}}},async parseOutput({text:n},r){const a=await _l({text:n});if(!a.success)throw new ky({message:"No object generated: could not parse the response.",cause:a.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});const o=await Zd({value:a.value,schema:t});if(!o.success)throw new ky({message:"No object generated: response did not match schema.",cause:o.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});return o.value}}};async function $U(e){if(e==null)return[];if(!globalThis.FileList||!(e instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map(async t=>{const{name:n,type:r}=t,a=await new Promise((o,s)=>{const l=new FileReader;l.onload=u=>{var p;o((p=u.target)==null?void 0:p.result)},l.onerror=u=>s(u),l.readAsDataURL(t)});return{type:"file",mediaType:r,filename:n,url:a}}))}var FU=class{constructor({api:t="/api/chat",credentials:n,headers:r,body:a,fetch:o,prepareSendMessagesRequest:s,prepareReconnectToStreamRequest:l}){this.api=t,this.credentials=n,this.headers=r,this.body=a,this.fetch=o,this.prepareSendMessagesRequest=s,this.prepareReconnectToStreamRequest=l}async sendMessages({abortSignal:t,...n}){var r,a,o,s,l;const u=await vi(this.body),p=await vi(this.headers),d=await vi(this.credentials),h={...Za(p),...Za(n.headers)},m=await((r=this.prepareSendMessagesRequest)==null?void 0:r.call(this,{api:this.api,id:n.chatId,messages:n.messages,body:{...u,...n.body},headers:h,credentials:d,requestMetadata:n.metadata,trigger:n.trigger,messageId:n.messageId})),v=(a=m?.api)!=null?a:this.api,y=m?.headers!==void 0?Za(m.headers):h,_=m?.body!==void 0?m.body:{...u,...n.body,id:n.chatId,messages:n.messages,trigger:n.trigger,messageId:n.messageId},b=(o=m?.credentials)!=null?o:d,E=await((s=this.fetch)!=null?s:globalThis.fetch)(v,{method:"POST",headers:vy({"Content-Type":"application/json",...y},`ai-sdk/${Cy}`,yy()),body:JSON.stringify(_),credentials:b,signal:t});if(!E.ok)throw new Error((l=await E.text())!=null?l:"Failed to fetch the chat response.");if(!E.body)throw new Error("The response body is empty.");return this.processResponseStream(E.body)}async reconnectToStream(t){var n,r,a,o,s;const l=await vi(this.body),u=await vi(this.headers),p=await vi(this.credentials),d={...Za(u),...Za(t.headers)},h=await((n=this.prepareReconnectToStreamRequest)==null?void 0:n.call(this,{api:this.api,id:t.chatId,body:{...l,...t.body},headers:d,credentials:p,requestMetadata:t.metadata})),m=(r=h?.api)!=null?r:`${this.api}/${t.chatId}/stream`,v=h?.headers!==void 0?Za(h.headers):d,y=(a=h?.credentials)!=null?a:p,b=await((o=this.fetch)!=null?o:globalThis.fetch)(m,{method:"GET",headers:vy(v,`ai-sdk/${Cy}`,yy()),credentials:y});if(b.status===204)return null;if(!b.ok)throw new Error((s=await b.text())!=null?s:"Failed to fetch the chat response.");if(!b.body)throw new Error("The response body is empty.");return this.processResponseStream(b.body)}},DU=class extends FU{constructor(t={}){super(t)}processResponseStream(t){return w6({stream:t,schema:EU}).pipeThrough(new TransformStream({async transform(n,r){if(!n.success)throw n.error;r.enqueue(n.value)}}))}},LU=class{constructor({generateId:e=d6,id:t=e(),transport:n=new DU,messageMetadataSchema:r,dataPartSchemas:a,state:o,onError:s,onToolCall:l,onFinish:u,onData:p,sendAutomaticallyWhen:d}){this.activeResponse=void 0,this.jobExecutor=new MU,this.sendMessage=async(h,m)=>{var v,y,_,b;if(h==null){await this.makeRequest({trigger:"submit-message",messageId:(v=this.lastMessage)==null?void 0:v.id,...m});return}let k;if("text"in h||"files"in h?k={parts:[...Array.isArray(h.files)?h.files:await $U(h.files),..."text"in h&&h.text!=null?[{type:"text",text:h.text}]:[]]}:k=h,h.messageId!=null){const E=this.state.messages.findIndex(T=>T.id===h.messageId);if(E===-1)throw new Error(`message with id ${h.messageId} not found`);if(this.state.messages[E].role!=="user")throw new Error(`message with id ${h.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,E+1),this.state.replaceMessage(E,{...k,id:h.messageId,role:(y=k.role)!=null?y:"user",metadata:h.metadata})}else this.state.pushMessage({...k,id:(_=k.id)!=null?_:this.generateId(),role:(b=k.role)!=null?b:"user",metadata:h.metadata});await this.makeRequest({trigger:"submit-message",messageId:h.messageId,...m})},this.regenerate=async({messageId:h,...m}={})=>{const v=h==null?this.state.messages.length-1:this.state.messages.findIndex(y=>y.id===h);if(v===-1)throw new Error(`message ${h} not found`);this.state.messages=this.state.messages.slice(0,this.messages[v].role==="assistant"?v:v+1),await this.makeRequest({trigger:"regenerate-message",messageId:h,...m})},this.resumeStream=async(h={})=>{await this.makeRequest({trigger:"resume-stream",...h})},this.clearError=()=>{this.status==="error"&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolOutput=async({state:h="output-available",tool:m,toolCallId:v,output:y,errorText:_})=>this.jobExecutor.run(async()=>{var b,k;const E=this.state.messages,T=E[E.length-1];this.state.replaceMessage(E.length-1,{...T,parts:T.parts.map(I=>Sy(I)&&I.toolCallId===v?{...I,state:h,output:y,errorText:_}:I)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(I=>Sy(I)&&I.toolCallId===v?{...I,state:h,output:y,errorText:_}:I)),this.status!=="streaming"&&this.status!=="submitted"&&((b=this.sendAutomaticallyWhen)!=null&&b.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(k=this.lastMessage)==null?void 0:k.id})}),this.addToolResult=this.addToolOutput,this.stop=async()=>{var h;this.status!=="streaming"&&this.status!=="submitted"||(h=this.activeResponse)!=null&&h.abortController&&this.activeResponse.abortController.abort()},this.id=t,this.transport=n,this.generateId=e,this.messageMetadataSchema=r,this.dataPartSchemas=a,this.state=o,this.onError=s,this.onToolCall=l,this.onFinish=u,this.onData=p,this.sendAutomaticallyWhen=d}get status(){return this.state.status}setStatus({status:e,error:t}){this.status!==e&&(this.state.status=e,this.state.error=t)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async makeRequest({trigger:e,metadata:t,headers:n,body:r,messageId:a}){var o,s,l,u;this.setStatus({status:"submitted",error:void 0});const p=this.lastMessage;let d=!1,h=!1,m=!1;try{const v={state:jU({lastMessage:this.state.snapshot(p),messageId:this.generateId()}),abortController:new AbortController};v.abortController.signal.addEventListener("abort",()=>{d=!0}),this.activeResponse=v;let y;if(e==="resume-stream"){const b=await this.transport.reconnectToStream({chatId:this.id,metadata:t,headers:n,body:r});if(b==null){this.setStatus({status:"ready"});return}y=b}else y=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:v.abortController.signal,metadata:t,headers:n,body:r,trigger:e,messageId:a});const _=b=>this.jobExecutor.run(()=>b({state:v.state,write:()=>{var k;this.setStatus({status:"streaming"}),v.state.message.id===((k=this.lastMessage)==null?void 0:k.id)?this.state.replaceMessage(this.state.messages.length-1,v.state.message):this.state.pushMessage(v.state.message)}}));await OU({stream:RU({stream:y,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:_,onError:b=>{throw b}}),onError:b=>{throw b}}),this.setStatus({status:"ready"})}catch(v){if(d||v.name==="AbortError")return d=!0,this.setStatus({status:"ready"}),null;m=!0,v instanceof TypeError&&(v.message.toLowerCase().includes("fetch")||v.message.toLowerCase().includes("network"))&&(h=!0),this.onError&&v instanceof Error&&this.onError(v),this.setStatus({status:"error",error:v})}finally{try{(s=this.onFinish)==null||s.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort:d,isDisconnect:h,isError:m,finishReason:(o=this.activeResponse)==null?void 0:o.state.finishReason})}catch(v){console.error(v)}this.activeResponse=void 0}(l=this.sendAutomaticallyWhen)!=null&&l.call(this,{messages:this.state.messages})&&!m&&await this.makeRequest({trigger:"submit-message",messageId:(u=this.lastMessage)==null?void 0:u.id,metadata:t,headers:n,body:r})}};function BU(e,t){if(typeof e!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let n,r=0;return function(...o){clearTimeout(n);const s=Date.now(),l=s-r,u=t-l;u<=0?(r=s,e.apply(this,o)):n=setTimeout(()=>{r=Date.now(),e.apply(this,o)},u)}}var UU=BU;const ZU=wn(UU);var w_=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Zt=(e,t,n)=>(w_(e,t,"read from private field"),n?n.call(e):t.get(e)),Pr=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ya=(e,t,n,r)=>(w_(e,t,"write to private field"),t.set(e,n),n);function HU(e,t){return t!=null?ZU(e,t):e}var hr,tl,nl,vo,bo,xo,_i,Pp,Np,qU=class{constructor(e=[]){Pr(this,hr,void 0),Pr(this,tl,"ready"),Pr(this,nl,void 0),Pr(this,vo,new Set),Pr(this,bo,new Set),Pr(this,xo,new Set),this.pushMessage=t=>{ya(this,hr,Zt(this,hr).concat(t)),Zt(this,_i).call(this)},this.popMessage=()=>{ya(this,hr,Zt(this,hr).slice(0,-1)),Zt(this,_i).call(this)},this.replaceMessage=(t,n)=>{ya(this,hr,[...Zt(this,hr).slice(0,t),this.snapshot(n),...Zt(this,hr).slice(t+1)]),Zt(this,_i).call(this)},this.snapshot=t=>structuredClone(t),this["~registerMessagesCallback"]=(t,n)=>{const r=n?HU(t,n):t;return Zt(this,vo).add(r),()=>{Zt(this,vo).delete(r)}},this["~registerStatusCallback"]=t=>(Zt(this,bo).add(t),()=>{Zt(this,bo).delete(t)}),this["~registerErrorCallback"]=t=>(Zt(this,xo).add(t),()=>{Zt(this,xo).delete(t)}),Pr(this,_i,()=>{Zt(this,vo).forEach(t=>t())}),Pr(this,Pp,()=>{Zt(this,bo).forEach(t=>t())}),Pr(this,Np,()=>{Zt(this,xo).forEach(t=>t())}),ya(this,hr,e)}get status(){return Zt(this,tl)}set status(e){ya(this,tl,e),Zt(this,Pp).call(this)}get error(){return Zt(this,nl)}set error(e){ya(this,nl,e),Zt(this,Np).call(this)}get messages(){return Zt(this,hr)}set messages(e){ya(this,hr,[...e]),Zt(this,_i).call(this)}};hr=new WeakMap;tl=new WeakMap;nl=new WeakMap;vo=new WeakMap;bo=new WeakMap;xo=new WeakMap;_i=new WeakMap;Pp=new WeakMap;Np=new WeakMap;var wi,Ay=class extends LU{constructor({messages:t,...n}){const r=new qU(t);super({...n,state:r}),Pr(this,wi,void 0),this["~registerMessagesCallback"]=(a,o)=>Zt(this,wi)["~registerMessagesCallback"](a,o),this["~registerStatusCallback"]=a=>Zt(this,wi)["~registerStatusCallback"](a),this["~registerErrorCallback"]=a=>Zt(this,wi)["~registerErrorCallback"](a),ya(this,wi,r)}};wi=new WeakMap;function WU({experimental_throttle:e,resume:t=!1,...n}={}){const r=V.useRef("chat"in n?n.chat:new Ay(n));("chat"in n&&n.chat!==r.current||"id"in n&&r.current.id!==n.id)&&(r.current="chat"in n?n.chat:new Ay(n));const o=V.useCallback(d=>r.current["~registerMessagesCallback"](d,e),[e,r.current.id]),s=V.useSyncExternalStore(o,()=>r.current.messages,()=>r.current.messages),l=V.useSyncExternalStore(r.current["~registerStatusCallback"],()=>r.current.status,()=>r.current.status),u=V.useSyncExternalStore(r.current["~registerErrorCallback"],()=>r.current.error,()=>r.current.error),p=V.useCallback(d=>{typeof d=="function"&&(d=d(r.current.messages)),r.current.messages=d},[r]);return V.useEffect(()=>{t&&r.current.resumeStream()},[t,r]),{id:r.current.id,messages:s,setMessages:p,sendMessage:r.current.sendMessage,regenerate:r.current.regenerate,clearError:r.current.clearError,stop:r.current.stop,error:u,resumeStream:r.current.resumeStream,status:l,addToolResult:r.current.addToolOutput,addToolOutput:r.current.addToolOutput}}var k_="vercel.ai.error",VU=Symbol.for(k_),C_,GU=class S_ extends Error{constructor({name:t,message:n,cause:r}){super(n),this[C_]=!0,this.name=t,this.cause=r}static isInstance(t){return S_.hasMarker(t,k_)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};C_=VU;var Sa=GU;function E_(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var A_="AI_InvalidArgumentError",T_=`vercel.ai.error.${A_}`,JU=Symbol.for(T_),I_,KU=class extends Sa{constructor({message:e,cause:t,argument:n}){super({name:A_,message:e,cause:t}),this[I_]=!0,this.argument=n}static isInstance(e){return Sa.hasMarker(e,T_)}};I_=JU;var j_="AI_JSONParseError",R_=`vercel.ai.error.${j_}`,YU=Symbol.for(R_),O_,Ty=class extends Sa{constructor({text:e,cause:t}){super({name:j_,message:`JSON parsing failed: Text: ${e}.
Error message: ${E_(t)}`,cause:t}),this[O_]=!0,this.text=e}static isInstance(e){return Sa.hasMarker(e,R_)}};O_=YU;var M_="AI_TypeValidationError",z_=`vercel.ai.error.${M_}`,XU=Symbol.for(z_),P_,QU=class $p extends Sa{constructor({value:t,cause:n}){super({name:M_,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${E_(n)}`,cause:n}),this[P_]=!0,this.value=t}static isInstance(t){return Sa.hasMarker(t,z_)}static wrap({value:t,cause:n}){return $p.isInstance(n)&&n.value===t?n:new $p({value:t,cause:n})}};P_=XU;var Fp=QU;function Iy(e=globalThis){var t,n,r;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(r=(n=e.process)==null?void 0:n.versions)!=null&&r.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function e3(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null))}function jy(e,...t){const n=e3(e??{}),r=new Headers(n),a=r.get("user-agent")||"";return r.set("user-agent",[a,...t].filter(Boolean).join(" ")),Object.fromEntries(r)}var Ho=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const a=()=>{const o=n.length,s=new Array(t);for(let l=0;l<t;l++)s[l]=n[Math.random()*o|0];return s.join("")};if(e==null)return a;if(n.includes(r))throw new KU({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${a()}`};Ho();var t3=/"__proto__"\s*:/,n3=/"constructor"\s*:/;function r3(e){const t=JSON.parse(e);return t===null||typeof t!="object"||t3.test(e)===!1&&n3.test(e)===!1?t:a3(t)}function a3(e){let t=[e];for(;t.length;){const n=t;t=[];for(const r of n){if(Object.prototype.hasOwnProperty.call(r,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const a in r){const o=r[a];o&&typeof o=="object"&&t.push(o)}}}return e}function i3(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return r3(e)}finally{Error.stackTraceLimit=t}}var wl=Symbol.for("vercel.ai.validator");function o3(e){return{[wl]:!0,validate:e}}function s3(e){return typeof e=="object"&&e!==null&&wl in e&&e[wl]===!0&&"validate"in e}function l3(e){return s3(e)?e:c3(e)}function c3(e){return o3(async t=>{const n=await e["~standard"].validate(t);return n.issues==null?{success:!0,value:n.value}:{success:!1,error:new Fp({value:t,cause:n.issues})}})}async function N_({value:e,schema:t}){const n=l3(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};const r=await n.validate(e);return r.success?{success:!0,value:r.value,rawValue:e}:{success:!1,error:Fp.wrap({value:e,cause:r.error}),rawValue:e}}catch(r){return{success:!1,error:Fp.wrap({value:e,cause:r}),rawValue:e}}}async function kl({text:e,schema:t}){try{const n=i3(e);return t==null?{success:!0,value:n,rawValue:n}:await N_({value:n,schema:t})}catch(n){return{success:!1,error:Ty.isInstance(n)?n:new Ty({text:e,cause:n}),rawValue:void 0}}}function u3({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new r0).pipeThrough(new TransformStream({async transform({data:n},r){n!=="[DONE]"&&r.enqueue(await kl({text:n,schema:t}))}}))}async function bi(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var p3=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},d3=Symbol("Let zodToJsonSchema decide on which parser to use"),Ry={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},f3=e=>typeof e=="string"?{...Ry,name:e}:{...Ry,...e};function rr(){return{}}function h3(e,t){var n,r,a;const o={type:"array"};return(n=e.type)!=null&&n._def&&((a=(r=e.type)==null?void 0:r._def)==null?void 0:a.typeName)!==$e.ZodAny&&(o.items=zt(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(o.minItems=e.minLength.value),e.maxLength&&(o.maxItems=e.maxLength.value),e.exactLength&&(o.minItems=e.exactLength.value,o.maxItems=e.exactLength.value),o}function m3(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function g3(){return{type:"boolean"}}function $_(e,t){return zt(e.type._def,t)}var y3=(e,t)=>zt(e.innerType._def,t);function F_(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,o)=>F_(e,t,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return v3(e)}}var v3=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value;break}return t};function b3(e,t){return{...zt(e.innerType._def,t),default:e.defaultValue()}}function x3(e,t){return t.effectStrategy==="input"?zt(e.schema._def,t):rr()}function _3(e){return{type:"string",enum:Array.from(e.values)}}var w3=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function k3(e,t){const n=[zt(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),zt(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),r=[];return n.forEach(a=>{if(w3(a))r.push(...a.allOf);else{let o=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:s,...l}=a;o=l}r.push(o)}}),r.length?{allOf:r}:void 0}function C3(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var Du=void 0,Tr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Du===void 0&&(Du=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Du),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function D_(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":Ir(n,"email",r.message,t);break;case"format:idn-email":Ir(n,"idn-email",r.message,t);break;case"pattern:zod":Rn(n,Tr.email,r.message,t);break}break;case"url":Ir(n,"uri",r.message,t);break;case"uuid":Ir(n,"uuid",r.message,t);break;case"regex":Rn(n,r.regex,r.message,t);break;case"cuid":Rn(n,Tr.cuid,r.message,t);break;case"cuid2":Rn(n,Tr.cuid2,r.message,t);break;case"startsWith":Rn(n,RegExp(`^${Lu(r.value,t)}`),r.message,t);break;case"endsWith":Rn(n,RegExp(`${Lu(r.value,t)}$`),r.message,t);break;case"datetime":Ir(n,"date-time",r.message,t);break;case"date":Ir(n,"date",r.message,t);break;case"time":Ir(n,"time",r.message,t);break;case"duration":Ir(n,"duration",r.message,t);break;case"length":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"includes":{Rn(n,RegExp(Lu(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&Ir(n,"ipv4",r.message,t),r.version!=="v4"&&Ir(n,"ipv6",r.message,t);break}case"base64url":Rn(n,Tr.base64url,r.message,t);break;case"jwt":Rn(n,Tr.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&Rn(n,Tr.ipv4Cidr,r.message,t),r.version!=="v4"&&Rn(n,Tr.ipv6Cidr,r.message,t);break}case"emoji":Rn(n,Tr.emoji(),r.message,t);break;case"ulid":{Rn(n,Tr.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Ir(n,"binary",r.message,t);break}case"contentEncoding:base64":{n.contentEncoding="base64";break}case"pattern:zod":{Rn(n,Tr.base64,r.message,t);break}}break}case"nanoid":Rn(n,Tr.nanoid,r.message,t)}return n}function Lu(e,t){return t.patternStrategy==="escape"?E3(e):e}var S3=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function E3(e){let t="";for(let n=0;n<e.length;n++)S3.has(e[n])||(t+="\\"),t+=e[n];return t}function Ir(e,t,n,r){var a;e.format||(a=e.anyOf)!=null&&a.some(o=>o.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function Rn(e,t,n,r){var a;e.pattern||(a=e.allOf)!=null&&a.some(o=>o.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:Oy(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=Oy(t,r)}function Oy(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=r.i?e.source.toLowerCase():e.source;let o="",s=!1,l=!1,u=!1;for(let p=0;p<a.length;p++){if(s){o+=a[p],s=!1;continue}if(r.i){if(l){if(a[p].match(/[a-z]/)){u?(o+=a[p],o+=`${a[p-2]}-${a[p]}`.toUpperCase(),u=!1):a[p+1]==="-"&&((n=a[p+2])!=null&&n.match(/[a-z]/))?(o+=a[p],u=!0):o+=`${a[p]}${a[p].toUpperCase()}`;continue}}else if(a[p].match(/[a-z]/)){o+=`[${a[p]}${a[p].toUpperCase()}]`;continue}}if(r.m){if(a[p]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(a[p]==="$"){o+=`($|(?=[\r
]))`;continue}}if(r.s&&a[p]==="."){o+=l?`${a[p]}\r
`:`[${a[p]}\r
]`;continue}o+=a[p],a[p]==="\\"?s=!0:l&&a[p]==="]"?l=!1:!l&&a[p]==="["&&(l=!0)}try{new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return o}function L_(e,t){var n,r,a,o,s,l;const u={type:"object",additionalProperties:(n=zt(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?n:t.allowedAdditionalProperties};if(((r=e.keyType)==null?void 0:r._def.typeName)===$e.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){const{type:p,...d}=D_(e.keyType._def,t);return{...u,propertyNames:d}}else{if(((o=e.keyType)==null?void 0:o._def.typeName)===$e.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===$e.ZodBranded&&e.keyType._def.type._def.typeName===$e.ZodString&&((l=e.keyType._def.type._def.checks)!=null&&l.length)){const{type:p,...d}=$_(e.keyType._def,t);return{...u,propertyNames:d}}}return u}function A3(e,t){if(t.mapStrategy==="record")return L_(e,t);const n=zt(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||rr(),r=zt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||rr();return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function T3(e){const t=e.values,r=Object.keys(e.values).filter(o=>typeof t[t[o]]!="number").map(o=>t[o]),a=Array.from(new Set(r.map(o=>typeof o)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function I3(){return{not:rr()}}function j3(){return{type:"null"}}var Dp={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function R3(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in Dp&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((a,o)=>{const s=Dp[o._def.typeName];return s&&!a.includes(s)?[...a,s]:a},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((a,o)=>{const s=typeof o._def.value;switch(s){case"string":case"number":case"boolean":return[...a,s];case"bigint":return[...a,"integer"];case"object":if(o._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===n.length){const a=r.filter((o,s,l)=>l.indexOf(o)===s);return{type:a.length>1?a:a[0],enum:n.reduce((o,s)=>o.includes(s._def.value)?o:[...o,s._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,a)=>[...r,...a._def.values.filter(o=>!r.includes(o))],[])};return O3(e,t)}var O3=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,a)=>zt(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function M3(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[Dp[e.innerType._def.typeName],"null"]};const n=zt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function z3(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function P3(e,t){const n={type:"object",properties:{}},r=[],a=e.shape();for(const s in a){let l=a[s];if(l===void 0||l._def===void 0)continue;const u=$3(l),p=zt(l._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});p!==void 0&&(n.properties[s]=p,u||r.push(s))}r.length&&(n.required=r);const o=N3(e,t);return o!==void 0&&(n.additionalProperties=o),n}function N3(e,t){if(e.catchall._def.typeName!=="ZodNever")return zt(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function $3(e){try{return e.isOptional()}catch{return!0}}var F3=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return zt(e.innerType._def,t);const r=zt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:rr()},r]}:rr()},D3=(e,t)=>{if(t.pipeStrategy==="input")return zt(e.in._def,t);if(t.pipeStrategy==="output")return zt(e.out._def,t);const n=zt(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=zt(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(a=>a!==void 0)}};function L3(e,t){return zt(e.type._def,t)}function B3(e,t){const r={type:"array",uniqueItems:!0,items:zt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(r.minItems=e.minSize.value),e.maxSize&&(r.maxItems=e.maxSize.value),r}function U3(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>zt(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:zt(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>zt(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function Z3(){return{not:rr()}}function H3(){return rr()}var q3=(e,t)=>zt(e.innerType._def,t),W3=(e,t,n)=>{switch(t){case $e.ZodString:return D_(e,n);case $e.ZodNumber:return z3(e);case $e.ZodObject:return P3(e,n);case $e.ZodBigInt:return m3(e);case $e.ZodBoolean:return g3();case $e.ZodDate:return F_(e,n);case $e.ZodUndefined:return Z3();case $e.ZodNull:return j3();case $e.ZodArray:return h3(e,n);case $e.ZodUnion:case $e.ZodDiscriminatedUnion:return R3(e,n);case $e.ZodIntersection:return k3(e,n);case $e.ZodTuple:return U3(e,n);case $e.ZodRecord:return L_(e,n);case $e.ZodLiteral:return C3(e);case $e.ZodEnum:return _3(e);case $e.ZodNativeEnum:return T3(e);case $e.ZodNullable:return M3(e,n);case $e.ZodOptional:return F3(e,n);case $e.ZodMap:return A3(e,n);case $e.ZodSet:return B3(e,n);case $e.ZodLazy:return()=>e.getter()._def;case $e.ZodPromise:return L3(e,n);case $e.ZodNaN:case $e.ZodNever:return I3();case $e.ZodEffects:return x3(e,n);case $e.ZodAny:return rr();case $e.ZodUnknown:return H3();case $e.ZodDefault:return b3(e,n);case $e.ZodBranded:return $_(e,n);case $e.ZodReadonly:return q3(e,n);case $e.ZodCatch:return y3(e,n);case $e.ZodPipeline:return D3(e,n);case $e.ZodFunction:case $e.ZodVoid:case $e.ZodSymbol:return;default:return(r=>{})()}};function zt(e,t,n=!1){var r;const a=t.seen.get(e);if(t.override){const u=(r=t.override)==null?void 0:r.call(t,e,t,a,n);if(u!==d3)return u}if(a&&!n){const u=V3(a,t);if(u!==void 0)return u}const o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);const s=W3(e,e.typeName,t),l=typeof s=="function"?zt(s(),t):s;if(l&&G3(e,t,l),t.postProcess){const u=t.postProcess(l,e,t);return o.jsonSchema=l,u}return o.jsonSchema=l,l}var V3=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:p3(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),rr()):t.$refStrategy==="seen"?rr():void 0}},G3=(e,t,n)=>(e.description&&(n.description=e.description),n),J3=e=>{const t=f3(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,a])=>[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}},K3=(e,t)=>{var n;const r=J3(t);let a=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((p,[d,h])=>{var m;return{...p,[d]:(m=zt(h._def,{...r,currentPath:[...r.basePath,r.definitionPath,d]},!0))!=null?m:rr()}},{}):void 0;const o=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(n=zt(e._def,o===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1))!=null?n:rr(),l=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;l!==void 0&&(s.title=l);const u=o===void 0?a?{...s,[r.definitionPath]:a}:s:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...a,[o]:s}};return u.$schema="http://json-schema.org/draft-07/schema#",u},Y3=K3;function X3(e,t){var n;const r=(n=void 0)!=null?n:!1;return qd(Y3(e,{$refStrategy:r?"root":"none"}),{validate:async a=>{const o=await e.safeParseAsync(a);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function Q3(e,t){var n;const r=(n=void 0)!=null?n:!1,a=Y0(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"});return qd(a,{validate:async o=>{const s=await Ld(e,o);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function eZ(e){return"_zod"in e}function tZ(e,t){return eZ(e)?Q3(e):X3(e)}var Lp=Symbol.for("vercel.ai.schema");function qd(e,{validate:t}={}){return{[Lp]:!0,_type:void 0,[wl]:!0,jsonSchema:e,validate:t}}function nZ(e){return typeof e=="object"&&e!==null&&Lp in e&&e[Lp]===!0&&"jsonSchema"in e&&"validate"in e}function rZ(e){return e==null?qd({properties:{},additionalProperties:!1}):nZ(e)?e:tZ(e)}var aZ=Object.defineProperty,iZ=(e,t)=>{for(var n in t)aZ(e,n,{get:t[n],enumerable:!0})},B_="AI_NoObjectGeneratedError",U_=`vercel.ai.error.${B_}`,oZ=Symbol.for(U_),Z_,My=class extends Sa{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:a,finishReason:o}){super({name:B_,message:e,cause:t}),this[Z_]=!0,this.text=n,this.response=r,this.usage=a,this.finishReason=o}static isInstance(e){return Sa.hasMarker(e,U_)}};Z_=oZ;var zy="5.0.52",H_=Rt([ue(),Ca(Uint8Array),Ca(ArrayBuffer),ql(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]),zo=s_(()=>Rt([n_(),ue(),Pi(),pt(),Ni(ue(),zo),Wn(zo)])),Et=Ni(ue(),Ni(ue(),zo)),q_=Ze({type:Ee("text"),text:ue(),providerOptions:Et.optional()}),sZ=Ze({type:Ee("image"),image:Rt([H_,Ca(URL)]),mediaType:ue().optional(),providerOptions:Et.optional()}),W_=Ze({type:Ee("file"),data:Rt([H_,Ca(URL)]),filename:ue().optional(),mediaType:ue(),providerOptions:Et.optional()}),lZ=Ze({type:Ee("reasoning"),text:ue(),providerOptions:Et.optional()}),cZ=Ze({type:Ee("tool-call"),toolCallId:ue(),toolName:ue(),input:St(),providerOptions:Et.optional(),providerExecuted:pt().optional()}),uZ=a_("type",[Ze({type:Ee("text"),value:ue()}),Ze({type:Ee("json"),value:zo}),Ze({type:Ee("error-text"),value:ue()}),Ze({type:Ee("error-json"),value:zo}),Ze({type:Ee("content"),value:Wn(Rt([Ze({type:Ee("text"),text:ue()}),Ze({type:Ee("media"),data:ue(),mediaType:ue()})]))})]),V_=Ze({type:Ee("tool-result"),toolCallId:ue(),toolName:ue(),output:uZ,providerOptions:Et.optional()}),pZ=Ze({role:Ee("system"),content:ue(),providerOptions:Et.optional()}),dZ=Ze({role:Ee("user"),content:Rt([ue(),Wn(Rt([q_,sZ,W_]))]),providerOptions:Et.optional()}),fZ=Ze({role:Ee("assistant"),content:Rt([ue(),Wn(Rt([q_,W_,lZ,cZ,V_]))]),providerOptions:Et.optional()}),hZ=Ze({role:Ee("tool"),content:Wn(V_),providerOptions:Et.optional()});Rt([pZ,dZ,fZ,hZ]);Ho({prefix:"aitxt",size:24});(class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}});var mZ=Rt([rt({type:Ee("text-start"),id:ue(),providerMetadata:Et.optional()}),rt({type:Ee("text-delta"),id:ue(),delta:ue(),providerMetadata:Et.optional()}),rt({type:Ee("text-end"),id:ue(),providerMetadata:Et.optional()}),rt({type:Ee("error"),errorText:ue()}),rt({type:Ee("tool-input-start"),toolCallId:ue(),toolName:ue(),providerExecuted:pt().optional(),dynamic:pt().optional()}),rt({type:Ee("tool-input-delta"),toolCallId:ue(),inputTextDelta:ue()}),rt({type:Ee("tool-input-available"),toolCallId:ue(),toolName:ue(),input:St(),providerExecuted:pt().optional(),providerMetadata:Et.optional(),dynamic:pt().optional()}),rt({type:Ee("tool-input-error"),toolCallId:ue(),toolName:ue(),input:St(),providerExecuted:pt().optional(),providerMetadata:Et.optional(),dynamic:pt().optional(),errorText:ue()}),rt({type:Ee("tool-output-available"),toolCallId:ue(),output:St(),providerExecuted:pt().optional(),dynamic:pt().optional(),preliminary:pt().optional()}),rt({type:Ee("tool-output-error"),toolCallId:ue(),errorText:ue(),providerExecuted:pt().optional(),dynamic:pt().optional()}),rt({type:Ee("reasoning-start"),id:ue(),providerMetadata:Et.optional()}),rt({type:Ee("reasoning-delta"),id:ue(),delta:ue(),providerMetadata:Et.optional()}),rt({type:Ee("reasoning-end"),id:ue(),providerMetadata:Et.optional()}),rt({type:Ee("source-url"),sourceId:ue(),url:ue(),title:ue().optional(),providerMetadata:Et.optional()}),rt({type:Ee("source-document"),sourceId:ue(),mediaType:ue(),title:ue(),filename:ue().optional(),providerMetadata:Et.optional()}),rt({type:Ee("file"),url:ue(),mediaType:ue(),providerMetadata:Et.optional()}),rt({type:ql(e=>typeof e=="string"&&e.startsWith("data-"),{message:'Type must start with "data-"'}),id:ue().optional(),data:St(),transient:pt().optional()}),rt({type:Ee("start-step")}),rt({type:Ee("finish-step")}),rt({type:Ee("start"),messageId:ue().optional(),messageMetadata:St().optional()}),rt({type:Ee("finish"),messageMetadata:St().optional()}),rt({type:Ee("abort")}),rt({type:Ee("message-metadata"),messageMetadata:St()})]);function gZ(e){const t=["ROOT"];let n=-1,r=null;function a(u,p,d){switch(u){case'"':{n=p,t.pop(),t.push(d),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=p,r=p,t.pop(),t.push(d),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(d),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=p,t.pop(),t.push(d),t.push("INSIDE_NUMBER");break}case"{":{n=p,t.pop(),t.push(d),t.push("INSIDE_OBJECT_START");break}case"[":{n=p,t.pop(),t.push(d),t.push("INSIDE_ARRAY_START");break}}}function o(u,p){switch(u){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=p,t.pop();break}}}function s(u,p){switch(u){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=p,t.pop();break}}}for(let u=0;u<e.length;u++){const p=e[u];switch(t[t.length-1]){case"ROOT":a(p,u,"FINISH");break;case"INSIDE_OBJECT_START":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=u,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(p){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(p,u,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{o(p,u);break}case"INSIDE_STRING":{switch(p){case'"':{t.pop(),n=u;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=u}break}case"INSIDE_ARRAY_START":{switch(p){case"]":{n=u,t.pop();break}default:{n=u,a(p,u,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(p){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=u,t.pop();break}default:{n=u;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(p,u,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=u;break}case"INSIDE_NUMBER":{switch(p){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=u;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(p,u),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(p,u);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(p,u);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(p,u);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const h=e.substring(r,u+1);!"false".startsWith(h)&&!"true".startsWith(h)&&!"null".startsWith(h)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?o(p,u):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(p,u)):n=u;break}}}let l=e.slice(0,n+1);for(let u=t.length-1;u>=0;u--)switch(t[u]){case"INSIDE_STRING":{l+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{l+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{l+="]";break}case"INSIDE_LITERAL":{const d=e.substring(r,e.length);"true".startsWith(d)?l+="true".slice(d.length):"false".startsWith(d)?l+="false".slice(d.length):"null".startsWith(d)&&(l+="null".slice(d.length))}}return l}async function yZ(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await kl({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await kl({text:gZ(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}Ho({prefix:"aitxt",size:24});Ho({prefix:"aiobj",size:24});Ho({prefix:"aiobj",size:24});var vZ={};iZ(vZ,{object:()=>xZ,text:()=>bZ});var bZ=()=>({type:"text",responseFormat:{type:"text"},async parsePartial({text:e}){return{partial:e}},async parseOutput({text:e}){return e}}),xZ=({schema:e})=>{const t=rZ(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:n}){const r=await yZ(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const a=r.state;throw new Error(`Unsupported parse state: ${a}`)}}},async parseOutput({text:n},r){const a=await kl({text:n});if(!a.success)throw new My({message:"No object generated: could not parse the response.",cause:a.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});const o=await N_({value:a.value,schema:t});if(!o.success)throw new My({message:"No object generated: response did not match schema.",cause:o.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});return o.value}}},_Z=Ei({name:ue(),version:ue()}),Wd=Ei({_meta:dn(Ze({}).loose())}),Po=Wd,wZ=Ze({method:ue(),params:dn(Wd)}),kZ=Ei({experimental:dn(Ze({}).loose()),logging:dn(Ze({}).loose()),prompts:dn(Ei({listChanged:dn(pt())})),resources:dn(Ei({subscribe:dn(pt()),listChanged:dn(pt())})),tools:dn(Ei({listChanged:dn(pt())}))});Po.extend({protocolVersion:ue(),capabilities:kZ,serverInfo:_Z,instructions:dn(ue())});var CZ=Po.extend({nextCursor:dn(ue())}),SZ=Ze({name:ue(),description:dn(ue()),inputSchema:Ze({type:Ee("object"),properties:dn(Ze({}).loose())}).loose()}).loose();CZ.extend({tools:Wn(SZ)});var EZ=Ze({type:Ee("text"),text:ue()}).loose(),AZ=Ze({type:Ee("image"),data:e_(),mimeType:ue()}).loose(),G_=Ze({uri:ue(),mimeType:dn(ue())}).loose(),TZ=G_.extend({text:ue()}),IZ=G_.extend({blob:e_()}),jZ=Ze({type:Ee("resource"),resource:Rt([TZ,IZ])}).loose();Po.extend({content:Wn(Rt([EZ,AZ,jZ])),isError:pt().default(!1).optional()}).or(Po.extend({toolResult:St()}));var Wl="2.0",RZ=Ze({jsonrpc:Ee(Wl),id:Rt([ue(),Pi().int()])}).merge(wZ).strict(),OZ=Ze({jsonrpc:Ee(Wl),id:Rt([ue(),Pi().int()]),result:Po}).strict(),MZ=Ze({jsonrpc:Ee(Wl),id:Rt([ue(),Pi().int()]),error:Ze({code:Pi().int(),message:ue(),data:dn(St())})}).strict(),zZ=Ze({jsonrpc:Ee(Wl)}).merge(Ze({method:ue(),params:dn(Wd)})).strict();Rt([RZ,zZ,OZ,MZ]);var PZ=class{constructor({api:e="/api/chat",credentials:t,headers:n,body:r,fetch:a,prepareSendMessagesRequest:o,prepareReconnectToStreamRequest:s}){this.api=e,this.credentials=t,this.headers=n,this.body=r,this.fetch=a,this.prepareSendMessagesRequest=o,this.prepareReconnectToStreamRequest=s}async sendMessages({abortSignal:e,...t}){var n,r,a,o,s;const l=await bi(this.body),u=await bi(this.headers),p=await bi(this.credentials),d=await((n=this.prepareSendMessagesRequest)==null?void 0:n.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...l,...t.body},headers:{...u,...t.headers},credentials:p,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),h=(r=d?.api)!=null?r:this.api,m=d?.headers!==void 0?d.headers:{...u,...t.headers},v=d?.body!==void 0?d.body:{...l,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},y=(a=d?.credentials)!=null?a:p,b=await((o=this.fetch)!=null?o:globalThis.fetch)(h,{method:"POST",headers:jy({"Content-Type":"application/json",...m},`ai-sdk/${zy}`,Iy()),body:JSON.stringify(v),credentials:y,signal:e});if(!b.ok)throw new Error((s=await b.text())!=null?s:"Failed to fetch the chat response.");if(!b.body)throw new Error("The response body is empty.");return this.processResponseStream(b.body)}async reconnectToStream(e){var t,n,r,a,o;const s=await bi(this.body),l=await bi(this.headers),u=await bi(this.credentials),p=await((t=this.prepareReconnectToStreamRequest)==null?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...s,...e.body},headers:{...l,...e.headers},credentials:u,requestMetadata:e.metadata})),d=(n=p?.api)!=null?n:`${this.api}/${e.chatId}/stream`,h=p?.headers!==void 0?p.headers:{...l,...e.headers},m=(r=p?.credentials)!=null?r:u,y=await((a=this.fetch)!=null?a:globalThis.fetch)(d,{method:"GET",headers:jy(h,`ai-sdk/${zy}`,Iy()),credentials:m});if(y.status===204)return null;if(!y.ok)throw new Error((o=await y.text())!=null?o:"Failed to fetch the chat response.");if(!y.body)throw new Error("The response body is empty.");return this.processResponseStream(y.body)}},NZ=class extends PZ{constructor(e={}){super(e)}processResponseStream(e){return u3({stream:e,schema:mZ}).pipeThrough(new TransformStream({async transform(t,n){if(!t.success)throw t.error;n.enqueue(t.value)}}))}},$Z=Ze({type:Ee("text"),text:ue(),state:Uo(["streaming","done"]).optional(),providerMetadata:Et.optional()}),FZ=Ze({type:Ee("reasoning"),text:ue(),state:Uo(["streaming","done"]).optional(),providerMetadata:Et.optional()}),DZ=Ze({type:Ee("source-url"),sourceId:ue(),url:ue(),title:ue().optional(),providerMetadata:Et.optional()}),LZ=Ze({type:Ee("source-document"),sourceId:ue(),mediaType:ue(),title:ue(),filename:ue().optional(),providerMetadata:Et.optional()}),BZ=Ze({type:Ee("file"),mediaType:ue(),filename:ue().optional(),url:ue(),providerMetadata:Et.optional()}),UZ=Ze({type:Ee("step-start")}),ZZ=Ze({type:ue().startsWith("data-"),id:ue().optional(),data:St()}),HZ=[Ze({type:Ee("dynamic-tool"),toolName:ue(),toolCallId:ue(),state:Ee("input-streaming"),input:St().optional(),output:Un().optional(),errorText:Un().optional()}),Ze({type:Ee("dynamic-tool"),toolName:ue(),toolCallId:ue(),state:Ee("input-available"),input:St(),output:Un().optional(),errorText:Un().optional(),callProviderMetadata:Et.optional()}),Ze({type:Ee("dynamic-tool"),toolName:ue(),toolCallId:ue(),state:Ee("output-available"),input:St(),output:St(),errorText:Un().optional(),callProviderMetadata:Et.optional(),preliminary:pt().optional()}),Ze({type:Ee("dynamic-tool"),toolName:ue(),toolCallId:ue(),state:Ee("output-error"),input:St(),output:Un().optional(),errorText:ue(),callProviderMetadata:Et.optional()})],qZ=[Ze({type:ue().startsWith("tool-"),toolCallId:ue(),state:Ee("input-streaming"),providerExecuted:pt().optional(),input:St().optional(),output:Un().optional(),errorText:Un().optional()}),Ze({type:ue().startsWith("tool-"),toolCallId:ue(),state:Ee("input-available"),providerExecuted:pt().optional(),input:St(),output:Un().optional(),errorText:Un().optional(),callProviderMetadata:Et.optional()}),Ze({type:ue().startsWith("tool-"),toolCallId:ue(),state:Ee("output-available"),providerExecuted:pt().optional(),input:St(),output:St(),errorText:Un().optional(),callProviderMetadata:Et.optional(),preliminary:pt().optional()}),Ze({type:ue().startsWith("tool-"),toolCallId:ue(),state:Ee("output-error"),providerExecuted:pt().optional(),input:St(),output:Un().optional(),errorText:ue(),callProviderMetadata:Et.optional()})];Ze({id:ue(),role:Uo(["system","user","assistant"]),metadata:St().optional(),parts:Wn(Rt([$Z,FZ,DZ,LZ,BZ,UZ,ZZ,...HZ,...qZ]))});let ta=null;const Vd="strapi-ai-token",J_=60*1e3,WZ=e=>{const t=Date.parse(e);return Number.isFinite(t)?t:null},VZ=(e,t=J_,n=Date.now())=>{const r=WZ(e);return r===null||r<=n?"expired":r-t<=n?"stale":"valid"},Py=(e,t=J_,n=Date.now())=>VZ(e,t,n)==="valid",GZ=()=>{ta=null,sessionStorage.removeItem(Vd)},JZ=()=>{try{const e=sessionStorage.getItem(Vd);return e?JSON.parse(e):null}catch{return null}},KZ=e=>{sessionStorage.setItem(Vd,JSON.stringify(e))},Cl=async()=>{if(ta&&Py(ta.expiresAt))return ta;const e=JZ();if(e&&Py(e.expiresAt))return ta=e,ta;try{const{get:t}=jI(),{data:n}=await t("/admin/ai-token"),r=n?.token||n?.data?.token,a=n?.expiresAt||n?.data?.expiresAt;return r&&a?(ta={token:r,expiresAt:a},KZ(ta),ta):null}catch{return null}},YZ=async()=>{try{if(await Cl())return;await Cl()}catch{}},K_=async e=>{try{return await e.json()}catch{try{return{error:await e.text()}}catch{return}}},XZ=(e,t,n)=>({Authorization:`Bearer ${e}`,"X-Strapi-Version":t?.strapiVersion||"latest","X-Strapi-User":t?.userId||"unknown","X-Strapi-Project-Id":t?.projectId||"unknown",...n}),QZ=(e,t)=>{if(e===401||e===403)return!0;const n=(t?.error||"").toString().toLowerCase();return n.includes("expired")||n.includes("invalid token")},Y_=async(e,t={})=>{const n=await Cl();if(!n?.token)throw new Error("Could not authorize with AI Server. Please contact your administrator.");const r=async s=>{const l=XZ(s,t.ctx,t.headers);return fetch(e,{...t,headers:l})};let a=await r(n.token),o;try{o=await K_(a.clone())}catch{}if(QZ(a.status,o)){GZ();const s=await Cl();s?.token&&s.token!==n.token&&(a=await r(s.token))}return a},e9=e=>async(t,n={})=>Y_(t,{...n,ctx:e}),t9="Too many requests",n9="License limit",r9="AI credit limit exceeded",a9="Chat too long",Vl=e=>()=>{const t=ia("useAIFetch",d=>d.strapiVersion),n=ia("useAIFetch",d=>d.projectId),r=ia("useAIFetch-user",d=>d.userId),a=RI(void 0,{refetchOnMountOrArgChange:!0}),[o,s]=V.useState(!1),[l,u]=V.useState(null);return{isPending:o,error:l,fetch:async(d={})=>{s(!0),u(null);try{const h=`${qb}${e}`,m=!!d.body&&!d.formData,v=await Y_(h,{method:"POST",headers:m?{"Content-Type":"application/json",...d.headers||{}}:d.headers,body:d.formData?d.formData:m?JSON.stringify(d.body||{}):void 0,ctx:{strapiVersion:t,projectId:n,userId:r}});a.refetch();const y=await K_(v);if(!v.ok)throw new Error(`Error: ${v.statusText}`);return y}catch(h){return u(h instanceof Error?h.message:`Failed to fetch data from ${e}`),null}finally{s(!1)}}}},i9=Vl("/schemas/chat/generate-title"),o9=Vl("/schemas/chat/attachment"),s9=Vl("/schemas/chat/feedback"),l9=Vl("/media/upload"),c9=e=>{const t=ia("useAIChat",o=>o.strapiVersion),n=ia("useAIFetch",o=>o.projectId),r=ia("useAIChat-user",o=>o.userId),a=e9({strapiVersion:t,projectId:n,userId:r});return WU({...e,transport:new NZ({api:nM,fetch:a})})},u9=({chatId:e,messages:t})=>{const[n,r]=V.useState(void 0),{fetch:a,error:o,isPending:s}=i9(),l=V.useCallback(async()=>{const p=t.at(0);if(!p||n||s||o)return;const d=p.parts.map(m=>m.type==="text"?m.text:"").join(`
`),h=await a({body:{chatId:e,message:d}});h?.data&&r(h.data.title)},[t,n,s,o,a,e]),u=V.useCallback(()=>{r(void 0)},[]);return{title:n,isGenerating:s,error:o,generateTitle:l,resetTitle:u}},p9=1,d9=()=>{if(typeof window>"u")return{uid:null,type:null};const e=window.location.pathname;if(e.includes("/content-types/")){const t=e.split("/content-types/")[1];if(t)return{uid:t,type:"contentType"}}if(e.includes("/component-categories/")){const t=e.split("/component-categories/")[1].split("/");if(t.length>=2)return{uid:t[1],type:"component"}}return{uid:null,type:null}},f9=()=>{const[e,t]=V.useState([]),{components:n,contentTypes:r}=ar();return V.useEffect(()=>{const s=()=>{const{uid:p,type:d}=d9();if(!p||!d)return;const h={uid:p,type:d,timestamp:Date.now()};t(m=>{const v=m.filter(y=>y.uid!==h.uid);return[h,...v].slice(0,p9)})};s(),window.addEventListener("popstate",s);const u=(()=>{let p=window.location.pathname;const d=setInterval(()=>{const h=window.location.pathname;h!==p&&(p=h,s())},300);return()=>clearInterval(d)})();return()=>{window.removeEventListener("popstate",s),u()}},[]),{lastSeenSchemas:V.useMemo(()=>e.filter(s=>s.type==="contentType"?Object.keys(r).some(l=>l===s.uid):s.type==="component"?Object.keys(n).some(l=>l===s.uid):!1),[e,n,r]),clearHistory:()=>{t([])}}},Ny=e=>e.reduce((t,n)=>{const{name:r,...a}=n;return{...t,[r]:a}},{}),$y=e=>e.modelType==="component"?{category:e.category,kind:"component",action:"create",modelType:"component",description:e.info.description,name:e.info.displayName,uid:e.uid,attributes:Ny(e.attributes),sources:e.sources}:{kind:e.kind,modelType:e.modelType,description:e.info.description,action:"create",name:e.info.pluralName,uid:e.uid,attributes:Ny(e.attributes),sources:e.sources,options:{draftAndPublish:e.options?.draftAndPublish,localized:!1}},X_=V.createContext(null),Q_=()=>{const e=V.useContext(X_);if(!e)throw new Error("useStepModal must be used within a StepModal");return e},Va=({open:e,onOpenChange:t,title:n,children:r,onComplete:a,onCancel:o})=>{const[s,l]=V.useState(0),[u,p]=V.useState(!1),[d,h]=V.useState(null),m=V.Children.toArray(r).filter(U=>V.isValidElement(U)).map(U=>U.props),v=m.length,y=s===0,_=s===v-1;V.useEffect(()=>{e||(l(0),p(!1),h(null))},[e]);const b=()=>{l(0),p(!1),h(null)},k=()=>{o?.(),b(),t(!1)},E=()=>{l(U=>Math.max(0,U-1)),h(null)},T=async()=>{const U=m[s];if(U.onNext){p(!0),h(null);try{return _?(a?.(),b(),t(!1)):(await U.onNext(),l(B=>B+1)),!0}catch(B){return h(B instanceof Error?B:new Error(String(B))),!1}finally{p(!1)}}else return _?(a?.(),b(),t(!1)):l(B=>B+1),!0},I=U=>{U.preventDefault(),!u&&!m[s]?.disableNext&&T()},N={currentStep:s,goToStep:l,nextStep:T,prevStep:E,isFirstStep:y,isLastStep:_,totalSteps:v,isLoading:u,error:d,setError:h},M=m[s];return g.jsx(X_.Provider,{value:N,children:e&&g.jsx(yn.Root,{open:!0,onOpenChange:k,children:g.jsxs(yn.Content,{children:[g.jsx(yn.Header,{children:g.jsx(Fe,{variant:"omega",fontWeight:"bold",children:M?.title||n})}),g.jsxs("form",{onSubmit:I,children:[g.jsxs(yn.Body,{children:[V.Children.toArray(r)[s],d&&g.jsx(De,{marginTop:4,padding:3,background:"danger100",color:"danger600",borderRadius:"4px",children:g.jsx(Fe,{variant:"pi",children:d.message})})]}),g.jsxs(yn.Footer,{children:[y?g.jsx(vt,{variant:"tertiary",onClick:k,type:"button",children:M?.cancelLabel||"Cancel"}):g.jsx(vt,{variant:"tertiary",onClick:E,type:"button",children:M?.backLabel||"Back"}),g.jsx(vt,{variant:"default",type:"submit",disabled:u||M?.disableNext,loading:u,children:M?.nextLabel||(_?"Complete":"Next")})]})]})]})})})},h9=({children:e})=>g.jsx(g.Fragment,{children:e});Va.Step=h9;const Sl=(e=16)=>crypto.randomUUID().slice(0,e);function qo(){const{setAttachments:e,attachments:t,id:n}=_r(),{toggleNotification:r}=Fi(),{fetch:a}=l9(),o=V.useCallback(d=>{d&&e(h=>[...h,...d])},[e]),s=V.useCallback(d=>{e(h=>h.map(m=>m.id===d.id?{...m,...d}:m))},[e]),l=V.useCallback(d=>{e(h=>h.filter(m=>m.id!==d.id))},[e]),u=V.useCallback(async(d,h)=>{const m=t?.length||0,v=Array.from(d).length;let y=d;if(m+v>bu){r({type:"danger",title:"File limit reached: ",message:`You can only upload up to ${bu} files`});const _=bu-m;y=d.slice(0,_)}for(const _ of y)_.size>tM&&(r({type:"danger",title:"File too large: ",message:"One of the files is too large (15MB limit)"}),y=y.filter(b=>b!==_));for(const _ of y){const b={id:Sl(),type:"file",status:"loading",filename:_.name,mediaType:_.type,url:""};e(E=>[...E,b]);const k=new FormData;k.append("file",_),k.append("fileInfo",JSON.stringify({name:_.name,chatId:n})),a({formData:k}).then(E=>{const T=E?.data;if(!E||E.error){r({type:"danger",title:"Failed to upload file: ",message:E?.error||"Unknown error",timeout:5e3}),l(b);return}s({id:b.id,url:T?.url||"",status:"ready"})}).catch(()=>l(b))}h&&r({title:"Files attached",message:h})},[t,e,r,n,a,l,s]),p=V.useCallback(d=>{t&&e(t.filter((h,m)=>m!==d))},[e,t]);return{attachments:t,attachFiles:u,addAttachments:o,removeAttachment:l,removeAttachmentByIndex:p}}var ew={exports:{}};(function(e,t){var n={};/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(r){e.exports=r()})(function(){return function r(a,o,s){function l(d,h){if(!o[d]){if(!a[d]){var m=typeof $s=="function"&&$s;if(!h&&m)return m(d,!0);if(u)return u(d,!0);var v=new Error("Cannot find module '"+d+"'");throw v.code="MODULE_NOT_FOUND",v}var y=o[d]={exports:{}};a[d][0].call(y.exports,function(_){var b=a[d][1][_];return l(b||_)},y,y.exports,r,a,o,s)}return o[d].exports}for(var u=typeof $s=="function"&&$s,p=0;p<s.length;p++)l(s[p]);return l}({1:[function(r,a,o){var s=r("./utils"),l=r("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(p){for(var d,h,m,v,y,_,b,k=[],E=0,T=p.length,I=T,N=s.getTypeOf(p)!=="string";E<p.length;)I=T-E,m=N?(d=p[E++],h=E<T?p[E++]:0,E<T?p[E++]:0):(d=p.charCodeAt(E++),h=E<T?p.charCodeAt(E++):0,E<T?p.charCodeAt(E++):0),v=d>>2,y=(3&d)<<4|h>>4,_=1<I?(15&h)<<2|m>>6:64,b=2<I?63&m:64,k.push(u.charAt(v)+u.charAt(y)+u.charAt(_)+u.charAt(b));return k.join("")},o.decode=function(p){var d,h,m,v,y,_,b=0,k=0,E="data:";if(p.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var T,I=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===u.charAt(64)&&I--,p.charAt(p.length-2)===u.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=l.uint8array?new Uint8Array(0|I):new Array(0|I);b<p.length;)d=u.indexOf(p.charAt(b++))<<2|(v=u.indexOf(p.charAt(b++)))>>4,h=(15&v)<<4|(y=u.indexOf(p.charAt(b++)))>>2,m=(3&y)<<6|(_=u.indexOf(p.charAt(b++))),T[k++]=d,y!==64&&(T[k++]=h),_!==64&&(T[k++]=m);return T}},{"./support":30,"./utils":32}],2:[function(r,a,o){var s=r("./external"),l=r("./stream/DataWorker"),u=r("./stream/Crc32Probe"),p=r("./stream/DataLengthProbe");function d(h,m,v,y,_){this.compressedSize=h,this.uncompressedSize=m,this.crc32=v,this.compression=y,this.compressedContent=_}d.prototype={getContentWorker:function(){var h=new l(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),m=this;return h.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new l(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(h,m,v){return h.pipe(new u).pipe(new p("uncompressedSize")).pipe(m.compressWorker(v)).pipe(new p("compressedSize")).withStreamInfo("compression",m)},a.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,a,o){var s=r("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},o.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,a,o){var s=r("./utils"),l=function(){for(var u,p=[],d=0;d<256;d++){u=d;for(var h=0;h<8;h++)u=1&u?3988292384^u>>>1:u>>>1;p[d]=u}return p}();a.exports=function(u,p){return u!==void 0&&u.length?s.getTypeOf(u)!=="string"?function(d,h,m,v){var y=l,_=v+m;d^=-1;for(var b=v;b<_;b++)d=d>>>8^y[255&(d^h[b])];return-1^d}(0|p,u,u.length,0):function(d,h,m,v){var y=l,_=v+m;d^=-1;for(var b=v;b<_;b++)d=d>>>8^y[255&(d^h.charCodeAt(b))];return-1^d}(0|p,u,u.length,0):0}},{"./utils":32}],5:[function(r,a,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(r,a,o){var s=null;s=typeof Promise<"u"?Promise:r("lie"),a.exports={Promise:s}},{lie:37}],7:[function(r,a,o){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=r("pako"),u=r("./utils"),p=r("./stream/GenericWorker"),d=s?"uint8array":"array";function h(m,v){p.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=v,this.meta={}}o.magic="\b\0",u.inherits(h,p),h.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(d,m.data),!1)},h.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(v){m.push({data:v,meta:m.meta})}},o.compressWorker=function(m){return new h("Deflate",m)},o.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,a,o){function s(y,_){var b,k="";for(b=0;b<_;b++)k+=String.fromCharCode(255&y),y>>>=8;return k}function l(y,_,b,k,E,T){var I,N,M=y.file,U=y.compression,B=T!==d.utf8encode,J=u.transformTo("string",T(M.name)),Y=u.transformTo("string",d.utf8encode(M.name)),q=M.comment,pe=u.transformTo("string",T(q)),O=u.transformTo("string",d.utf8encode(q)),K=Y.length!==M.name.length,w=O.length!==q.length,L="",Ae="",de="",fe=M.dir,$=M.date,Re={crc32:0,compressedSize:0,uncompressedSize:0};_&&!b||(Re.crc32=y.crc32,Re.compressedSize=y.compressedSize,Re.uncompressedSize=y.uncompressedSize);var se=0;_&&(se|=8),B||!K&&!w||(se|=2048);var R=0,Ne=0;fe&&(R|=16),E==="UNIX"?(Ne=798,R|=function(W,we){var Se=W;return W||(Se=we?16893:33204),(65535&Se)<<16}(M.unixPermissions,fe)):(Ne=20,R|=function(W){return 63&(W||0)}(M.dosPermissions)),I=$.getUTCHours(),I<<=6,I|=$.getUTCMinutes(),I<<=5,I|=$.getUTCSeconds()/2,N=$.getUTCFullYear()-1980,N<<=4,N|=$.getUTCMonth()+1,N<<=5,N|=$.getUTCDate(),K&&(Ae=s(1,1)+s(h(J),4)+Y,L+="up"+s(Ae.length,2)+Ae),w&&(de=s(1,1)+s(h(pe),4)+O,L+="uc"+s(de.length,2)+de);var Q="";return Q+=`
\0`,Q+=s(se,2),Q+=U.magic,Q+=s(I,2),Q+=s(N,2),Q+=s(Re.crc32,4),Q+=s(Re.compressedSize,4),Q+=s(Re.uncompressedSize,4),Q+=s(J.length,2),Q+=s(L.length,2),{fileRecord:m.LOCAL_FILE_HEADER+Q+J+L,dirRecord:m.CENTRAL_FILE_HEADER+s(Ne,2)+Q+s(pe.length,2)+"\0\0\0\0"+s(R,4)+s(k,4)+J+L+pe}}var u=r("../utils"),p=r("../stream/GenericWorker"),d=r("../utf8"),h=r("../crc32"),m=r("../signature");function v(y,_,b,k){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=b,this.encodeFileName=k,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(v,p),v.prototype.push=function(y){var _=y.meta.percent||0,b=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,p.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:b?(_+100*(b-k-1))/b:100}}))},v.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var _=this.streamFiles&&!y.file.dir;if(_){var b=l(y,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(y){this.accumulate=!1;var _=this.streamFiles&&!y.file.dir,b=l(y,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),_)this.push({data:function(k){return m.DATA_DESCRIPTOR+s(k.crc32,4)+s(k.compressedSize,4)+s(k.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var y=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var b=this.bytesWritten-y,k=function(E,T,I,N,M){var U=u.transformTo("string",M(N));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(E,2)+s(E,2)+s(T,4)+s(I,4)+s(U.length,2)+U}(this.dirRecords.length,b,y,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(y){this._sources.push(y);var _=this;return y.on("data",function(b){_.processChunk(b)}),y.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),y.on("error",function(b){_.error(b)}),this},v.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(y){var _=this._sources;if(!p.prototype.error.call(this,y))return!1;for(var b=0;b<_.length;b++)try{_[b].error(y)}catch{}return!0},v.prototype.lock=function(){p.prototype.lock.call(this);for(var y=this._sources,_=0;_<y.length;_++)y[_].lock()},a.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,a,o){var s=r("../compressions"),l=r("./ZipFileWorker");o.generateWorker=function(u,p,d){var h=new l(p.streamFiles,d,p.platform,p.encodeFileName),m=0;try{u.forEach(function(v,y){m++;var _=function(T,I){var N=T||I,M=s[N];if(!M)throw new Error(N+" is not a valid compression method !");return M}(y.options.compression,p.compression),b=y.options.compressionOptions||p.compressionOptions||{},k=y.dir,E=y.date;y._compressWorker(_,b).withStreamInfo("file",{name:v,dir:k,date:E,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(h)}),h.entriesCount=m}catch(v){h.error(v)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,a,o){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new s;for(var u in this)typeof this[u]!="function"&&(l[u]=this[u]);return l}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(l,u){return new s().loadAsync(l,u)},s.external=r("./external"),a.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,a,o){var s=r("./utils"),l=r("./external"),u=r("./utf8"),p=r("./zipEntries"),d=r("./stream/Crc32Probe"),h=r("./nodejsUtils");function m(v){return new l.Promise(function(y,_){var b=v.decompressed.getContentWorker().pipe(new d);b.on("error",function(k){_(k)}).on("end",function(){b.streamInfo.crc32!==v.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}a.exports=function(v,y){var _=this;return y=s.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),h.isNode&&h.isStream(v)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",v,!0,y.optimizedBinaryString,y.base64).then(function(b){var k=new p(y);return k.load(b),k}).then(function(b){var k=[l.Promise.resolve(b)],E=b.files;if(y.checkCRC32)for(var T=0;T<E.length;T++)k.push(m(E[T]));return l.Promise.all(k)}).then(function(b){for(var k=b.shift(),E=k.files,T=0;T<E.length;T++){var I=E[T],N=I.fileNameStr,M=s.resolve(I.fileNameStr);_.file(M,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:y.createFolders}),I.dir||(_.file(M).unsafeOriginalName=N)}return k.zipComment.length&&(_.comment=k.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,a,o){var s=r("../utils"),l=r("../stream/GenericWorker");function u(p,d){l.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(d)}s.inherits(u,l),u.prototype._bindStream=function(p){var d=this;(this._stream=p).pause(),p.on("data",function(h){d.push({data:h,meta:{percent:0}})}).on("error",function(h){d.isPaused?this.generatedError=h:d.error(h)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},u.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,a,o){var s=r("readable-stream").Readable;function l(u,p,d){s.call(this,p),this._helper=u;var h=this;u.on("data",function(m,v){h.push(m)||h._helper.pause(),d&&d(v)}).on("error",function(m){h.emit("error",m)}).on("end",function(){h.push(null)})}r("../utils").inherits(l,s),l.prototype._read=function(){this._helper.resume()},a.exports=l},{"../utils":32,"readable-stream":16}],14:[function(r,a,o){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,l);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,l)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var l=new Buffer(s);return l.fill(0),l},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,a,o){function s(M,U,B){var J,Y=u.getTypeOf(U),q=u.extend(B||{},h);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(M=E(M)),q.createFolders&&(J=k(M))&&T.call(this,J,!0);var pe=Y==="string"&&q.binary===!1&&q.base64===!1;B&&B.binary!==void 0||(q.binary=!pe),(U instanceof m&&U.uncompressedSize===0||q.dir||!U||U.length===0)&&(q.base64=!1,q.binary=!0,U="",q.compression="STORE",Y="string");var O=null;O=U instanceof m||U instanceof p?U:_.isNode&&_.isStream(U)?new b(M,U):u.prepareContent(M,U,q.binary,q.optimizedBinaryString,q.base64);var K=new v(M,O,q);this.files[M]=K}var l=r("./utf8"),u=r("./utils"),p=r("./stream/GenericWorker"),d=r("./stream/StreamHelper"),h=r("./defaults"),m=r("./compressedObject"),v=r("./zipObject"),y=r("./generate"),_=r("./nodejsUtils"),b=r("./nodejs/NodejsStreamInputAdapter"),k=function(M){M.slice(-1)==="/"&&(M=M.substring(0,M.length-1));var U=M.lastIndexOf("/");return 0<U?M.substring(0,U):""},E=function(M){return M.slice(-1)!=="/"&&(M+="/"),M},T=function(M,U){return U=U!==void 0?U:h.createFolders,M=E(M),this.files[M]||s.call(this,M,null,{dir:!0,createFolders:U}),this.files[M]};function I(M){return Object.prototype.toString.call(M)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(M){var U,B,J;for(U in this.files)J=this.files[U],(B=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&M(B,J)},filter:function(M){var U=[];return this.forEach(function(B,J){M(B,J)&&U.push(J)}),U},file:function(M,U,B){if(arguments.length!==1)return M=this.root+M,s.call(this,M,U,B),this;if(I(M)){var J=M;return this.filter(function(q,pe){return!pe.dir&&J.test(q)})}var Y=this.files[this.root+M];return Y&&!Y.dir?Y:null},folder:function(M){if(!M)return this;if(I(M))return this.filter(function(Y,q){return q.dir&&M.test(Y)});var U=this.root+M,B=T.call(this,U),J=this.clone();return J.root=B.name,J},remove:function(M){M=this.root+M;var U=this.files[M];if(U||(M.slice(-1)!=="/"&&(M+="/"),U=this.files[M]),U&&!U.dir)delete this.files[M];else for(var B=this.filter(function(Y,q){return q.name.slice(0,M.length)===M}),J=0;J<B.length;J++)delete this.files[B[J].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(M){var U,B={};try{if((B=u.extend(M||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");u.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var J=B.comment||this.comment||"";U=y.generateWorker(this,B,J)}catch(Y){(U=new p("error")).error(Y)}return new d(U,B.type||"string",B.mimeType)},generateAsync:function(M,U){return this.generateInternalStream(M).accumulate(U)},generateNodeStream:function(M,U){return(M=M||{}).type||(M.type="nodebuffer"),this.generateInternalStream(M).toNodejsStream(U)}};a.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,a,o){a.exports=r("stream")},{stream:void 0}],17:[function(r,a,o){var s=r("./DataReader");function l(u){s.call(this,u);for(var p=0;p<this.data.length;p++)u[p]=255&u[p]}r("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data[this.zero+u]},l.prototype.lastIndexOfSignature=function(u){for(var p=u.charCodeAt(0),d=u.charCodeAt(1),h=u.charCodeAt(2),m=u.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===p&&this.data[v+1]===d&&this.data[v+2]===h&&this.data[v+3]===m)return v-this.zero;return-1},l.prototype.readAndCheckSignature=function(u){var p=u.charCodeAt(0),d=u.charCodeAt(1),h=u.charCodeAt(2),m=u.charCodeAt(3),v=this.readData(4);return p===v[0]&&d===v[1]&&h===v[2]&&m===v[3]},l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,p},a.exports=l},{"../utils":32,"./DataReader":18}],18:[function(r,a,o){var s=r("../utils");function l(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var p,d=0;for(this.checkOffset(u),p=this.index+u-1;p>=this.index;p--)d=(d<<8)+this.byteAt(p);return this.index+=u,d},readString:function(u){return s.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},a.exports=l},{"../utils":32}],19:[function(r,a,o){var s=r("./Uint8ArrayReader");function l(u){s.call(this,u)}r("../utils").inherits(l,s),l.prototype.readData=function(u){this.checkOffset(u);var p=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,p},a.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,a,o){var s=r("./DataReader");function l(u){s.call(this,u)}r("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},l.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},l.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},l.prototype.readData=function(u){this.checkOffset(u);var p=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,p},a.exports=l},{"../utils":32,"./DataReader":18}],21:[function(r,a,o){var s=r("./ArrayReader");function l(u){s.call(this,u)}r("../utils").inherits(l,s),l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,p},a.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(r,a,o){var s=r("../utils"),l=r("../support"),u=r("./ArrayReader"),p=r("./StringReader"),d=r("./NodeBufferReader"),h=r("./Uint8ArrayReader");a.exports=function(m){var v=s.getTypeOf(m);return s.checkSupport(v),v!=="string"||l.uint8array?v==="nodebuffer"?new d(m):l.uint8array?new h(s.transformTo("uint8array",m)):new u(s.transformTo("array",m)):new p(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,a,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,a,o){var s=r("./GenericWorker"),l=r("../utils");function u(p){s.call(this,"ConvertWorker to "+p),this.destType=p}l.inherits(u,s),u.prototype.processChunk=function(p){this.push({data:l.transformTo(this.destType,p.data),meta:p.meta})},a.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(r,a,o){var s=r("./GenericWorker"),l=r("../crc32");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(u,s),u.prototype.processChunk=function(p){this.streamInfo.crc32=l(p.data,this.streamInfo.crc32||0),this.push(p)},a.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,a,o){var s=r("../utils"),l=r("./GenericWorker");function u(p){l.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}s.inherits(u,l),u.prototype.processChunk=function(p){if(p){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+p.data.length}l.prototype.processChunk.call(this,p)},a.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(r,a,o){var s=r("../utils"),l=r("./GenericWorker");function u(p){l.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(h){d.dataIsReady=!0,d.data=h,d.max=h&&h.length||0,d.type=s.getTypeOf(h),d.isPaused||d._tickAndRepeat()},function(h){d.error(h)})}s.inherits(u,l),u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,d);break;case"uint8array":p=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":p=this.data.slice(this.index,d)}return this.index=d,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(r,a,o){function s(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,u){return this._listeners[l].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,u){if(this._listeners[l])for(var p=0;p<this._listeners[l].length;p++)this._listeners[l][p].call(this,u)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var u=this;return l.on("data",function(p){u.processChunk(p)}),l.on("end",function(){u.end()}),l.on("error",function(p){u.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,u){return this.extraStreamInfo[l]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},a.exports=s},{}],29:[function(r,a,o){var s=r("../utils"),l=r("./ConvertWorker"),u=r("./GenericWorker"),p=r("../base64"),d=r("../support"),h=r("../external"),m=null;if(d.nodestream)try{m=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(_,b){return new h.Promise(function(k,E){var T=[],I=_._internalType,N=_._outputType,M=_._mimeType;_.on("data",function(U,B){T.push(U),b&&b(B)}).on("error",function(U){T=[],E(U)}).on("end",function(){try{var U=function(B,J,Y){switch(B){case"blob":return s.newBlob(s.transformTo("arraybuffer",J),Y);case"base64":return p.encode(J);default:return s.transformTo(B,J)}}(N,function(B,J){var Y,q=0,pe=null,O=0;for(Y=0;Y<J.length;Y++)O+=J[Y].length;switch(B){case"string":return J.join("");case"array":return Array.prototype.concat.apply([],J);case"uint8array":for(pe=new Uint8Array(O),Y=0;Y<J.length;Y++)pe.set(J[Y],q),q+=J[Y].length;return pe;case"nodebuffer":return Buffer.concat(J);default:throw new Error("concat : unsupported type '"+B+"'")}}(I,T),M);k(U)}catch(B){E(B)}T=[]}).resume()})}function y(_,b,k){var E=b;switch(b){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=b,this._mimeType=k,s.checkSupport(E),this._worker=_.pipe(new l(E)),_.lock()}catch(T){this._worker=new u("error"),this._worker.error(T)}}y.prototype={accumulate:function(_){return v(this,_)},on:function(_,b){var k=this;return _==="data"?this._worker.on(_,function(E){b.call(k,E.data,E.meta)}):this._worker.on(_,function(){s.delay(b,arguments,k)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},_)}},a.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,a,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var s=new ArrayBuffer(0);try{o.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(s),o.blob=l.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!r("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(r,a,o){for(var s=r("./utils"),l=r("./support"),u=r("./nodejsUtils"),p=r("./stream/GenericWorker"),d=new Array(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;d[254]=d[254]=1;function m(){p.call(this,"utf-8 decode"),this.leftOver=null}function v(){p.call(this,"utf-8 encode")}o.utf8encode=function(y){return l.nodebuffer?u.newBufferFrom(y,"utf-8"):function(_){var b,k,E,T,I,N=_.length,M=0;for(T=0;T<N;T++)(64512&(k=_.charCodeAt(T)))==55296&&T+1<N&&(64512&(E=_.charCodeAt(T+1)))==56320&&(k=65536+(k-55296<<10)+(E-56320),T++),M+=k<128?1:k<2048?2:k<65536?3:4;for(b=l.uint8array?new Uint8Array(M):new Array(M),T=I=0;I<M;T++)(64512&(k=_.charCodeAt(T)))==55296&&T+1<N&&(64512&(E=_.charCodeAt(T+1)))==56320&&(k=65536+(k-55296<<10)+(E-56320),T++),k<128?b[I++]=k:(k<2048?b[I++]=192|k>>>6:(k<65536?b[I++]=224|k>>>12:(b[I++]=240|k>>>18,b[I++]=128|k>>>12&63),b[I++]=128|k>>>6&63),b[I++]=128|63&k);return b}(y)},o.utf8decode=function(y){return l.nodebuffer?s.transformTo("nodebuffer",y).toString("utf-8"):function(_){var b,k,E,T,I=_.length,N=new Array(2*I);for(b=k=0;b<I;)if((E=_[b++])<128)N[k++]=E;else if(4<(T=d[E]))N[k++]=65533,b+=T-1;else{for(E&=T===2?31:T===3?15:7;1<T&&b<I;)E=E<<6|63&_[b++],T--;1<T?N[k++]=65533:E<65536?N[k++]=E:(E-=65536,N[k++]=55296|E>>10&1023,N[k++]=56320|1023&E)}return N.length!==k&&(N.subarray?N=N.subarray(0,k):N.length=k),s.applyFromCharCode(N)}(y=s.transformTo(l.uint8array?"uint8array":"array",y))},s.inherits(m,p),m.prototype.processChunk=function(y){var _=s.transformTo(l.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var b=_;(_=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),_.set(b,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var k=function(T,I){var N;for((I=I||T.length)>T.length&&(I=T.length),N=I-1;0<=N&&(192&T[N])==128;)N--;return N<0||N===0?I:N+d[T[N]]>I?N:I}(_),E=_;k!==_.length&&(l.uint8array?(E=_.subarray(0,k),this.leftOver=_.subarray(k,_.length)):(E=_.slice(0,k),this.leftOver=_.slice(k,_.length))),this.push({data:o.utf8decode(E),meta:y.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=m,s.inherits(v,p),v.prototype.processChunk=function(y){this.push({data:o.utf8encode(y.data),meta:y.meta})},o.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,a,o){var s=r("./support"),l=r("./base64"),u=r("./nodejsUtils"),p=r("./external");function d(b){return b}function h(b,k){for(var E=0;E<b.length;++E)k[E]=255&b.charCodeAt(E);return k}r("setimmediate"),o.newBlob=function(b,k){o.checkSupport("blob");try{return new Blob([b],{type:k})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(b),E.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(b,k,E){var T=[],I=0,N=b.length;if(N<=E)return String.fromCharCode.apply(null,b);for(;I<N;)k==="array"||k==="nodebuffer"?T.push(String.fromCharCode.apply(null,b.slice(I,Math.min(I+E,N)))):T.push(String.fromCharCode.apply(null,b.subarray(I,Math.min(I+E,N)))),I+=E;return T.join("")},stringifyByChar:function(b){for(var k="",E=0;E<b.length;E++)k+=String.fromCharCode(b[E]);return k},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function v(b){var k=65536,E=o.getTypeOf(b),T=!0;if(E==="uint8array"?T=m.applyCanBeUsed.uint8array:E==="nodebuffer"&&(T=m.applyCanBeUsed.nodebuffer),T)for(;1<k;)try{return m.stringifyByChunk(b,E,k)}catch{k=Math.floor(k/2)}return m.stringifyByChar(b)}function y(b,k){for(var E=0;E<b.length;E++)k[E]=b[E];return k}o.applyFromCharCode=v;var _={};_.string={string:d,array:function(b){return h(b,new Array(b.length))},arraybuffer:function(b){return _.string.uint8array(b).buffer},uint8array:function(b){return h(b,new Uint8Array(b.length))},nodebuffer:function(b){return h(b,u.allocBuffer(b.length))}},_.array={string:v,array:d,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return u.newBufferFrom(b)}},_.arraybuffer={string:function(b){return v(new Uint8Array(b))},array:function(b){return y(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:d,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return u.newBufferFrom(new Uint8Array(b))}},_.uint8array={string:v,array:function(b){return y(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:d,nodebuffer:function(b){return u.newBufferFrom(b)}},_.nodebuffer={string:v,array:function(b){return y(b,new Array(b.length))},arraybuffer:function(b){return _.nodebuffer.uint8array(b).buffer},uint8array:function(b){return y(b,new Uint8Array(b.length))},nodebuffer:d},o.transformTo=function(b,k){if(k=k||"",!b)return k;o.checkSupport(b);var E=o.getTypeOf(k);return _[E][b](k)},o.resolve=function(b){for(var k=b.split("/"),E=[],T=0;T<k.length;T++){var I=k[T];I==="."||I===""&&T!==0&&T!==k.length-1||(I===".."?E.pop():E.push(I))}return E.join("/")},o.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":s.nodebuffer&&u.isBuffer(b)?"nodebuffer":s.uint8array&&b instanceof Uint8Array?"uint8array":s.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(b){if(!s[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(b){var k,E,T="";for(E=0;E<(b||"").length;E++)T+="\\x"+((k=b.charCodeAt(E))<16?"0":"")+k.toString(16).toUpperCase();return T},o.delay=function(b,k,E){setImmediate(function(){b.apply(E||null,k||[])})},o.inherits=function(b,k){function E(){}E.prototype=k.prototype,b.prototype=new E},o.extend=function(){var b,k,E={};for(b=0;b<arguments.length;b++)for(k in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],k)&&E[k]===void 0&&(E[k]=arguments[b][k]);return E},o.prepareContent=function(b,k,E,T,I){return p.Promise.resolve(k).then(function(N){return s.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new p.Promise(function(M,U){var B=new FileReader;B.onload=function(J){M(J.target.result)},B.onerror=function(J){U(J.target.error)},B.readAsArrayBuffer(N)}):N}).then(function(N){var M=o.getTypeOf(N);return M?(M==="arraybuffer"?N=o.transformTo("uint8array",N):M==="string"&&(I?N=l.decode(N):E&&T!==!0&&(N=function(U){return h(U,s.uint8array?new Uint8Array(U.length):new Array(U.length))}(N))),N):p.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,a,o){var s=r("./reader/readerFor"),l=r("./utils"),u=r("./signature"),p=r("./zipEntry"),d=r("./support");function h(m){this.files=[],this.loadOptions=m}h.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(v)+", expected "+l.pretty(m)+")")}},isSignature:function(m,v){var y=this.reader.index;this.reader.setIndex(m);var _=this.reader.readString(4)===v;return this.reader.setIndex(y),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),v=d.uint8array?"uint8array":"array",y=l.transformTo(v,m);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,v,y,_=this.zip64EndOfCentralSize-44;0<_;)m=this.reader.readInt(2),v=this.reader.readInt(4),y=this.reader.readData(v),this.zip64ExtensibleData[m]={id:m,length:v,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,v;for(m=0;m<this.files.length;m++)v=this.files[m],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(m=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var v=m;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var _=v-y;if(0<_)this.isSignature(v,u.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(m){this.reader=s(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,a,o){var s=r("./reader/readerFor"),l=r("./utils"),u=r("./compressedObject"),p=r("./crc32"),d=r("./utf8"),h=r("./compressions"),m=r("./support");function v(y,_){this.options=y,this.loadOptions=_}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var _,b;if(y.skip(22),this.fileNameLength=y.readInt(2),b=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(k){for(var E in h)if(Object.prototype.hasOwnProperty.call(h,E)&&h[E].magic===k)return h[E];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,_,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var _=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(_),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=s(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var _,b,k,E=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<E;)_=y.readInt(2),b=y.readInt(2),k=y.readData(b),this.extraFields[_]={id:_,length:b,value:k};y.setIndex(E)},handleUTF8:function(){var y=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var b=l.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var E=l.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var _=s(y.value);return _.readInt(1)!==1||p(this.fileName)!==_.readInt(4)?null:d.utf8decode(_.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var _=s(y.value);return _.readInt(1)!==1||p(this.fileComment)!==_.readInt(4)?null:d.utf8decode(_.readData(y.length-5))}return null}},a.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,a,o){function s(_,b,k){this.name=_,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=b,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var l=r("./stream/StreamHelper"),u=r("./stream/DataWorker"),p=r("./utf8"),d=r("./compressedObject"),h=r("./stream/GenericWorker");s.prototype={internalStream:function(_){var b=null,k="string";try{if(!_)throw new Error("No output type specified.");var E=(k=_.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),b=this._decompressWorker();var T=!this._dataBinary;T&&!E&&(b=b.pipe(new p.Utf8EncodeWorker)),!T&&E&&(b=b.pipe(new p.Utf8DecodeWorker))}catch(I){(b=new h("error")).error(I)}return new l(b,k,"")},async:function(_,b){return this.internalStream(_).accumulate(b)},nodeStream:function(_,b){return this.internalStream(_||"nodebuffer").toNodejsStream(b)},_compressWorker:function(_,b){if(this._data instanceof d&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new p.Utf8EncodeWorker)),d.createWorkerFrom(k,_,b)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof h?this._data:new u(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<m.length;y++)s.prototype[m[y]]=v;a.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,a,o){(function(s){var l,u,p=s.MutationObserver||s.WebKitMutationObserver;if(p){var d=0,h=new p(_),m=s.document.createTextNode("");h.observe(m,{characterData:!0}),l=function(){m.data=d=++d%2}}else if(s.setImmediate||s.MessageChannel===void 0)l="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var b=s.document.createElement("script");b.onreadystatechange=function(){_(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},s.document.documentElement.appendChild(b)}:function(){setTimeout(_,0)};else{var v=new s.MessageChannel;v.port1.onmessage=_,l=function(){v.port2.postMessage(0)}}var y=[];function _(){var b,k;u=!0;for(var E=y.length;E;){for(k=y,y=[],b=-1;++b<E;)k[b]();E=y.length}u=!1}a.exports=function(b){y.push(b)!==1||u||l()}}).call(this,typeof Qn<"u"?Qn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,a,o){var s=r("immediate");function l(){}var u={},p=["REJECTED"],d=["FULFILLED"],h=["PENDING"];function m(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,E!==l&&b(this,E)}function v(E,T,I){this.promise=E,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function y(E,T,I){s(function(){var N;try{N=T(I)}catch(M){return u.reject(E,M)}N===E?u.reject(E,new TypeError("Cannot resolve promise with itself")):u.resolve(E,N)})}function _(E){var T=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof T=="function")return function(){T.apply(E,arguments)}}function b(E,T){var I=!1;function N(B){I||(I=!0,u.reject(E,B))}function M(B){I||(I=!0,u.resolve(E,B))}var U=k(function(){T(M,N)});U.status==="error"&&N(U.value)}function k(E,T){var I={};try{I.value=E(T),I.status="success"}catch(N){I.status="error",I.value=N}return I}(a.exports=m).prototype.finally=function(E){if(typeof E!="function")return this;var T=this.constructor;return this.then(function(I){return T.resolve(E()).then(function(){return I})},function(I){return T.resolve(E()).then(function(){throw I})})},m.prototype.catch=function(E){return this.then(null,E)},m.prototype.then=function(E,T){if(typeof E!="function"&&this.state===d||typeof T!="function"&&this.state===p)return this;var I=new this.constructor(l);return this.state!==h?y(I,this.state===d?E:T,this.outcome):this.queue.push(new v(I,E,T)),I},v.prototype.callFulfilled=function(E){u.resolve(this.promise,E)},v.prototype.otherCallFulfilled=function(E){y(this.promise,this.onFulfilled,E)},v.prototype.callRejected=function(E){u.reject(this.promise,E)},v.prototype.otherCallRejected=function(E){y(this.promise,this.onRejected,E)},u.resolve=function(E,T){var I=k(_,T);if(I.status==="error")return u.reject(E,I.value);var N=I.value;if(N)b(E,N);else{E.state=d,E.outcome=T;for(var M=-1,U=E.queue.length;++M<U;)E.queue[M].callFulfilled(T)}return E},u.reject=function(E,T){E.state=p,E.outcome=T;for(var I=-1,N=E.queue.length;++I<N;)E.queue[I].callRejected(T);return E},m.resolve=function(E){return E instanceof this?E:u.resolve(new this(l),E)},m.reject=function(E){var T=new this(l);return u.reject(T,E)},m.all=function(E){var T=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=E.length,N=!1;if(!I)return this.resolve([]);for(var M=new Array(I),U=0,B=-1,J=new this(l);++B<I;)Y(E[B],B);return J;function Y(q,pe){T.resolve(q).then(function(O){M[pe]=O,++U!==I||N||(N=!0,u.resolve(J,M))},function(O){N||(N=!0,u.reject(J,O))})}},m.race=function(E){var T=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=E.length,N=!1;if(!I)return this.resolve([]);for(var M=-1,U=new this(l);++M<I;)B=E[M],T.resolve(B).then(function(J){N||(N=!0,u.resolve(U,J))},function(J){N||(N=!0,u.reject(U,J))});var B;return U}},{immediate:36}],38:[function(r,a,o){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),a.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,a,o){var s=r("./zlib/deflate"),l=r("./utils/common"),u=r("./utils/strings"),p=r("./zlib/messages"),d=r("./zlib/zstream"),h=Object.prototype.toString,m=0,v=-1,y=0,_=8;function b(E){if(!(this instanceof b))return new b(E);this.options=l.assign({level:v,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},E||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var I=s.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(I!==m)throw new Error(p[I]);if(T.header&&s.deflateSetHeader(this.strm,T.header),T.dictionary){var N;if(N=typeof T.dictionary=="string"?u.string2buf(T.dictionary):h.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(I=s.deflateSetDictionary(this.strm,N))!==m)throw new Error(p[I]);this._dict_set=!0}}function k(E,T){var I=new b(T);if(I.push(E,!0),I.err)throw I.msg||p[I.err];return I.result}b.prototype.push=function(E,T){var I,N,M=this.strm,U=this.options.chunkSize;if(this.ended)return!1;N=T===~~T?T:T===!0?4:0,typeof E=="string"?M.input=u.string2buf(E):h.call(E)==="[object ArrayBuffer]"?M.input=new Uint8Array(E):M.input=E,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new l.Buf8(U),M.next_out=0,M.avail_out=U),(I=s.deflate(M,N))!==1&&I!==m)return this.onEnd(I),!(this.ended=!0);M.avail_out!==0&&(M.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(l.shrinkBuf(M.output,M.next_out))):this.onData(l.shrinkBuf(M.output,M.next_out)))}while((0<M.avail_in||M.avail_out===0)&&I!==1);return N===4?(I=s.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===m):N!==2||(this.onEnd(m),!(M.avail_out=0))},b.prototype.onData=function(E){this.chunks.push(E)},b.prototype.onEnd=function(E){E===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},o.Deflate=b,o.deflate=k,o.deflateRaw=function(E,T){return(T=T||{}).raw=!0,k(E,T)},o.gzip=function(E,T){return(T=T||{}).gzip=!0,k(E,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,a,o){var s=r("./zlib/inflate"),l=r("./utils/common"),u=r("./utils/strings"),p=r("./zlib/constants"),d=r("./zlib/messages"),h=r("./zlib/zstream"),m=r("./zlib/gzheader"),v=Object.prototype.toString;function y(b){if(!(this instanceof y))return new y(b);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},b||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||b&&b.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var E=s.inflateInit2(this.strm,k.windowBits);if(E!==p.Z_OK)throw new Error(d[E]);this.header=new m,s.inflateGetHeader(this.strm,this.header)}function _(b,k){var E=new y(k);if(E.push(b,!0),E.err)throw E.msg||d[E.err];return E.result}y.prototype.push=function(b,k){var E,T,I,N,M,U,B=this.strm,J=this.options.chunkSize,Y=this.options.dictionary,q=!1;if(this.ended)return!1;T=k===~~k?k:k===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof b=="string"?B.input=u.binstring2buf(b):v.call(b)==="[object ArrayBuffer]"?B.input=new Uint8Array(b):B.input=b,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new l.Buf8(J),B.next_out=0,B.avail_out=J),(E=s.inflate(B,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&Y&&(U=typeof Y=="string"?u.string2buf(Y):v.call(Y)==="[object ArrayBuffer]"?new Uint8Array(Y):Y,E=s.inflateSetDictionary(this.strm,U)),E===p.Z_BUF_ERROR&&q===!0&&(E=p.Z_OK,q=!1),E!==p.Z_STREAM_END&&E!==p.Z_OK)return this.onEnd(E),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&E!==p.Z_STREAM_END&&(B.avail_in!==0||T!==p.Z_FINISH&&T!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=u.utf8border(B.output,B.next_out),N=B.next_out-I,M=u.buf2string(B.output,I),B.next_out=N,B.avail_out=J-N,N&&l.arraySet(B.output,B.output,I,N,0),this.onData(M)):this.onData(l.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(q=!0)}while((0<B.avail_in||B.avail_out===0)&&E!==p.Z_STREAM_END);return E===p.Z_STREAM_END&&(T=p.Z_FINISH),T===p.Z_FINISH?(E=s.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===p.Z_OK):T!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(B.avail_out=0))},y.prototype.onData=function(b){this.chunks.push(b)},y.prototype.onEnd=function(b){b===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},o.Inflate=y,o.inflate=_,o.inflateRaw=function(b,k){return(k=k||{}).raw=!0,_(b,k)},o.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,a,o){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(p){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var h=d.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])}}return p},o.shrinkBuf=function(p,d){return p.length===d?p:p.subarray?p.subarray(0,d):(p.length=d,p)};var l={arraySet:function(p,d,h,m,v){if(d.subarray&&p.subarray)p.set(d.subarray(h,h+m),v);else for(var y=0;y<m;y++)p[v+y]=d[h+y]},flattenChunks:function(p){var d,h,m,v,y,_;for(d=m=0,h=p.length;d<h;d++)m+=p[d].length;for(_=new Uint8Array(m),d=v=0,h=p.length;d<h;d++)y=p[d],_.set(y,v),v+=y.length;return _}},u={arraySet:function(p,d,h,m,v){for(var y=0;y<m;y++)p[v+y]=d[h+y]},flattenChunks:function(p){return[].concat.apply([],p)}};o.setTyped=function(p){p?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,l)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,u))},o.setTyped(s)},{}],42:[function(r,a,o){var s=r("./common"),l=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var p=new s.Buf8(256),d=0;d<256;d++)p[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function h(m,v){if(v<65537&&(m.subarray&&u||!m.subarray&&l))return String.fromCharCode.apply(null,s.shrinkBuf(m,v));for(var y="",_=0;_<v;_++)y+=String.fromCharCode(m[_]);return y}p[254]=p[254]=1,o.string2buf=function(m){var v,y,_,b,k,E=m.length,T=0;for(b=0;b<E;b++)(64512&(y=m.charCodeAt(b)))==55296&&b+1<E&&(64512&(_=m.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),b++),T+=y<128?1:y<2048?2:y<65536?3:4;for(v=new s.Buf8(T),b=k=0;k<T;b++)(64512&(y=m.charCodeAt(b)))==55296&&b+1<E&&(64512&(_=m.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),b++),y<128?v[k++]=y:(y<2048?v[k++]=192|y>>>6:(y<65536?v[k++]=224|y>>>12:(v[k++]=240|y>>>18,v[k++]=128|y>>>12&63),v[k++]=128|y>>>6&63),v[k++]=128|63&y);return v},o.buf2binstring=function(m){return h(m,m.length)},o.binstring2buf=function(m){for(var v=new s.Buf8(m.length),y=0,_=v.length;y<_;y++)v[y]=m.charCodeAt(y);return v},o.buf2string=function(m,v){var y,_,b,k,E=v||m.length,T=new Array(2*E);for(y=_=0;y<E;)if((b=m[y++])<128)T[_++]=b;else if(4<(k=p[b]))T[_++]=65533,y+=k-1;else{for(b&=k===2?31:k===3?15:7;1<k&&y<E;)b=b<<6|63&m[y++],k--;1<k?T[_++]=65533:b<65536?T[_++]=b:(b-=65536,T[_++]=55296|b>>10&1023,T[_++]=56320|1023&b)}return h(T,_)},o.utf8border=function(m,v){var y;for((v=v||m.length)>m.length&&(v=m.length),y=v-1;0<=y&&(192&m[y])==128;)y--;return y<0||y===0?v:y+p[m[y]]>v?y:v}},{"./common":41}],43:[function(r,a,o){a.exports=function(s,l,u,p){for(var d=65535&s|0,h=s>>>16&65535|0,m=0;u!==0;){for(u-=m=2e3<u?2e3:u;h=h+(d=d+l[p++]|0)|0,--m;);d%=65521,h%=65521}return d|h<<16|0}},{}],44:[function(r,a,o){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,a,o){var s=function(){for(var l,u=[],p=0;p<256;p++){l=p;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;u[p]=l}return u}();a.exports=function(l,u,p,d){var h=s,m=d+p;l^=-1;for(var v=d;v<m;v++)l=l>>>8^h[255&(l^u[v])];return-1^l}},{}],46:[function(r,a,o){var s,l=r("../utils/common"),u=r("./trees"),p=r("./adler32"),d=r("./crc32"),h=r("./messages"),m=0,v=4,y=0,_=-2,b=-1,k=4,E=2,T=8,I=9,N=286,M=30,U=19,B=2*N+1,J=15,Y=3,q=258,pe=q+Y+1,O=42,K=113,w=1,L=2,Ae=3,de=4;function fe(S,he){return S.msg=h[he],he}function $(S){return(S<<1)-(4<S?9:0)}function Re(S){for(var he=S.length;0<=--he;)S[he]=0}function se(S){var he=S.state,G=he.pending;G>S.avail_out&&(G=S.avail_out),G!==0&&(l.arraySet(S.output,he.pending_buf,he.pending_out,G,S.next_out),S.next_out+=G,he.pending_out+=G,S.total_out+=G,S.avail_out-=G,he.pending-=G,he.pending===0&&(he.pending_out=0))}function R(S,he){u._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,he),S.block_start=S.strstart,se(S.strm)}function Ne(S,he){S.pending_buf[S.pending++]=he}function Q(S,he){S.pending_buf[S.pending++]=he>>>8&255,S.pending_buf[S.pending++]=255&he}function W(S,he){var G,D,C=S.max_chain_length,ne=S.strstart,_e=S.prev_length,Ce=S.nice_match,ie=S.strstart>S.w_size-pe?S.strstart-(S.w_size-pe):0,le=S.window,ve=S.w_mask,Z=S.prev,X=S.strstart+q,xe=le[ne+_e-1],Pe=le[ne+_e];S.prev_length>=S.good_match&&(C>>=2),Ce>S.lookahead&&(Ce=S.lookahead);do if(le[(G=he)+_e]===Pe&&le[G+_e-1]===xe&&le[G]===le[ne]&&le[++G]===le[ne+1]){ne+=2,G++;do;while(le[++ne]===le[++G]&&le[++ne]===le[++G]&&le[++ne]===le[++G]&&le[++ne]===le[++G]&&le[++ne]===le[++G]&&le[++ne]===le[++G]&&le[++ne]===le[++G]&&le[++ne]===le[++G]&&ne<X);if(D=q-(X-ne),ne=X-q,_e<D){if(S.match_start=he,Ce<=(_e=D))break;xe=le[ne+_e-1],Pe=le[ne+_e]}}while((he=Z[he&ve])>ie&&--C!=0);return _e<=S.lookahead?_e:S.lookahead}function we(S){var he,G,D,C,ne,_e,Ce,ie,le,ve,Z=S.w_size;do{if(C=S.window_size-S.lookahead-S.strstart,S.strstart>=Z+(Z-pe)){for(l.arraySet(S.window,S.window,Z,Z,0),S.match_start-=Z,S.strstart-=Z,S.block_start-=Z,he=G=S.hash_size;D=S.head[--he],S.head[he]=Z<=D?D-Z:0,--G;);for(he=G=Z;D=S.prev[--he],S.prev[he]=Z<=D?D-Z:0,--G;);C+=Z}if(S.strm.avail_in===0)break;if(_e=S.strm,Ce=S.window,ie=S.strstart+S.lookahead,le=C,ve=void 0,ve=_e.avail_in,le<ve&&(ve=le),G=ve===0?0:(_e.avail_in-=ve,l.arraySet(Ce,_e.input,_e.next_in,ve,ie),_e.state.wrap===1?_e.adler=p(_e.adler,Ce,ve,ie):_e.state.wrap===2&&(_e.adler=d(_e.adler,Ce,ve,ie)),_e.next_in+=ve,_e.total_in+=ve,ve),S.lookahead+=G,S.lookahead+S.insert>=Y)for(ne=S.strstart-S.insert,S.ins_h=S.window[ne],S.ins_h=(S.ins_h<<S.hash_shift^S.window[ne+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[ne+Y-1])&S.hash_mask,S.prev[ne&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=ne,ne++,S.insert--,!(S.lookahead+S.insert<Y)););}while(S.lookahead<pe&&S.strm.avail_in!==0)}function Se(S,he){for(var G,D;;){if(S.lookahead<pe){if(we(S),S.lookahead<pe&&he===m)return w;if(S.lookahead===0)break}if(G=0,S.lookahead>=Y&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+Y-1])&S.hash_mask,G=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),G!==0&&S.strstart-G<=S.w_size-pe&&(S.match_length=W(S,G)),S.match_length>=Y)if(D=u._tr_tally(S,S.strstart-S.match_start,S.match_length-Y),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=Y){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+Y-1])&S.hash_mask,G=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else D=u._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if(D&&(R(S,!1),S.strm.avail_out===0))return w}return S.insert=S.strstart<Y-1?S.strstart:Y-1,he===v?(R(S,!0),S.strm.avail_out===0?Ae:de):S.last_lit&&(R(S,!1),S.strm.avail_out===0)?w:L}function ce(S,he){for(var G,D,C;;){if(S.lookahead<pe){if(we(S),S.lookahead<pe&&he===m)return w;if(S.lookahead===0)break}if(G=0,S.lookahead>=Y&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+Y-1])&S.hash_mask,G=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=Y-1,G!==0&&S.prev_length<S.max_lazy_match&&S.strstart-G<=S.w_size-pe&&(S.match_length=W(S,G),S.match_length<=5&&(S.strategy===1||S.match_length===Y&&4096<S.strstart-S.match_start)&&(S.match_length=Y-1)),S.prev_length>=Y&&S.match_length<=S.prev_length){for(C=S.strstart+S.lookahead-Y,D=u._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-Y),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=C&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+Y-1])&S.hash_mask,G=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=Y-1,S.strstart++,D&&(R(S,!1),S.strm.avail_out===0))return w}else if(S.match_available){if((D=u._tr_tally(S,0,S.window[S.strstart-1]))&&R(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return w}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&(D=u._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<Y-1?S.strstart:Y-1,he===v?(R(S,!0),S.strm.avail_out===0?Ae:de):S.last_lit&&(R(S,!1),S.strm.avail_out===0)?w:L}function je(S,he,G,D,C){this.good_length=S,this.max_lazy=he,this.nice_length=G,this.max_chain=D,this.func=C}function me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*B),this.dyn_dtree=new l.Buf16(2*(2*M+1)),this.bl_tree=new l.Buf16(2*(2*U+1)),Re(this.dyn_ltree),Re(this.dyn_dtree),Re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(J+1),this.heap=new l.Buf16(2*N+1),Re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*N+1),Re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Te(S){var he;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=E,(he=S.state).pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?O:K,S.adler=he.wrap===2?0:1,he.last_flush=m,u._tr_init(he),y):fe(S,_)}function qe(S){var he=Te(S);return he===y&&function(G){G.window_size=2*G.w_size,Re(G.head),G.max_lazy_match=s[G.level].max_lazy,G.good_match=s[G.level].good_length,G.nice_match=s[G.level].nice_length,G.max_chain_length=s[G.level].max_chain,G.strstart=0,G.block_start=0,G.lookahead=0,G.insert=0,G.match_length=G.prev_length=Y-1,G.match_available=0,G.ins_h=0}(S.state),he}function Ye(S,he,G,D,C,ne){if(!S)return _;var _e=1;if(he===b&&(he=6),D<0?(_e=0,D=-D):15<D&&(_e=2,D-=16),C<1||I<C||G!==T||D<8||15<D||he<0||9<he||ne<0||k<ne)return fe(S,_);D===8&&(D=9);var Ce=new me;return(S.state=Ce).strm=S,Ce.wrap=_e,Ce.gzhead=null,Ce.w_bits=D,Ce.w_size=1<<Ce.w_bits,Ce.w_mask=Ce.w_size-1,Ce.hash_bits=C+7,Ce.hash_size=1<<Ce.hash_bits,Ce.hash_mask=Ce.hash_size-1,Ce.hash_shift=~~((Ce.hash_bits+Y-1)/Y),Ce.window=new l.Buf8(2*Ce.w_size),Ce.head=new l.Buf16(Ce.hash_size),Ce.prev=new l.Buf16(Ce.w_size),Ce.lit_bufsize=1<<C+6,Ce.pending_buf_size=4*Ce.lit_bufsize,Ce.pending_buf=new l.Buf8(Ce.pending_buf_size),Ce.d_buf=1*Ce.lit_bufsize,Ce.l_buf=3*Ce.lit_bufsize,Ce.level=he,Ce.strategy=ne,Ce.method=G,qe(S)}s=[new je(0,0,0,0,function(S,he){var G=65535;for(G>S.pending_buf_size-5&&(G=S.pending_buf_size-5);;){if(S.lookahead<=1){if(we(S),S.lookahead===0&&he===m)return w;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var D=S.block_start+G;if((S.strstart===0||S.strstart>=D)&&(S.lookahead=S.strstart-D,S.strstart=D,R(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-pe&&(R(S,!1),S.strm.avail_out===0))return w}return S.insert=0,he===v?(R(S,!0),S.strm.avail_out===0?Ae:de):(S.strstart>S.block_start&&(R(S,!1),S.strm.avail_out),w)}),new je(4,4,8,4,Se),new je(4,5,16,8,Se),new je(4,6,32,32,Se),new je(4,4,16,16,ce),new je(8,16,32,32,ce),new je(8,16,128,128,ce),new je(8,32,128,256,ce),new je(32,128,258,1024,ce),new je(32,258,258,4096,ce)],o.deflateInit=function(S,he){return Ye(S,he,T,15,8,0)},o.deflateInit2=Ye,o.deflateReset=qe,o.deflateResetKeep=Te,o.deflateSetHeader=function(S,he){return S&&S.state?S.state.wrap!==2?_:(S.state.gzhead=he,y):_},o.deflate=function(S,he){var G,D,C,ne;if(!S||!S.state||5<he||he<0)return S?fe(S,_):_;if(D=S.state,!S.output||!S.input&&S.avail_in!==0||D.status===666&&he!==v)return fe(S,S.avail_out===0?-5:_);if(D.strm=S,G=D.last_flush,D.last_flush=he,D.status===O)if(D.wrap===2)S.adler=0,Ne(D,31),Ne(D,139),Ne(D,8),D.gzhead?(Ne(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),Ne(D,255&D.gzhead.time),Ne(D,D.gzhead.time>>8&255),Ne(D,D.gzhead.time>>16&255),Ne(D,D.gzhead.time>>24&255),Ne(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),Ne(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(Ne(D,255&D.gzhead.extra.length),Ne(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(S.adler=d(S.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(Ne(D,0),Ne(D,0),Ne(D,0),Ne(D,0),Ne(D,0),Ne(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),Ne(D,3),D.status=K);else{var _e=T+(D.w_bits-8<<4)<<8;_e|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(_e|=32),_e+=31-_e%31,D.status=K,Q(D,_e),D.strstart!==0&&(Q(D,S.adler>>>16),Q(D,65535&S.adler)),S.adler=1}if(D.status===69)if(D.gzhead.extra){for(C=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>C&&(S.adler=d(S.adler,D.pending_buf,D.pending-C,C)),se(S),C=D.pending,D.pending!==D.pending_buf_size));)Ne(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>C&&(S.adler=d(S.adler,D.pending_buf,D.pending-C,C)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){C=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>C&&(S.adler=d(S.adler,D.pending_buf,D.pending-C,C)),se(S),C=D.pending,D.pending===D.pending_buf_size)){ne=1;break}ne=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,Ne(D,ne)}while(ne!==0);D.gzhead.hcrc&&D.pending>C&&(S.adler=d(S.adler,D.pending_buf,D.pending-C,C)),ne===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){C=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>C&&(S.adler=d(S.adler,D.pending_buf,D.pending-C,C)),se(S),C=D.pending,D.pending===D.pending_buf_size)){ne=1;break}ne=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,Ne(D,ne)}while(ne!==0);D.gzhead.hcrc&&D.pending>C&&(S.adler=d(S.adler,D.pending_buf,D.pending-C,C)),ne===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&se(S),D.pending+2<=D.pending_buf_size&&(Ne(D,255&S.adler),Ne(D,S.adler>>8&255),S.adler=0,D.status=K)):D.status=K),D.pending!==0){if(se(S),S.avail_out===0)return D.last_flush=-1,y}else if(S.avail_in===0&&$(he)<=$(G)&&he!==v)return fe(S,-5);if(D.status===666&&S.avail_in!==0)return fe(S,-5);if(S.avail_in!==0||D.lookahead!==0||he!==m&&D.status!==666){var Ce=D.strategy===2?function(ie,le){for(var ve;;){if(ie.lookahead===0&&(we(ie),ie.lookahead===0)){if(le===m)return w;break}if(ie.match_length=0,ve=u._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,ve&&(R(ie,!1),ie.strm.avail_out===0))return w}return ie.insert=0,le===v?(R(ie,!0),ie.strm.avail_out===0?Ae:de):ie.last_lit&&(R(ie,!1),ie.strm.avail_out===0)?w:L}(D,he):D.strategy===3?function(ie,le){for(var ve,Z,X,xe,Pe=ie.window;;){if(ie.lookahead<=q){if(we(ie),ie.lookahead<=q&&le===m)return w;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=Y&&0<ie.strstart&&(Z=Pe[X=ie.strstart-1])===Pe[++X]&&Z===Pe[++X]&&Z===Pe[++X]){xe=ie.strstart+q;do;while(Z===Pe[++X]&&Z===Pe[++X]&&Z===Pe[++X]&&Z===Pe[++X]&&Z===Pe[++X]&&Z===Pe[++X]&&Z===Pe[++X]&&Z===Pe[++X]&&X<xe);ie.match_length=q-(xe-X),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=Y?(ve=u._tr_tally(ie,1,ie.match_length-Y),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(ve=u._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),ve&&(R(ie,!1),ie.strm.avail_out===0))return w}return ie.insert=0,le===v?(R(ie,!0),ie.strm.avail_out===0?Ae:de):ie.last_lit&&(R(ie,!1),ie.strm.avail_out===0)?w:L}(D,he):s[D.level].func(D,he);if(Ce!==Ae&&Ce!==de||(D.status=666),Ce===w||Ce===Ae)return S.avail_out===0&&(D.last_flush=-1),y;if(Ce===L&&(he===1?u._tr_align(D):he!==5&&(u._tr_stored_block(D,0,0,!1),he===3&&(Re(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),se(S),S.avail_out===0))return D.last_flush=-1,y}return he!==v?y:D.wrap<=0?1:(D.wrap===2?(Ne(D,255&S.adler),Ne(D,S.adler>>8&255),Ne(D,S.adler>>16&255),Ne(D,S.adler>>24&255),Ne(D,255&S.total_in),Ne(D,S.total_in>>8&255),Ne(D,S.total_in>>16&255),Ne(D,S.total_in>>24&255)):(Q(D,S.adler>>>16),Q(D,65535&S.adler)),se(S),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?y:1)},o.deflateEnd=function(S){var he;return S&&S.state?(he=S.state.status)!==O&&he!==69&&he!==73&&he!==91&&he!==103&&he!==K&&he!==666?fe(S,_):(S.state=null,he===K?fe(S,-3):y):_},o.deflateSetDictionary=function(S,he){var G,D,C,ne,_e,Ce,ie,le,ve=he.length;if(!S||!S.state||(ne=(G=S.state).wrap)===2||ne===1&&G.status!==O||G.lookahead)return _;for(ne===1&&(S.adler=p(S.adler,he,ve,0)),G.wrap=0,ve>=G.w_size&&(ne===0&&(Re(G.head),G.strstart=0,G.block_start=0,G.insert=0),le=new l.Buf8(G.w_size),l.arraySet(le,he,ve-G.w_size,G.w_size,0),he=le,ve=G.w_size),_e=S.avail_in,Ce=S.next_in,ie=S.input,S.avail_in=ve,S.next_in=0,S.input=he,we(G);G.lookahead>=Y;){for(D=G.strstart,C=G.lookahead-(Y-1);G.ins_h=(G.ins_h<<G.hash_shift^G.window[D+Y-1])&G.hash_mask,G.prev[D&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=D,D++,--C;);G.strstart=D,G.lookahead=Y-1,we(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=Y-1,G.match_available=0,S.next_in=Ce,S.input=ie,S.avail_in=_e,G.wrap=ne,y},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,a,o){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,a,o){a.exports=function(s,l){var u,p,d,h,m,v,y,_,b,k,E,T,I,N,M,U,B,J,Y,q,pe,O,K,w,L;u=s.state,p=s.next_in,w=s.input,d=p+(s.avail_in-5),h=s.next_out,L=s.output,m=h-(l-s.avail_out),v=h+(s.avail_out-257),y=u.dmax,_=u.wsize,b=u.whave,k=u.wnext,E=u.window,T=u.hold,I=u.bits,N=u.lencode,M=u.distcode,U=(1<<u.lenbits)-1,B=(1<<u.distbits)-1;e:do{I<15&&(T+=w[p++]<<I,I+=8,T+=w[p++]<<I,I+=8),J=N[T&U];t:for(;;){if(T>>>=Y=J>>>24,I-=Y,(Y=J>>>16&255)===0)L[h++]=65535&J;else{if(!(16&Y)){if(!(64&Y)){J=N[(65535&J)+(T&(1<<Y)-1)];continue t}if(32&Y){u.mode=12;break e}s.msg="invalid literal/length code",u.mode=30;break e}q=65535&J,(Y&=15)&&(I<Y&&(T+=w[p++]<<I,I+=8),q+=T&(1<<Y)-1,T>>>=Y,I-=Y),I<15&&(T+=w[p++]<<I,I+=8,T+=w[p++]<<I,I+=8),J=M[T&B];n:for(;;){if(T>>>=Y=J>>>24,I-=Y,!(16&(Y=J>>>16&255))){if(!(64&Y)){J=M[(65535&J)+(T&(1<<Y)-1)];continue n}s.msg="invalid distance code",u.mode=30;break e}if(pe=65535&J,I<(Y&=15)&&(T+=w[p++]<<I,(I+=8)<Y&&(T+=w[p++]<<I,I+=8)),y<(pe+=T&(1<<Y)-1)){s.msg="invalid distance too far back",u.mode=30;break e}if(T>>>=Y,I-=Y,(Y=h-m)<pe){if(b<(Y=pe-Y)&&u.sane){s.msg="invalid distance too far back",u.mode=30;break e}if(K=E,(O=0)===k){if(O+=_-Y,Y<q){for(q-=Y;L[h++]=E[O++],--Y;);O=h-pe,K=L}}else if(k<Y){if(O+=_+k-Y,(Y-=k)<q){for(q-=Y;L[h++]=E[O++],--Y;);if(O=0,k<q){for(q-=Y=k;L[h++]=E[O++],--Y;);O=h-pe,K=L}}}else if(O+=k-Y,Y<q){for(q-=Y;L[h++]=E[O++],--Y;);O=h-pe,K=L}for(;2<q;)L[h++]=K[O++],L[h++]=K[O++],L[h++]=K[O++],q-=3;q&&(L[h++]=K[O++],1<q&&(L[h++]=K[O++]))}else{for(O=h-pe;L[h++]=L[O++],L[h++]=L[O++],L[h++]=L[O++],2<(q-=3););q&&(L[h++]=L[O++],1<q&&(L[h++]=L[O++]))}break}}break}}while(p<d&&h<v);p-=q=I>>3,T&=(1<<(I-=q<<3))-1,s.next_in=p,s.next_out=h,s.avail_in=p<d?d-p+5:5-(p-d),s.avail_out=h<v?v-h+257:257-(h-v),u.hold=T,u.bits=I}},{}],49:[function(r,a,o){var s=r("../utils/common"),l=r("./adler32"),u=r("./crc32"),p=r("./inffast"),d=r("./inftrees"),h=1,m=2,v=0,y=-2,_=1,b=852,k=592;function E(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(O){var K;return O&&O.state?(K=O.state,O.total_in=O.total_out=K.total=0,O.msg="",K.wrap&&(O.adler=1&K.wrap),K.mode=_,K.last=0,K.havedict=0,K.dmax=32768,K.head=null,K.hold=0,K.bits=0,K.lencode=K.lendyn=new s.Buf32(b),K.distcode=K.distdyn=new s.Buf32(k),K.sane=1,K.back=-1,v):y}function N(O){var K;return O&&O.state?((K=O.state).wsize=0,K.whave=0,K.wnext=0,I(O)):y}function M(O,K){var w,L;return O&&O.state?(L=O.state,K<0?(w=0,K=-K):(w=1+(K>>4),K<48&&(K&=15)),K&&(K<8||15<K)?y:(L.window!==null&&L.wbits!==K&&(L.window=null),L.wrap=w,L.wbits=K,N(O))):y}function U(O,K){var w,L;return O?(L=new T,(O.state=L).window=null,(w=M(O,K))!==v&&(O.state=null),w):y}var B,J,Y=!0;function q(O){if(Y){var K;for(B=new s.Buf32(512),J=new s.Buf32(32),K=0;K<144;)O.lens[K++]=8;for(;K<256;)O.lens[K++]=9;for(;K<280;)O.lens[K++]=7;for(;K<288;)O.lens[K++]=8;for(d(h,O.lens,0,288,B,0,O.work,{bits:9}),K=0;K<32;)O.lens[K++]=5;d(m,O.lens,0,32,J,0,O.work,{bits:5}),Y=!1}O.lencode=B,O.lenbits=9,O.distcode=J,O.distbits=5}function pe(O,K,w,L){var Ae,de=O.state;return de.window===null&&(de.wsize=1<<de.wbits,de.wnext=0,de.whave=0,de.window=new s.Buf8(de.wsize)),L>=de.wsize?(s.arraySet(de.window,K,w-de.wsize,de.wsize,0),de.wnext=0,de.whave=de.wsize):(L<(Ae=de.wsize-de.wnext)&&(Ae=L),s.arraySet(de.window,K,w-L,Ae,de.wnext),(L-=Ae)?(s.arraySet(de.window,K,w-L,L,0),de.wnext=L,de.whave=de.wsize):(de.wnext+=Ae,de.wnext===de.wsize&&(de.wnext=0),de.whave<de.wsize&&(de.whave+=Ae))),0}o.inflateReset=N,o.inflateReset2=M,o.inflateResetKeep=I,o.inflateInit=function(O){return U(O,15)},o.inflateInit2=U,o.inflate=function(O,K){var w,L,Ae,de,fe,$,Re,se,R,Ne,Q,W,we,Se,ce,je,me,Te,qe,Ye,S,he,G,D,C=0,ne=new s.Buf8(4),_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return y;(w=O.state).mode===12&&(w.mode=13),fe=O.next_out,Ae=O.output,Re=O.avail_out,de=O.next_in,L=O.input,$=O.avail_in,se=w.hold,R=w.bits,Ne=$,Q=Re,he=v;e:for(;;)switch(w.mode){case _:if(w.wrap===0){w.mode=13;break}for(;R<16;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}if(2&w.wrap&&se===35615){ne[w.check=0]=255&se,ne[1]=se>>>8&255,w.check=u(w.check,ne,2,0),R=se=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&se)<<8)+(se>>8))%31){O.msg="incorrect header check",w.mode=30;break}if((15&se)!=8){O.msg="unknown compression method",w.mode=30;break}if(R-=4,S=8+(15&(se>>>=4)),w.wbits===0)w.wbits=S;else if(S>w.wbits){O.msg="invalid window size",w.mode=30;break}w.dmax=1<<S,O.adler=w.check=1,w.mode=512&se?10:12,R=se=0;break;case 2:for(;R<16;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}if(w.flags=se,(255&w.flags)!=8){O.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){O.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=se>>8&1),512&w.flags&&(ne[0]=255&se,ne[1]=se>>>8&255,w.check=u(w.check,ne,2,0)),R=se=0,w.mode=3;case 3:for(;R<32;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}w.head&&(w.head.time=se),512&w.flags&&(ne[0]=255&se,ne[1]=se>>>8&255,ne[2]=se>>>16&255,ne[3]=se>>>24&255,w.check=u(w.check,ne,4,0)),R=se=0,w.mode=4;case 4:for(;R<16;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}w.head&&(w.head.xflags=255&se,w.head.os=se>>8),512&w.flags&&(ne[0]=255&se,ne[1]=se>>>8&255,w.check=u(w.check,ne,2,0)),R=se=0,w.mode=5;case 5:if(1024&w.flags){for(;R<16;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}w.length=se,w.head&&(w.head.extra_len=se),512&w.flags&&(ne[0]=255&se,ne[1]=se>>>8&255,w.check=u(w.check,ne,2,0)),R=se=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&($<(W=w.length)&&(W=$),W&&(w.head&&(S=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),s.arraySet(w.head.extra,L,de,W,S)),512&w.flags&&(w.check=u(w.check,L,W,de)),$-=W,de+=W,w.length-=W),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if($===0)break e;for(W=0;S=L[de+W++],w.head&&S&&w.length<65536&&(w.head.name+=String.fromCharCode(S)),S&&W<$;);if(512&w.flags&&(w.check=u(w.check,L,W,de)),$-=W,de+=W,S)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if($===0)break e;for(W=0;S=L[de+W++],w.head&&S&&w.length<65536&&(w.head.comment+=String.fromCharCode(S)),S&&W<$;);if(512&w.flags&&(w.check=u(w.check,L,W,de)),$-=W,de+=W,S)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;R<16;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}if(se!==(65535&w.check)){O.msg="header crc mismatch",w.mode=30;break}R=se=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),O.adler=w.check=0,w.mode=12;break;case 10:for(;R<32;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}O.adler=w.check=E(se),R=se=0,w.mode=11;case 11:if(w.havedict===0)return O.next_out=fe,O.avail_out=Re,O.next_in=de,O.avail_in=$,w.hold=se,w.bits=R,2;O.adler=w.check=1,w.mode=12;case 12:if(K===5||K===6)break e;case 13:if(w.last){se>>>=7&R,R-=7&R,w.mode=27;break}for(;R<3;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}switch(w.last=1&se,R-=1,3&(se>>>=1)){case 0:w.mode=14;break;case 1:if(q(w),w.mode=20,K!==6)break;se>>>=2,R-=2;break e;case 2:w.mode=17;break;case 3:O.msg="invalid block type",w.mode=30}se>>>=2,R-=2;break;case 14:for(se>>>=7&R,R-=7&R;R<32;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}if((65535&se)!=(se>>>16^65535)){O.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&se,R=se=0,w.mode=15,K===6)break e;case 15:w.mode=16;case 16:if(W=w.length){if($<W&&(W=$),Re<W&&(W=Re),W===0)break e;s.arraySet(Ae,L,de,W,fe),$-=W,de+=W,Re-=W,fe+=W,w.length-=W;break}w.mode=12;break;case 17:for(;R<14;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}if(w.nlen=257+(31&se),se>>>=5,R-=5,w.ndist=1+(31&se),se>>>=5,R-=5,w.ncode=4+(15&se),se>>>=4,R-=4,286<w.nlen||30<w.ndist){O.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;R<3;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}w.lens[_e[w.have++]]=7&se,se>>>=3,R-=3}for(;w.have<19;)w.lens[_e[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,G={bits:w.lenbits},he=d(0,w.lens,0,19,w.lencode,0,w.work,G),w.lenbits=G.bits,he){O.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;je=(C=w.lencode[se&(1<<w.lenbits)-1])>>>16&255,me=65535&C,!((ce=C>>>24)<=R);){if($===0)break e;$--,se+=L[de++]<<R,R+=8}if(me<16)se>>>=ce,R-=ce,w.lens[w.have++]=me;else{if(me===16){for(D=ce+2;R<D;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}if(se>>>=ce,R-=ce,w.have===0){O.msg="invalid bit length repeat",w.mode=30;break}S=w.lens[w.have-1],W=3+(3&se),se>>>=2,R-=2}else if(me===17){for(D=ce+3;R<D;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}R-=ce,S=0,W=3+(7&(se>>>=ce)),se>>>=3,R-=3}else{for(D=ce+7;R<D;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}R-=ce,S=0,W=11+(127&(se>>>=ce)),se>>>=7,R-=7}if(w.have+W>w.nlen+w.ndist){O.msg="invalid bit length repeat",w.mode=30;break}for(;W--;)w.lens[w.have++]=S}}if(w.mode===30)break;if(w.lens[256]===0){O.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,G={bits:w.lenbits},he=d(h,w.lens,0,w.nlen,w.lencode,0,w.work,G),w.lenbits=G.bits,he){O.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,G={bits:w.distbits},he=d(m,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,G),w.distbits=G.bits,he){O.msg="invalid distances set",w.mode=30;break}if(w.mode=20,K===6)break e;case 20:w.mode=21;case 21:if(6<=$&&258<=Re){O.next_out=fe,O.avail_out=Re,O.next_in=de,O.avail_in=$,w.hold=se,w.bits=R,p(O,Q),fe=O.next_out,Ae=O.output,Re=O.avail_out,de=O.next_in,L=O.input,$=O.avail_in,se=w.hold,R=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;je=(C=w.lencode[se&(1<<w.lenbits)-1])>>>16&255,me=65535&C,!((ce=C>>>24)<=R);){if($===0)break e;$--,se+=L[de++]<<R,R+=8}if(je&&!(240&je)){for(Te=ce,qe=je,Ye=me;je=(C=w.lencode[Ye+((se&(1<<Te+qe)-1)>>Te)])>>>16&255,me=65535&C,!(Te+(ce=C>>>24)<=R);){if($===0)break e;$--,se+=L[de++]<<R,R+=8}se>>>=Te,R-=Te,w.back+=Te}if(se>>>=ce,R-=ce,w.back+=ce,w.length=me,je===0){w.mode=26;break}if(32&je){w.back=-1,w.mode=12;break}if(64&je){O.msg="invalid literal/length code",w.mode=30;break}w.extra=15&je,w.mode=22;case 22:if(w.extra){for(D=w.extra;R<D;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}w.length+=se&(1<<w.extra)-1,se>>>=w.extra,R-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;je=(C=w.distcode[se&(1<<w.distbits)-1])>>>16&255,me=65535&C,!((ce=C>>>24)<=R);){if($===0)break e;$--,se+=L[de++]<<R,R+=8}if(!(240&je)){for(Te=ce,qe=je,Ye=me;je=(C=w.distcode[Ye+((se&(1<<Te+qe)-1)>>Te)])>>>16&255,me=65535&C,!(Te+(ce=C>>>24)<=R);){if($===0)break e;$--,se+=L[de++]<<R,R+=8}se>>>=Te,R-=Te,w.back+=Te}if(se>>>=ce,R-=ce,w.back+=ce,64&je){O.msg="invalid distance code",w.mode=30;break}w.offset=me,w.extra=15&je,w.mode=24;case 24:if(w.extra){for(D=w.extra;R<D;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}w.offset+=se&(1<<w.extra)-1,se>>>=w.extra,R-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){O.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(Re===0)break e;if(W=Q-Re,w.offset>W){if((W=w.offset-W)>w.whave&&w.sane){O.msg="invalid distance too far back",w.mode=30;break}we=W>w.wnext?(W-=w.wnext,w.wsize-W):w.wnext-W,W>w.length&&(W=w.length),Se=w.window}else Se=Ae,we=fe-w.offset,W=w.length;for(Re<W&&(W=Re),Re-=W,w.length-=W;Ae[fe++]=Se[we++],--W;);w.length===0&&(w.mode=21);break;case 26:if(Re===0)break e;Ae[fe++]=w.length,Re--,w.mode=21;break;case 27:if(w.wrap){for(;R<32;){if($===0)break e;$--,se|=L[de++]<<R,R+=8}if(Q-=Re,O.total_out+=Q,w.total+=Q,Q&&(O.adler=w.check=w.flags?u(w.check,Ae,Q,fe-Q):l(w.check,Ae,Q,fe-Q)),Q=Re,(w.flags?se:E(se))!==w.check){O.msg="incorrect data check",w.mode=30;break}R=se=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;R<32;){if($===0)break e;$--,se+=L[de++]<<R,R+=8}if(se!==(4294967295&w.total)){O.msg="incorrect length check",w.mode=30;break}R=se=0}w.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;case 32:default:return y}return O.next_out=fe,O.avail_out=Re,O.next_in=de,O.avail_in=$,w.hold=se,w.bits=R,(w.wsize||Q!==O.avail_out&&w.mode<30&&(w.mode<27||K!==4))&&pe(O,O.output,O.next_out,Q-O.avail_out)?(w.mode=31,-4):(Ne-=O.avail_in,Q-=O.avail_out,O.total_in+=Ne,O.total_out+=Q,w.total+=Q,w.wrap&&Q&&(O.adler=w.check=w.flags?u(w.check,Ae,Q,O.next_out-Q):l(w.check,Ae,Q,O.next_out-Q)),O.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(Ne==0&&Q===0||K===4)&&he===v&&(he=-5),he)},o.inflateEnd=function(O){if(!O||!O.state)return y;var K=O.state;return K.window&&(K.window=null),O.state=null,v},o.inflateGetHeader=function(O,K){var w;return O&&O.state&&2&(w=O.state).wrap?((w.head=K).done=!1,v):y},o.inflateSetDictionary=function(O,K){var w,L=K.length;return O&&O.state?(w=O.state).wrap!==0&&w.mode!==11?y:w.mode===11&&l(1,K,L,0)!==w.check?-3:pe(O,K,L,L)?(w.mode=31,-4):(w.havedict=1,v):y},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,a,o){var s=r("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(h,m,v,y,_,b,k,E){var T,I,N,M,U,B,J,Y,q,pe=E.bits,O=0,K=0,w=0,L=0,Ae=0,de=0,fe=0,$=0,Re=0,se=0,R=null,Ne=0,Q=new s.Buf16(16),W=new s.Buf16(16),we=null,Se=0;for(O=0;O<=15;O++)Q[O]=0;for(K=0;K<y;K++)Q[m[v+K]]++;for(Ae=pe,L=15;1<=L&&Q[L]===0;L--);if(L<Ae&&(Ae=L),L===0)return _[b++]=20971520,_[b++]=20971520,E.bits=1,0;for(w=1;w<L&&Q[w]===0;w++);for(Ae<w&&(Ae=w),O=$=1;O<=15;O++)if($<<=1,($-=Q[O])<0)return-1;if(0<$&&(h===0||L!==1))return-1;for(W[1]=0,O=1;O<15;O++)W[O+1]=W[O]+Q[O];for(K=0;K<y;K++)m[v+K]!==0&&(k[W[m[v+K]]++]=K);if(B=h===0?(R=we=k,19):h===1?(R=l,Ne-=257,we=u,Se-=257,256):(R=p,we=d,-1),O=w,U=b,fe=K=se=0,N=-1,M=(Re=1<<(de=Ae))-1,h===1&&852<Re||h===2&&592<Re)return 1;for(;;){for(J=O-fe,q=k[K]<B?(Y=0,k[K]):k[K]>B?(Y=we[Se+k[K]],R[Ne+k[K]]):(Y=96,0),T=1<<O-fe,w=I=1<<de;_[U+(se>>fe)+(I-=T)]=J<<24|Y<<16|q|0,I!==0;);for(T=1<<O-1;se&T;)T>>=1;if(T!==0?(se&=T-1,se+=T):se=0,K++,--Q[O]==0){if(O===L)break;O=m[v+k[K]]}if(Ae<O&&(se&M)!==N){for(fe===0&&(fe=Ae),U+=w,$=1<<(de=O-fe);de+fe<L&&!(($-=Q[de+fe])<=0);)de++,$<<=1;if(Re+=1<<de,h===1&&852<Re||h===2&&592<Re)return 1;_[N=se&M]=Ae<<24|de<<16|U-b|0}}return se!==0&&(_[U+se]=O-fe<<24|64<<16|0),E.bits=Ae,0}},{"../utils/common":41}],51:[function(r,a,o){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,a,o){var s=r("../utils/common"),l=0,u=1;function p(C){for(var ne=C.length;0<=--ne;)C[ne]=0}var d=0,h=29,m=256,v=m+1+h,y=30,_=19,b=2*v+1,k=15,E=16,T=7,I=256,N=16,M=17,U=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],J=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=new Array(2*(v+2));p(pe);var O=new Array(2*y);p(O);var K=new Array(512);p(K);var w=new Array(256);p(w);var L=new Array(h);p(L);var Ae,de,fe,$=new Array(y);function Re(C,ne,_e,Ce,ie){this.static_tree=C,this.extra_bits=ne,this.extra_base=_e,this.elems=Ce,this.max_length=ie,this.has_stree=C&&C.length}function se(C,ne){this.dyn_tree=C,this.max_code=0,this.stat_desc=ne}function R(C){return C<256?K[C]:K[256+(C>>>7)]}function Ne(C,ne){C.pending_buf[C.pending++]=255&ne,C.pending_buf[C.pending++]=ne>>>8&255}function Q(C,ne,_e){C.bi_valid>E-_e?(C.bi_buf|=ne<<C.bi_valid&65535,Ne(C,C.bi_buf),C.bi_buf=ne>>E-C.bi_valid,C.bi_valid+=_e-E):(C.bi_buf|=ne<<C.bi_valid&65535,C.bi_valid+=_e)}function W(C,ne,_e){Q(C,_e[2*ne],_e[2*ne+1])}function we(C,ne){for(var _e=0;_e|=1&C,C>>>=1,_e<<=1,0<--ne;);return _e>>>1}function Se(C,ne,_e){var Ce,ie,le=new Array(k+1),ve=0;for(Ce=1;Ce<=k;Ce++)le[Ce]=ve=ve+_e[Ce-1]<<1;for(ie=0;ie<=ne;ie++){var Z=C[2*ie+1];Z!==0&&(C[2*ie]=we(le[Z]++,Z))}}function ce(C){var ne;for(ne=0;ne<v;ne++)C.dyn_ltree[2*ne]=0;for(ne=0;ne<y;ne++)C.dyn_dtree[2*ne]=0;for(ne=0;ne<_;ne++)C.bl_tree[2*ne]=0;C.dyn_ltree[2*I]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function je(C){8<C.bi_valid?Ne(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function me(C,ne,_e,Ce){var ie=2*ne,le=2*_e;return C[ie]<C[le]||C[ie]===C[le]&&Ce[ne]<=Ce[_e]}function Te(C,ne,_e){for(var Ce=C.heap[_e],ie=_e<<1;ie<=C.heap_len&&(ie<C.heap_len&&me(ne,C.heap[ie+1],C.heap[ie],C.depth)&&ie++,!me(ne,Ce,C.heap[ie],C.depth));)C.heap[_e]=C.heap[ie],_e=ie,ie<<=1;C.heap[_e]=Ce}function qe(C,ne,_e){var Ce,ie,le,ve,Z=0;if(C.last_lit!==0)for(;Ce=C.pending_buf[C.d_buf+2*Z]<<8|C.pending_buf[C.d_buf+2*Z+1],ie=C.pending_buf[C.l_buf+Z],Z++,Ce===0?W(C,ie,ne):(W(C,(le=w[ie])+m+1,ne),(ve=B[le])!==0&&Q(C,ie-=L[le],ve),W(C,le=R(--Ce),_e),(ve=J[le])!==0&&Q(C,Ce-=$[le],ve)),Z<C.last_lit;);W(C,I,ne)}function Ye(C,ne){var _e,Ce,ie,le=ne.dyn_tree,ve=ne.stat_desc.static_tree,Z=ne.stat_desc.has_stree,X=ne.stat_desc.elems,xe=-1;for(C.heap_len=0,C.heap_max=b,_e=0;_e<X;_e++)le[2*_e]!==0?(C.heap[++C.heap_len]=xe=_e,C.depth[_e]=0):le[2*_e+1]=0;for(;C.heap_len<2;)le[2*(ie=C.heap[++C.heap_len]=xe<2?++xe:0)]=1,C.depth[ie]=0,C.opt_len--,Z&&(C.static_len-=ve[2*ie+1]);for(ne.max_code=xe,_e=C.heap_len>>1;1<=_e;_e--)Te(C,le,_e);for(ie=X;_e=C.heap[1],C.heap[1]=C.heap[C.heap_len--],Te(C,le,1),Ce=C.heap[1],C.heap[--C.heap_max]=_e,C.heap[--C.heap_max]=Ce,le[2*ie]=le[2*_e]+le[2*Ce],C.depth[ie]=(C.depth[_e]>=C.depth[Ce]?C.depth[_e]:C.depth[Ce])+1,le[2*_e+1]=le[2*Ce+1]=ie,C.heap[1]=ie++,Te(C,le,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(Pe,We){var dt,Tt,_t,it,fn,wt,Ot=We.dyn_tree,ft=We.max_code,wr=We.stat_desc.static_tree,zn=We.stat_desc.has_stree,Zr=We.stat_desc.extra_bits,oa=We.stat_desc.extra_base,Hr=We.stat_desc.max_length,sa=0;for(it=0;it<=k;it++)Pe.bl_count[it]=0;for(Ot[2*Pe.heap[Pe.heap_max]+1]=0,dt=Pe.heap_max+1;dt<b;dt++)Hr<(it=Ot[2*Ot[2*(Tt=Pe.heap[dt])+1]+1]+1)&&(it=Hr,sa++),Ot[2*Tt+1]=it,ft<Tt||(Pe.bl_count[it]++,fn=0,oa<=Tt&&(fn=Zr[Tt-oa]),wt=Ot[2*Tt],Pe.opt_len+=wt*(it+fn),zn&&(Pe.static_len+=wt*(wr[2*Tt+1]+fn)));if(sa!==0){do{for(it=Hr-1;Pe.bl_count[it]===0;)it--;Pe.bl_count[it]--,Pe.bl_count[it+1]+=2,Pe.bl_count[Hr]--,sa-=2}while(0<sa);for(it=Hr;it!==0;it--)for(Tt=Pe.bl_count[it];Tt!==0;)ft<(_t=Pe.heap[--dt])||(Ot[2*_t+1]!==it&&(Pe.opt_len+=(it-Ot[2*_t+1])*Ot[2*_t],Ot[2*_t+1]=it),Tt--)}}(C,ne),Se(le,xe,C.bl_count)}function S(C,ne,_e){var Ce,ie,le=-1,ve=ne[1],Z=0,X=7,xe=4;for(ve===0&&(X=138,xe=3),ne[2*(_e+1)+1]=65535,Ce=0;Ce<=_e;Ce++)ie=ve,ve=ne[2*(Ce+1)+1],++Z<X&&ie===ve||(Z<xe?C.bl_tree[2*ie]+=Z:ie!==0?(ie!==le&&C.bl_tree[2*ie]++,C.bl_tree[2*N]++):Z<=10?C.bl_tree[2*M]++:C.bl_tree[2*U]++,le=ie,xe=(Z=0)===ve?(X=138,3):ie===ve?(X=6,3):(X=7,4))}function he(C,ne,_e){var Ce,ie,le=-1,ve=ne[1],Z=0,X=7,xe=4;for(ve===0&&(X=138,xe=3),Ce=0;Ce<=_e;Ce++)if(ie=ve,ve=ne[2*(Ce+1)+1],!(++Z<X&&ie===ve)){if(Z<xe)for(;W(C,ie,C.bl_tree),--Z!=0;);else ie!==0?(ie!==le&&(W(C,ie,C.bl_tree),Z--),W(C,N,C.bl_tree),Q(C,Z-3,2)):Z<=10?(W(C,M,C.bl_tree),Q(C,Z-3,3)):(W(C,U,C.bl_tree),Q(C,Z-11,7));le=ie,xe=(Z=0)===ve?(X=138,3):ie===ve?(X=6,3):(X=7,4)}}p($);var G=!1;function D(C,ne,_e,Ce){Q(C,(d<<1)+(Ce?1:0),3),function(ie,le,ve,Z){je(ie),Ne(ie,ve),Ne(ie,~ve),s.arraySet(ie.pending_buf,ie.window,le,ve,ie.pending),ie.pending+=ve}(C,ne,_e)}o._tr_init=function(C){G||(function(){var ne,_e,Ce,ie,le,ve=new Array(k+1);for(ie=Ce=0;ie<h-1;ie++)for(L[ie]=Ce,ne=0;ne<1<<B[ie];ne++)w[Ce++]=ie;for(w[Ce-1]=ie,ie=le=0;ie<16;ie++)for($[ie]=le,ne=0;ne<1<<J[ie];ne++)K[le++]=ie;for(le>>=7;ie<y;ie++)for($[ie]=le<<7,ne=0;ne<1<<J[ie]-7;ne++)K[256+le++]=ie;for(_e=0;_e<=k;_e++)ve[_e]=0;for(ne=0;ne<=143;)pe[2*ne+1]=8,ne++,ve[8]++;for(;ne<=255;)pe[2*ne+1]=9,ne++,ve[9]++;for(;ne<=279;)pe[2*ne+1]=7,ne++,ve[7]++;for(;ne<=287;)pe[2*ne+1]=8,ne++,ve[8]++;for(Se(pe,v+1,ve),ne=0;ne<y;ne++)O[2*ne+1]=5,O[2*ne]=we(ne,5);Ae=new Re(pe,B,m+1,v,k),de=new Re(O,J,0,y,k),fe=new Re(new Array(0),Y,0,_,T)}(),G=!0),C.l_desc=new se(C.dyn_ltree,Ae),C.d_desc=new se(C.dyn_dtree,de),C.bl_desc=new se(C.bl_tree,fe),C.bi_buf=0,C.bi_valid=0,ce(C)},o._tr_stored_block=D,o._tr_flush_block=function(C,ne,_e,Ce){var ie,le,ve=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=function(Z){var X,xe=4093624447;for(X=0;X<=31;X++,xe>>>=1)if(1&xe&&Z.dyn_ltree[2*X]!==0)return l;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return u;for(X=32;X<m;X++)if(Z.dyn_ltree[2*X]!==0)return u;return l}(C)),Ye(C,C.l_desc),Ye(C,C.d_desc),ve=function(Z){var X;for(S(Z,Z.dyn_ltree,Z.l_desc.max_code),S(Z,Z.dyn_dtree,Z.d_desc.max_code),Ye(Z,Z.bl_desc),X=_-1;3<=X&&Z.bl_tree[2*q[X]+1]===0;X--);return Z.opt_len+=3*(X+1)+5+5+4,X}(C),ie=C.opt_len+3+7>>>3,(le=C.static_len+3+7>>>3)<=ie&&(ie=le)):ie=le=_e+5,_e+4<=ie&&ne!==-1?D(C,ne,_e,Ce):C.strategy===4||le===ie?(Q(C,2+(Ce?1:0),3),qe(C,pe,O)):(Q(C,4+(Ce?1:0),3),function(Z,X,xe,Pe){var We;for(Q(Z,X-257,5),Q(Z,xe-1,5),Q(Z,Pe-4,4),We=0;We<Pe;We++)Q(Z,Z.bl_tree[2*q[We]+1],3);he(Z,Z.dyn_ltree,X-1),he(Z,Z.dyn_dtree,xe-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,ve+1),qe(C,C.dyn_ltree,C.dyn_dtree)),ce(C),Ce&&je(C)},o._tr_tally=function(C,ne,_e){return C.pending_buf[C.d_buf+2*C.last_lit]=ne>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&ne,C.pending_buf[C.l_buf+C.last_lit]=255&_e,C.last_lit++,ne===0?C.dyn_ltree[2*_e]++:(C.matches++,ne--,C.dyn_ltree[2*(w[_e]+m+1)]++,C.dyn_dtree[2*R(ne)]++),C.last_lit===C.lit_bufsize-1},o._tr_align=function(C){Q(C,2,3),W(C,I,pe),function(ne){ne.bi_valid===16?(Ne(ne,ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0):8<=ne.bi_valid&&(ne.pending_buf[ne.pending++]=255&ne.bi_buf,ne.bi_buf>>=8,ne.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(r,a,o){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,a,o){(function(s){(function(l,u){if(!l.setImmediate){var p,d,h,m,v=1,y={},_=!1,b=l.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(l);k=k&&k.setTimeout?k:l,p={}.toString.call(l.process)==="[object process]"?function(N){n.nextTick(function(){T(N)})}:function(){if(l.postMessage&&!l.importScripts){var N=!0,M=l.onmessage;return l.onmessage=function(){N=!1},l.postMessage("","*"),l.onmessage=M,N}}()?(m="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",I,!1):l.attachEvent("onmessage",I),function(N){l.postMessage(m+N,"*")}):l.MessageChannel?((h=new MessageChannel).port1.onmessage=function(N){T(N.data)},function(N){h.port2.postMessage(N)}):b&&"onreadystatechange"in b.createElement("script")?(d=b.documentElement,function(N){var M=b.createElement("script");M.onreadystatechange=function(){T(N),M.onreadystatechange=null,d.removeChild(M),M=null},d.appendChild(M)}):function(N){setTimeout(T,0,N)},k.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var M=new Array(arguments.length-1),U=0;U<M.length;U++)M[U]=arguments[U+1];var B={callback:N,args:M};return y[v]=B,p(v),v++},k.clearImmediate=E}function E(N){delete y[N]}function T(N){if(_)setTimeout(T,0,N);else{var M=y[N];if(M){_=!0;try{(function(U){var B=U.callback,J=U.args;switch(J.length){case 0:B();break;case 1:B(J[0]);break;case 2:B(J[0],J[1]);break;case 3:B(J[0],J[1],J[2]);break;default:B.apply(u,J)}})(M)}finally{E(N),_=!1}}}}function I(N){N.source===l&&typeof N.data=="string"&&N.data.indexOf(m)===0&&T(+N.data.slice(m.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Qn<"u"?Qn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ew);var m9=ew.exports;const g9=wn(m9),y9=new Proxy({},{get(e,t){throw new Error(`Module "util" has been externalized for browser compatibility. Cannot access "util.${t}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),v9=Object.freeze(Object.defineProperty({__proto__:null,default:y9},Symbol.toStringTag,{value:"Module"})),tw=tb(v9);var Gl={};(function(e){e.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1,e.find=(t,n)=>t.nodes.find(r=>r.type===n),e.exceedsLimit=(t,n,r=1,a)=>a===!1||!e.isInteger(t)||!e.isInteger(n)?!1:(Number(n)-Number(t))/Number(r)>=a,e.escapeNode=(t,n=0,r)=>{const a=t.nodes[n];a&&(r&&a.type===r||a.type==="open"||a.type==="close")&&a.escaped!==!0&&(a.value="\\"+a.value,a.escaped=!0)},e.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0),e.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1,e.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0,e.reduce=t=>t.reduce((n,r)=>(r.type==="text"&&n.push(r.value),r.type==="range"&&(r.type="text"),n),[]),e.flatten=(...t)=>{const n=[],r=a=>{for(let o=0;o<a.length;o++){const s=a[o];if(Array.isArray(s)){r(s);continue}s!==void 0&&n.push(s)}return n};return r(t),n}})(Gl);const Fy=Gl;var Gd=(e,t={})=>{const n=(r,a={})=>{const o=t.escapeInvalid&&Fy.isInvalidBrace(a),s=r.invalid===!0&&t.escapeInvalid===!0;let l="";if(r.value)return(o||s)&&Fy.isOpenOrClose(r)?"\\"+r.value:r.value;if(r.value)return r.value;if(r.nodes)for(const u of r.nodes)l+=n(u);return l};return n(e)};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var b9=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const Dy=b9,Ga=(e,t,n)=>{if(Dy(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(Dy(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let r={relaxZeros:!0,...n};typeof r.strictZeros=="boolean"&&(r.relaxZeros=r.strictZeros===!1);let a=String(r.relaxZeros),o=String(r.shorthand),s=String(r.capture),l=String(r.wrap),u=e+":"+t+"="+a+o+s+l;if(Ga.cache.hasOwnProperty(u))return Ga.cache[u].result;let p=Math.min(e,t),d=Math.max(e,t);if(Math.abs(p-d)===1){let _=e+"|"+t;return r.capture?`(${_})`:r.wrap===!1?_:`(?:${_})`}let h=qy(e)||qy(t),m={min:e,max:t,a:p,b:d},v=[],y=[];if(h&&(m.isPadded=h,m.maxLen=String(m.max).length),p<0){let _=d<0?Math.abs(d):1;y=Ly(_,Math.abs(p),m,r),p=m.a=0}return d>=0&&(v=Ly(p,d,m,r)),m.negatives=y,m.positives=v,m.result=x9(y,v),r.capture===!0?m.result=`(${m.result})`:r.wrap!==!1&&v.length+y.length>1&&(m.result=`(?:${m.result})`),Ga.cache[u]=m,m.result};function x9(e,t,n){let r=Bu(e,t,"-",!1)||[],a=Bu(t,e,"",!1)||[],o=Bu(e,t,"-?",!0)||[];return r.concat(o).concat(a).join("|")}function _9(e,t){let n=1,r=1,a=Uy(e,n),o=new Set([t]);for(;e<=a&&a<=t;)o.add(a),n+=1,a=Uy(e,n);for(a=Zy(t+1,r)-1;e<a&&a<=t;)o.add(a),r+=1,a=Zy(t+1,r)-1;return o=[...o],o.sort(C9),o}function w9(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let r=k9(e,t),a=r.length,o="",s=0;for(let l=0;l<a;l++){let[u,p]=r[l];u===p?o+=u:u!=="0"||p!=="9"?o+=S9(u,p):s++}return s&&(o+=n.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[s],digits:a}}function Ly(e,t,n,r){let a=_9(e,t),o=[],s=e,l;for(let u=0;u<a.length;u++){let p=a[u],d=w9(String(s),String(p),r),h="";if(!n.isPadded&&l&&l.pattern===d.pattern){l.count.length>1&&l.count.pop(),l.count.push(d.count[0]),l.string=l.pattern+Hy(l.count),s=p+1;continue}n.isPadded&&(h=E9(p,n,r)),d.string=h+d.pattern+Hy(d.count),o.push(d),s=p+1,l=d}return o}function Bu(e,t,n,r,a){let o=[];for(let s of e){let{string:l}=s;!r&&!By(t,"string",l)&&o.push(n+l),r&&By(t,"string",l)&&o.push(n+l)}return o}function k9(e,t){let n=[];for(let r=0;r<e.length;r++)n.push([e[r],t[r]]);return n}function C9(e,t){return e>t?1:t>e?-1:0}function By(e,t,n){return e.some(r=>r[t]===n)}function Uy(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function Zy(e,t){return e-e%Math.pow(10,t)}function Hy(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function S9(e,t,n){return`[${e}${t-e===1?"":"-"}${t}]`}function qy(e){return/^-?(0+)\d/.test(e)}function E9(e,t,n){if(!t.isPadded)return e;let r=Math.abs(t.maxLen-String(e).length),a=n.relaxZeros!==!1;switch(r){case 0:return"";case 1:return a?"0?":"0";case 2:return a?"0{0,2}":"00";default:return a?`0{0,${r}}`:`0{${r}}`}}Ga.cache={};Ga.clearCache=()=>Ga.cache={};var A9=Ga;/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const T9=tw,nw=A9,Wy=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),I9=e=>t=>e===!0?Number(t):String(t),Uu=e=>typeof e=="number"||typeof e=="string"&&e!=="",So=e=>Number.isInteger(+e),Zu=e=>{let t=`${e}`,n=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++n]==="0";);return n>0},j9=(e,t,n)=>typeof e=="string"||typeof t=="string"?!0:n.stringify===!0,R9=(e,t,n)=>{if(t>0){let r=e[0]==="-"?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return n===!1?String(e):e},El=(e,t)=>{let n=e[0]==="-"?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},O9=(e,t,n)=>{e.negatives.sort((l,u)=>l<u?-1:l>u?1:0),e.positives.sort((l,u)=>l<u?-1:l>u?1:0);let r=t.capture?"":"?:",a="",o="",s;return e.positives.length&&(a=e.positives.map(l=>El(String(l),n)).join("|")),e.negatives.length&&(o=`-(${r}${e.negatives.map(l=>El(String(l),n)).join("|")})`),a&&o?s=`${a}|${o}`:s=a||o,t.wrap?`(${r}${s})`:s},rw=(e,t,n,r)=>{if(n)return nw(e,t,{wrap:!1,...r});let a=String.fromCharCode(e);if(e===t)return a;let o=String.fromCharCode(t);return`[${a}-${o}]`},aw=(e,t,n)=>{if(Array.isArray(e)){let r=n.wrap===!0,a=n.capture?"":"?:";return r?`(${a}${e.join("|")})`:e.join("|")}return nw(e,t,n)},iw=(...e)=>new RangeError("Invalid range arguments: "+T9.inspect(...e)),ow=(e,t,n)=>{if(n.strictRanges===!0)throw iw([e,t]);return[]},M9=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},z9=(e,t,n=1,r={})=>{let a=Number(e),o=Number(t);if(!Number.isInteger(a)||!Number.isInteger(o)){if(r.strictRanges===!0)throw iw([e,t]);return[]}a===0&&(a=0),o===0&&(o=0);let s=a>o,l=String(e),u=String(t),p=String(n);n=Math.max(Math.abs(n),1);let d=Zu(l)||Zu(u)||Zu(p),h=d?Math.max(l.length,u.length,p.length):0,m=d===!1&&j9(e,t,r)===!1,v=r.transform||I9(m);if(r.toRegex&&n===1)return rw(El(e,h),El(t,h),!0,r);let y={negatives:[],positives:[]},_=E=>y[E<0?"negatives":"positives"].push(Math.abs(E)),b=[],k=0;for(;s?a>=o:a<=o;)r.toRegex===!0&&n>1?_(a):b.push(R9(v(a,k),h,m)),a=s?a-n:a+n,k++;return r.toRegex===!0?n>1?O9(y,r,h):aw(b,null,{wrap:!1,...r}):b},P9=(e,t,n=1,r={})=>{if(!So(e)&&e.length>1||!So(t)&&t.length>1)return ow(e,t,r);let a=r.transform||(m=>String.fromCharCode(m)),o=`${e}`.charCodeAt(0),s=`${t}`.charCodeAt(0),l=o>s,u=Math.min(o,s),p=Math.max(o,s);if(r.toRegex&&n===1)return rw(u,p,!1,r);let d=[],h=0;for(;l?o>=s:o<=s;)d.push(a(o,h)),o=l?o-n:o+n,h++;return r.toRegex===!0?aw(d,null,{wrap:!1,options:r}):d},rl=(e,t,n,r={})=>{if(t==null&&Uu(e))return[e];if(!Uu(e)||!Uu(t))return ow(e,t,r);if(typeof n=="function")return rl(e,t,1,{transform:n});if(Wy(n))return rl(e,t,0,n);let a={...r};return a.capture===!0&&(a.wrap=!0),n=n||a.step||1,So(n)?So(e)&&So(t)?z9(e,t,n,a):P9(e,t,Math.max(Math.abs(n),1),a):n!=null&&!Wy(n)?M9(n,a):rl(e,t,1,n)};var sw=rl;const N9=sw,Vy=Gl,$9=(e,t={})=>{const n=(r,a={})=>{const o=Vy.isInvalidBrace(a),s=r.invalid===!0&&t.escapeInvalid===!0,l=o===!0||s===!0,u=t.escapeInvalid===!0?"\\":"";let p="";if(r.isOpen===!0)return u+r.value;if(r.isClose===!0)return console.log("node.isClose",u,r.value),u+r.value;if(r.type==="open")return l?u+r.value:"(";if(r.type==="close")return l?u+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":l?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){const d=Vy.reduce(r.nodes),h=N9(...d,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(h.length!==0)return d.length>1&&h.length>1?`(${h})`:h}if(r.nodes)for(const d of r.nodes)p+=n(d,r);return p};return n(e)};var F9=$9;const D9=sw,Gy=Gd,Ai=Gl,Wa=(e="",t="",n=!1)=>{const r=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return n?Ai.flatten(t).map(a=>`{${a}}`):t;for(const a of e)if(Array.isArray(a))for(const o of a)r.push(Wa(o,t,n));else for(let o of t)n===!0&&typeof o=="string"&&(o=`{${o}}`),r.push(Array.isArray(o)?Wa(a,o,n):a+o);return Ai.flatten(r)},L9=(e,t={})=>{const n=t.rangeLimit===void 0?1e3:t.rangeLimit,r=(a,o={})=>{a.queue=[];let s=o,l=o.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,l=s.queue;if(a.invalid||a.dollar){l.push(Wa(l.pop(),Gy(a,t)));return}if(a.type==="brace"&&a.invalid!==!0&&a.nodes.length===2){l.push(Wa(l.pop(),["{}"]));return}if(a.nodes&&a.ranges>0){const h=Ai.reduce(a.nodes);if(Ai.exceedsLimit(...h,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let m=D9(...h,t);m.length===0&&(m=Gy(a,t)),l.push(Wa(l.pop(),m)),a.nodes=[];return}const u=Ai.encloseBrace(a);let p=a.queue,d=a;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,p=d.queue;for(let h=0;h<a.nodes.length;h++){const m=a.nodes[h];if(m.type==="comma"&&a.type==="brace"){h===1&&p.push(""),p.push("");continue}if(m.type==="close"){l.push(Wa(l.pop(),p,u));continue}if(m.value&&m.type!=="open"){p.push(Wa(p.pop(),m.value));continue}m.nodes&&r(m,a)}return p};return Ai.flatten(r(e))};var B9=L9,U9={MAX_LENGTH:1e4,CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_COMMA:",",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_NO_BREAK_SPACE:"",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SINGLE_QUOTE:"'",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const Z9=Gd,{MAX_LENGTH:Jy,CHAR_BACKSLASH:Hu,CHAR_BACKTICK:H9,CHAR_COMMA:q9,CHAR_DOT:W9,CHAR_LEFT_PARENTHESES:V9,CHAR_RIGHT_PARENTHESES:G9,CHAR_LEFT_CURLY_BRACE:J9,CHAR_RIGHT_CURLY_BRACE:K9,CHAR_LEFT_SQUARE_BRACKET:Ky,CHAR_RIGHT_SQUARE_BRACKET:Yy,CHAR_DOUBLE_QUOTE:Y9,CHAR_SINGLE_QUOTE:X9,CHAR_NO_BREAK_SPACE:Q9,CHAR_ZERO_WIDTH_NOBREAK_SPACE:e8}=U9,t8=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");const n=t||{},r=typeof n.maxLength=="number"?Math.min(Jy,n.maxLength):Jy;if(e.length>r)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${r})`);const a={type:"root",input:e,nodes:[]},o=[a];let s=a,l=a,u=0;const p=e.length;let d=0,h=0,m;const v=()=>e[d++],y=_=>{if(_.type==="text"&&l.type==="dot"&&(l.type="text"),l&&l.type==="text"&&_.type==="text"){l.value+=_.value;return}return s.nodes.push(_),_.parent=s,_.prev=l,l=_,_};for(y({type:"bos"});d<p;)if(s=o[o.length-1],m=v(),!(m===e8||m===Q9)){if(m===Hu){y({type:"text",value:(t.keepEscaping?m:"")+v()});continue}if(m===Yy){y({type:"text",value:"\\"+m});continue}if(m===Ky){u++;let _;for(;d<p&&(_=v());){if(m+=_,_===Ky){u++;continue}if(_===Hu){m+=v();continue}if(_===Yy&&(u--,u===0))break}y({type:"text",value:m});continue}if(m===V9){s=y({type:"paren",nodes:[]}),o.push(s),y({type:"text",value:m});continue}if(m===G9){if(s.type!=="paren"){y({type:"text",value:m});continue}s=o.pop(),y({type:"text",value:m}),s=o[o.length-1];continue}if(m===Y9||m===X9||m===H9){const _=m;let b;for(t.keepQuotes!==!0&&(m="");d<p&&(b=v());){if(b===Hu){m+=b+v();continue}if(b===_){t.keepQuotes===!0&&(m+=b);break}m+=b}y({type:"text",value:m});continue}if(m===J9){h++;const b={type:"brace",open:!0,close:!1,dollar:l.value&&l.value.slice(-1)==="$"||s.dollar===!0,depth:h,commas:0,ranges:0,nodes:[]};s=y(b),o.push(s),y({type:"open",value:m});continue}if(m===K9){if(s.type!=="brace"){y({type:"text",value:m});continue}const _="close";s=o.pop(),s.close=!0,y({type:_,value:m}),h--,s=o[o.length-1];continue}if(m===q9&&h>0){if(s.ranges>0){s.ranges=0;const _=s.nodes.shift();s.nodes=[_,{type:"text",value:Z9(s)}]}y({type:"comma",value:m}),s.commas++;continue}if(m===W9&&h>0&&s.commas===0){const _=s.nodes;if(h===0||_.length===0){y({type:"text",value:m});continue}if(l.type==="dot"){if(s.range=[],l.value+=m,l.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,l.type="text";continue}s.ranges++,s.args=[];continue}if(l.type==="range"){_.pop();const b=_[_.length-1];b.value+=l.value+m,l=b,s.ranges--;continue}y({type:"dot",value:m});continue}y({type:"text",value:m})}do if(s=o.pop(),s.type!=="root"){s.nodes.forEach(k=>{k.nodes||(k.type==="open"&&(k.isOpen=!0),k.type==="close"&&(k.isClose=!0),k.nodes||(k.type="text"),k.invalid=!0)});const _=o[o.length-1],b=_.nodes.indexOf(s);_.nodes.splice(b,1,...s.nodes)}while(o.length>0);return y({type:"eos"}),a};var n8=t8;const Xy=Gd,r8=F9,a8=B9,i8=n8,tr=(e,t={})=>{let n=[];if(Array.isArray(e))for(const r of e){const a=tr.create(r,t);Array.isArray(a)?n.push(...a):n.push(a)}else n=[].concat(tr.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(n=[...new Set(n)]),n};tr.parse=(e,t={})=>i8(e,t);tr.stringify=(e,t={})=>Xy(typeof e=="string"?tr.parse(e,t):e,t);tr.compile=(e,t={})=>(typeof e=="string"&&(e=tr.parse(e,t)),r8(e,t));tr.expand=(e,t={})=>{typeof e=="string"&&(e=tr.parse(e,t));let n=a8(e,t);return t.noempty===!0&&(n=n.filter(Boolean)),t.nodupes===!0&&(n=[...new Set(n)]),n};tr.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?tr.compile(e,t):tr.expand(e,t);var o8=tr;const s8=new Proxy({},{get(e,t){throw new Error(`Module "path" has been externalized for browser compatibility. Cannot access "path.${t}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),l8=Object.freeze(Object.defineProperty({__proto__:null,default:s8},Symbol.toStringTag,{value:"Module"})),Jd=tb(l8);var Wo={};const c8=Jd,Nr="\\\\/",Qy=`[^${Nr}]`,na="\\.",u8="\\+",p8="\\?",Jl="\\/",d8="(?=.)",lw="[^/]",Kd=`(?:${Jl}|$)`,cw=`(?:^|${Jl})`,Yd=`${na}{1,2}${Kd}`,f8=`(?!${na})`,h8=`(?!${cw}${Yd})`,m8=`(?!${na}{0,1}${Kd})`,g8=`(?!${Yd})`,y8=`[^.${Jl}]`,v8=`${lw}*?`,uw={DOT_LITERAL:na,PLUS_LITERAL:u8,QMARK_LITERAL:p8,SLASH_LITERAL:Jl,ONE_CHAR:d8,QMARK:lw,END_ANCHOR:Kd,DOTS_SLASH:Yd,NO_DOT:f8,NO_DOTS:h8,NO_DOT_SLASH:m8,NO_DOTS_SLASH:g8,QMARK_NO_DOT:y8,STAR:v8,START_ANCHOR:cw},b8={...uw,SLASH_LITERAL:`[${Nr}]`,QMARK:Qy,STAR:`${Qy}*?`,DOTS_SLASH:`${na}{1,2}(?:[${Nr}]|$)`,NO_DOT:`(?!${na})`,NO_DOTS:`(?!(?:^|[${Nr}])${na}{1,2}(?:[${Nr}]|$))`,NO_DOT_SLASH:`(?!${na}{0,1}(?:[${Nr}]|$))`,NO_DOTS_SLASH:`(?!${na}{1,2}(?:[${Nr}]|$))`,QMARK_NO_DOT:`[^.${Nr}]`,START_ANCHOR:`(?:^|[${Nr}])`,END_ANCHOR:`(?:[${Nr}]|$)`},x8={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var Kl={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:x8,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:c8.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?b8:uw}};(function(e){var t={};const n=Jd,r=t.platform==="win32",{REGEX_BACKSLASH:a,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:s,REGEX_SPECIAL_CHARS_GLOBAL:l}=Kl;e.isObject=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),e.hasRegexChars=u=>s.test(u),e.isRegexChar=u=>u.length===1&&e.hasRegexChars(u),e.escapeRegex=u=>u.replace(l,"\\$1"),e.toPosixSlashes=u=>u.replace(a,"/"),e.removeBackslashes=u=>u.replace(o,p=>p==="\\"?"":p),e.supportsLookbehinds=()=>{const u=t.version.slice(1).split(".").map(Number);return u.length===3&&u[0]>=9||u[0]===8&&u[1]>=10},e.isWindows=u=>u&&typeof u.windows=="boolean"?u.windows:r===!0||n.sep==="\\",e.escapeLast=(u,p,d)=>{const h=u.lastIndexOf(p,d);return h===-1?u:u[h-1]==="\\"?e.escapeLast(u,p,h-1):`${u.slice(0,h)}\\${u.slice(h)}`},e.removePrefix=(u,p={})=>{let d=u;return d.startsWith("./")&&(d=d.slice(2),p.prefix="./"),d},e.wrapOutput=(u,p={},d={})=>{const h=d.contains?"":"^",m=d.contains?"":"$";let v=`${h}(?:${u})${m}`;return p.negated===!0&&(v=`(?:^(?!${v}).*$)`),v}})(Wo);const ev=Wo,{CHAR_ASTERISK:qu,CHAR_AT:_8,CHAR_BACKWARD_SLASH:_o,CHAR_COMMA:w8,CHAR_DOT:Wu,CHAR_EXCLAMATION_MARK:Vu,CHAR_FORWARD_SLASH:pw,CHAR_LEFT_CURLY_BRACE:Gu,CHAR_LEFT_PARENTHESES:Ju,CHAR_LEFT_SQUARE_BRACKET:k8,CHAR_PLUS:C8,CHAR_QUESTION_MARK:tv,CHAR_RIGHT_CURLY_BRACE:S8,CHAR_RIGHT_PARENTHESES:nv,CHAR_RIGHT_SQUARE_BRACKET:E8}=Kl,rv=e=>e===pw||e===_o,av=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},A8=(e,t)=>{const n=t||{},r=e.length-1,a=n.parts===!0||n.scanToEnd===!0,o=[],s=[],l=[];let u=e,p=-1,d=0,h=0,m=!1,v=!1,y=!1,_=!1,b=!1,k=!1,E=!1,T=!1,I=!1,N=!1,M=0,U,B,J={value:"",depth:0,isGlob:!1};const Y=()=>p>=r,q=()=>u.charCodeAt(p+1),pe=()=>(U=B,u.charCodeAt(++p));for(;p<r;){B=pe();let Ae;if(B===_o){E=J.backslashes=!0,B=pe(),B===Gu&&(k=!0);continue}if(k===!0||B===Gu){for(M++;Y()!==!0&&(B=pe());){if(B===_o){E=J.backslashes=!0,pe();continue}if(B===Gu){M++;continue}if(k!==!0&&B===Wu&&(B=pe())===Wu){if(m=J.isBrace=!0,y=J.isGlob=!0,N=!0,a===!0)continue;break}if(k!==!0&&B===w8){if(m=J.isBrace=!0,y=J.isGlob=!0,N=!0,a===!0)continue;break}if(B===S8&&(M--,M===0)){k=!1,m=J.isBrace=!0,N=!0;break}}if(a===!0)continue;break}if(B===pw){if(o.push(p),s.push(J),J={value:"",depth:0,isGlob:!1},N===!0)continue;if(U===Wu&&p===d+1){d+=2;continue}h=p+1;continue}if(n.noext!==!0&&(B===C8||B===_8||B===qu||B===tv||B===Vu)===!0&&q()===Ju){if(y=J.isGlob=!0,_=J.isExtglob=!0,N=!0,B===Vu&&p===d&&(I=!0),a===!0){for(;Y()!==!0&&(B=pe());){if(B===_o){E=J.backslashes=!0,B=pe();continue}if(B===nv){y=J.isGlob=!0,N=!0;break}}continue}break}if(B===qu){if(U===qu&&(b=J.isGlobstar=!0),y=J.isGlob=!0,N=!0,a===!0)continue;break}if(B===tv){if(y=J.isGlob=!0,N=!0,a===!0)continue;break}if(B===k8){for(;Y()!==!0&&(Ae=pe());){if(Ae===_o){E=J.backslashes=!0,pe();continue}if(Ae===E8){v=J.isBracket=!0,y=J.isGlob=!0,N=!0;break}}if(a===!0)continue;break}if(n.nonegate!==!0&&B===Vu&&p===d){T=J.negated=!0,d++;continue}if(n.noparen!==!0&&B===Ju){if(y=J.isGlob=!0,a===!0){for(;Y()!==!0&&(B=pe());){if(B===Ju){E=J.backslashes=!0,B=pe();continue}if(B===nv){N=!0;break}}continue}break}if(y===!0){if(N=!0,a===!0)continue;break}}n.noext===!0&&(_=!1,y=!1);let O=u,K="",w="";d>0&&(K=u.slice(0,d),u=u.slice(d),h-=d),O&&y===!0&&h>0?(O=u.slice(0,h),w=u.slice(h)):y===!0?(O="",w=u):O=u,O&&O!==""&&O!=="/"&&O!==u&&rv(O.charCodeAt(O.length-1))&&(O=O.slice(0,-1)),n.unescape===!0&&(w&&(w=ev.removeBackslashes(w)),O&&E===!0&&(O=ev.removeBackslashes(O)));const L={prefix:K,input:e,start:d,base:O,glob:w,isBrace:m,isBracket:v,isGlob:y,isExtglob:_,isGlobstar:b,negated:T,negatedExtglob:I};if(n.tokens===!0&&(L.maxDepth=0,rv(B)||s.push(J),L.tokens=s),n.parts===!0||n.tokens===!0){let Ae;for(let de=0;de<o.length;de++){const fe=Ae?Ae+1:d,$=o[de],Re=e.slice(fe,$);n.tokens&&(de===0&&d!==0?(s[de].isPrefix=!0,s[de].value=K):s[de].value=Re,av(s[de]),L.maxDepth+=s[de].depth),(de!==0||Re!=="")&&l.push(Re),Ae=$}if(Ae&&Ae+1<e.length){const de=e.slice(Ae+1);l.push(de),n.tokens&&(s[s.length-1].value=de,av(s[s.length-1]),L.maxDepth+=s[s.length-1].depth)}L.slashes=o,L.parts=l}return L};var T8=A8;const Al=Kl,Yn=Wo,{MAX_LENGTH:Tl,POSIX_REGEX_SOURCE:I8,REGEX_NON_SPECIAL_CHARS:j8,REGEX_SPECIAL_CHARS_BACKREF:R8,REPLACEMENTS:dw}=Al,O8=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch{return e.map(a=>Yn.escapeRegex(a)).join("..")}return n},xi=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Xd=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=dw[e]||e;const n={...t},r=typeof n.maxLength=="number"?Math.min(Tl,n.maxLength):Tl;let a=e.length;if(a>r)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${r}`);const o={type:"bos",value:"",output:n.prepend||""},s=[o],l=n.capture?"":"?:",u=Yn.isWindows(t),p=Al.globChars(u),d=Al.extglobChars(p),{DOT_LITERAL:h,PLUS_LITERAL:m,SLASH_LITERAL:v,ONE_CHAR:y,DOTS_SLASH:_,NO_DOT:b,NO_DOT_SLASH:k,NO_DOTS_SLASH:E,QMARK:T,QMARK_NO_DOT:I,STAR:N,START_ANCHOR:M}=p,U=ce=>`(${l}(?:(?!${M}${ce.dot?_:h}).)*?)`,B=n.dot?"":b,J=n.dot?T:I;let Y=n.bash===!0?U(n):N;n.capture&&(Y=`(${Y})`),typeof n.noext=="boolean"&&(n.noextglob=n.noext);const q={input:e,index:-1,start:0,dot:n.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=Yn.removePrefix(e,q),a=e.length;const pe=[],O=[],K=[];let w=o,L;const Ae=()=>q.index===a-1,de=q.peek=(ce=1)=>e[q.index+ce],fe=q.advance=()=>e[++q.index]||"",$=()=>e.slice(q.index+1),Re=(ce="",je=0)=>{q.consumed+=ce,q.index+=je},se=ce=>{q.output+=ce.output!=null?ce.output:ce.value,Re(ce.value)},R=()=>{let ce=1;for(;de()==="!"&&(de(2)!=="("||de(3)==="?");)fe(),q.start++,ce++;return ce%2===0?!1:(q.negated=!0,q.start++,!0)},Ne=ce=>{q[ce]++,K.push(ce)},Q=ce=>{q[ce]--,K.pop()},W=ce=>{if(w.type==="globstar"){const je=q.braces>0&&(ce.type==="comma"||ce.type==="brace"),me=ce.extglob===!0||pe.length&&(ce.type==="pipe"||ce.type==="paren");ce.type!=="slash"&&ce.type!=="paren"&&!je&&!me&&(q.output=q.output.slice(0,-w.output.length),w.type="star",w.value="*",w.output=Y,q.output+=w.output)}if(pe.length&&ce.type!=="paren"&&(pe[pe.length-1].inner+=ce.value),(ce.value||ce.output)&&se(ce),w&&w.type==="text"&&ce.type==="text"){w.value+=ce.value,w.output=(w.output||"")+ce.value;return}ce.prev=w,s.push(ce),w=ce},we=(ce,je)=>{const me={...d[je],conditions:1,inner:""};me.prev=w,me.parens=q.parens,me.output=q.output;const Te=(n.capture?"(":"")+me.open;Ne("parens"),W({type:ce,value:je,output:q.output?"":y}),W({type:"paren",extglob:!0,value:fe(),output:Te}),pe.push(me)},Se=ce=>{let je=ce.close+(n.capture?")":""),me;if(ce.type==="negate"){let Te=Y;if(ce.inner&&ce.inner.length>1&&ce.inner.includes("/")&&(Te=U(n)),(Te!==Y||Ae()||/^\)+$/.test($()))&&(je=ce.close=`)$))${Te}`),ce.inner.includes("*")&&(me=$())&&/^\.[^\\/.]+$/.test(me)){const qe=Xd(me,{...t,fastpaths:!1}).output;je=ce.close=`)${qe})${Te})`}ce.prev.type==="bos"&&(q.negatedExtglob=!0)}W({type:"paren",extglob:!0,value:L,output:je}),Q("parens")};if(n.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let ce=!1,je=e.replace(R8,(me,Te,qe,Ye,S,he)=>Ye==="\\"?(ce=!0,me):Ye==="?"?Te?Te+Ye+(S?T.repeat(S.length):""):he===0?J+(S?T.repeat(S.length):""):T.repeat(qe.length):Ye==="."?h.repeat(qe.length):Ye==="*"?Te?Te+Ye+(S?Y:""):Y:Te?me:`\\${me}`);return ce===!0&&(n.unescape===!0?je=je.replace(/\\/g,""):je=je.replace(/\\+/g,me=>me.length%2===0?"\\\\":me?"\\":"")),je===e&&n.contains===!0?(q.output=e,q):(q.output=Yn.wrapOutput(je,q,t),q)}for(;!Ae();){if(L=fe(),L==="\0")continue;if(L==="\\"){const me=de();if(me==="/"&&n.bash!==!0||me==="."||me===";")continue;if(!me){L+="\\",W({type:"text",value:L});continue}const Te=/^\\+/.exec($());let qe=0;if(Te&&Te[0].length>2&&(qe=Te[0].length,q.index+=qe,qe%2!==0&&(L+="\\")),n.unescape===!0?L=fe():L+=fe(),q.brackets===0){W({type:"text",value:L});continue}}if(q.brackets>0&&(L!=="]"||w.value==="["||w.value==="[^")){if(n.posix!==!1&&L===":"){const me=w.value.slice(1);if(me.includes("[")&&(w.posix=!0,me.includes(":"))){const Te=w.value.lastIndexOf("["),qe=w.value.slice(0,Te),Ye=w.value.slice(Te+2),S=I8[Ye];if(S){w.value=qe+S,q.backtrack=!0,fe(),!o.output&&s.indexOf(w)===1&&(o.output=y);continue}}}(L==="["&&de()!==":"||L==="-"&&de()==="]")&&(L=`\\${L}`),L==="]"&&(w.value==="["||w.value==="[^")&&(L=`\\${L}`),n.posix===!0&&L==="!"&&w.value==="["&&(L="^"),w.value+=L,se({value:L});continue}if(q.quotes===1&&L!=='"'){L=Yn.escapeRegex(L),w.value+=L,se({value:L});continue}if(L==='"'){q.quotes=q.quotes===1?0:1,n.keepQuotes===!0&&W({type:"text",value:L});continue}if(L==="("){Ne("parens"),W({type:"paren",value:L});continue}if(L===")"){if(q.parens===0&&n.strictBrackets===!0)throw new SyntaxError(xi("opening","("));const me=pe[pe.length-1];if(me&&q.parens===me.parens+1){Se(pe.pop());continue}W({type:"paren",value:L,output:q.parens?")":"\\)"}),Q("parens");continue}if(L==="["){if(n.nobracket===!0||!$().includes("]")){if(n.nobracket!==!0&&n.strictBrackets===!0)throw new SyntaxError(xi("closing","]"));L=`\\${L}`}else Ne("brackets");W({type:"bracket",value:L});continue}if(L==="]"){if(n.nobracket===!0||w&&w.type==="bracket"&&w.value.length===1){W({type:"text",value:L,output:`\\${L}`});continue}if(q.brackets===0){if(n.strictBrackets===!0)throw new SyntaxError(xi("opening","["));W({type:"text",value:L,output:`\\${L}`});continue}Q("brackets");const me=w.value.slice(1);if(w.posix!==!0&&me[0]==="^"&&!me.includes("/")&&(L=`/${L}`),w.value+=L,se({value:L}),n.literalBrackets===!1||Yn.hasRegexChars(me))continue;const Te=Yn.escapeRegex(w.value);if(q.output=q.output.slice(0,-w.value.length),n.literalBrackets===!0){q.output+=Te,w.value=Te;continue}w.value=`(${l}${Te}|${w.value})`,q.output+=w.value;continue}if(L==="{"&&n.nobrace!==!0){Ne("braces");const me={type:"brace",value:L,output:"(",outputIndex:q.output.length,tokensIndex:q.tokens.length};O.push(me),W(me);continue}if(L==="}"){const me=O[O.length-1];if(n.nobrace===!0||!me){W({type:"text",value:L,output:L});continue}let Te=")";if(me.dots===!0){const qe=s.slice(),Ye=[];for(let S=qe.length-1;S>=0&&(s.pop(),qe[S].type!=="brace");S--)qe[S].type!=="dots"&&Ye.unshift(qe[S].value);Te=O8(Ye,n),q.backtrack=!0}if(me.comma!==!0&&me.dots!==!0){const qe=q.output.slice(0,me.outputIndex),Ye=q.tokens.slice(me.tokensIndex);me.value=me.output="\\{",L=Te="\\}",q.output=qe;for(const S of Ye)q.output+=S.output||S.value}W({type:"brace",value:L,output:Te}),Q("braces"),O.pop();continue}if(L==="|"){pe.length>0&&pe[pe.length-1].conditions++,W({type:"text",value:L});continue}if(L===","){let me=L;const Te=O[O.length-1];Te&&K[K.length-1]==="braces"&&(Te.comma=!0,me="|"),W({type:"comma",value:L,output:me});continue}if(L==="/"){if(w.type==="dot"&&q.index===q.start+1){q.start=q.index+1,q.consumed="",q.output="",s.pop(),w=o;continue}W({type:"slash",value:L,output:v});continue}if(L==="."){if(q.braces>0&&w.type==="dot"){w.value==="."&&(w.output=h);const me=O[O.length-1];w.type="dots",w.output+=L,w.value+=L,me.dots=!0;continue}if(q.braces+q.parens===0&&w.type!=="bos"&&w.type!=="slash"){W({type:"text",value:L,output:h});continue}W({type:"dot",value:L,output:h});continue}if(L==="?"){if(!(w&&w.value==="(")&&n.noextglob!==!0&&de()==="("&&de(2)!=="?"){we("qmark",L);continue}if(w&&w.type==="paren"){const Te=de();let qe=L;if(Te==="<"&&!Yn.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(w.value==="("&&!/[!=<:]/.test(Te)||Te==="<"&&!/<([!=]|\w+>)/.test($()))&&(qe=`\\${L}`),W({type:"text",value:L,output:qe});continue}if(n.dot!==!0&&(w.type==="slash"||w.type==="bos")){W({type:"qmark",value:L,output:I});continue}W({type:"qmark",value:L,output:T});continue}if(L==="!"){if(n.noextglob!==!0&&de()==="("&&(de(2)!=="?"||!/[!=<:]/.test(de(3)))){we("negate",L);continue}if(n.nonegate!==!0&&q.index===0){R();continue}}if(L==="+"){if(n.noextglob!==!0&&de()==="("&&de(2)!=="?"){we("plus",L);continue}if(w&&w.value==="("||n.regex===!1){W({type:"plus",value:L,output:m});continue}if(w&&(w.type==="bracket"||w.type==="paren"||w.type==="brace")||q.parens>0){W({type:"plus",value:L});continue}W({type:"plus",value:m});continue}if(L==="@"){if(n.noextglob!==!0&&de()==="("&&de(2)!=="?"){W({type:"at",extglob:!0,value:L,output:""});continue}W({type:"text",value:L});continue}if(L!=="*"){(L==="$"||L==="^")&&(L=`\\${L}`);const me=j8.exec($());me&&(L+=me[0],q.index+=me[0].length),W({type:"text",value:L});continue}if(w&&(w.type==="globstar"||w.star===!0)){w.type="star",w.star=!0,w.value+=L,w.output=Y,q.backtrack=!0,q.globstar=!0,Re(L);continue}let ce=$();if(n.noextglob!==!0&&/^\([^?]/.test(ce)){we("star",L);continue}if(w.type==="star"){if(n.noglobstar===!0){Re(L);continue}const me=w.prev,Te=me.prev,qe=me.type==="slash"||me.type==="bos",Ye=Te&&(Te.type==="star"||Te.type==="globstar");if(n.bash===!0&&(!qe||ce[0]&&ce[0]!=="/")){W({type:"star",value:L,output:""});continue}const S=q.braces>0&&(me.type==="comma"||me.type==="brace"),he=pe.length&&(me.type==="pipe"||me.type==="paren");if(!qe&&me.type!=="paren"&&!S&&!he){W({type:"star",value:L,output:""});continue}for(;ce.slice(0,3)==="/**";){const G=e[q.index+4];if(G&&G!=="/")break;ce=ce.slice(3),Re("/**",3)}if(me.type==="bos"&&Ae()){w.type="globstar",w.value+=L,w.output=U(n),q.output=w.output,q.globstar=!0,Re(L);continue}if(me.type==="slash"&&me.prev.type!=="bos"&&!Ye&&Ae()){q.output=q.output.slice(0,-(me.output+w.output).length),me.output=`(?:${me.output}`,w.type="globstar",w.output=U(n)+(n.strictSlashes?")":"|$)"),w.value+=L,q.globstar=!0,q.output+=me.output+w.output,Re(L);continue}if(me.type==="slash"&&me.prev.type!=="bos"&&ce[0]==="/"){const G=ce[1]!==void 0?"|$":"";q.output=q.output.slice(0,-(me.output+w.output).length),me.output=`(?:${me.output}`,w.type="globstar",w.output=`${U(n)}${v}|${v}${G})`,w.value+=L,q.output+=me.output+w.output,q.globstar=!0,Re(L+fe()),W({type:"slash",value:"/",output:""});continue}if(me.type==="bos"&&ce[0]==="/"){w.type="globstar",w.value+=L,w.output=`(?:^|${v}|${U(n)}${v})`,q.output=w.output,q.globstar=!0,Re(L+fe()),W({type:"slash",value:"/",output:""});continue}q.output=q.output.slice(0,-w.output.length),w.type="globstar",w.output=U(n),w.value+=L,q.output+=w.output,q.globstar=!0,Re(L);continue}const je={type:"star",value:L,output:Y};if(n.bash===!0){je.output=".*?",(w.type==="bos"||w.type==="slash")&&(je.output=B+je.output),W(je);continue}if(w&&(w.type==="bracket"||w.type==="paren")&&n.regex===!0){je.output=L,W(je);continue}(q.index===q.start||w.type==="slash"||w.type==="dot")&&(w.type==="dot"?(q.output+=k,w.output+=k):n.dot===!0?(q.output+=E,w.output+=E):(q.output+=B,w.output+=B),de()!=="*"&&(q.output+=y,w.output+=y)),W(je)}for(;q.brackets>0;){if(n.strictBrackets===!0)throw new SyntaxError(xi("closing","]"));q.output=Yn.escapeLast(q.output,"["),Q("brackets")}for(;q.parens>0;){if(n.strictBrackets===!0)throw new SyntaxError(xi("closing",")"));q.output=Yn.escapeLast(q.output,"("),Q("parens")}for(;q.braces>0;){if(n.strictBrackets===!0)throw new SyntaxError(xi("closing","}"));q.output=Yn.escapeLast(q.output,"{"),Q("braces")}if(n.strictSlashes!==!0&&(w.type==="star"||w.type==="bracket")&&W({type:"maybe_slash",value:"",output:`${v}?`}),q.backtrack===!0){q.output="";for(const ce of q.tokens)q.output+=ce.output!=null?ce.output:ce.value,ce.suffix&&(q.output+=ce.suffix)}return q};Xd.fastpaths=(e,t)=>{const n={...t},r=typeof n.maxLength=="number"?Math.min(Tl,n.maxLength):Tl,a=e.length;if(a>r)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${r}`);e=dw[e]||e;const o=Yn.isWindows(t),{DOT_LITERAL:s,SLASH_LITERAL:l,ONE_CHAR:u,DOTS_SLASH:p,NO_DOT:d,NO_DOTS:h,NO_DOTS_SLASH:m,STAR:v,START_ANCHOR:y}=Al.globChars(o),_=n.dot?h:d,b=n.dot?m:d,k=n.capture?"":"?:",E={negated:!1,prefix:""};let T=n.bash===!0?".*?":v;n.capture&&(T=`(${T})`);const I=B=>B.noglobstar===!0?T:`(${k}(?:(?!${y}${B.dot?p:s}).)*?)`,N=B=>{switch(B){case"*":return`${_}${u}${T}`;case".*":return`${s}${u}${T}`;case"*.*":return`${_}${T}${s}${u}${T}`;case"*/*":return`${_}${T}${l}${u}${b}${T}`;case"**":return _+I(n);case"**/*":return`(?:${_}${I(n)}${l})?${b}${u}${T}`;case"**/*.*":return`(?:${_}${I(n)}${l})?${b}${T}${s}${u}${T}`;case"**/.*":return`(?:${_}${I(n)}${l})?${s}${u}${T}`;default:{const J=/^(.*?)\.(\w+)$/.exec(B);if(!J)return;const Y=N(J[1]);return Y?Y+s+J[2]:void 0}}},M=Yn.removePrefix(e,E);let U=N(M);return U&&n.strictSlashes!==!0&&(U+=`${l}?`),U};var M8=Xd;const z8=Jd,P8=T8,Bp=M8,Qd=Wo,N8=Kl,$8=e=>e&&typeof e=="object"&&!Array.isArray(e),un=(e,t,n=!1)=>{if(Array.isArray(e)){const d=e.map(m=>un(m,t,n));return m=>{for(const v of d){const y=v(m);if(y)return y}return!1}}const r=$8(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");const a=t||{},o=Qd.isWindows(t),s=r?un.compileRe(e,t):un.makeRe(e,t,!1,!0),l=s.state;delete s.state;let u=()=>!1;if(a.ignore){const d={...t,ignore:null,onMatch:null,onResult:null};u=un(a.ignore,d,n)}const p=(d,h=!1)=>{const{isMatch:m,match:v,output:y}=un.test(d,s,t,{glob:e,posix:o}),_={glob:e,state:l,regex:s,posix:o,input:d,output:y,match:v,isMatch:m};return typeof a.onResult=="function"&&a.onResult(_),m===!1?(_.isMatch=!1,h?_:!1):u(d)?(typeof a.onIgnore=="function"&&a.onIgnore(_),_.isMatch=!1,h?_:!1):(typeof a.onMatch=="function"&&a.onMatch(_),h?_:!0)};return n&&(p.state=l),p};un.test=(e,t,n,{glob:r,posix:a}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};const o=n||{},s=o.format||(a?Qd.toPosixSlashes:null);let l=e===r,u=l&&s?s(e):e;return l===!1&&(u=s?s(e):e,l=u===r),(l===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?l=un.matchBase(e,t,n,a):l=t.exec(u)),{isMatch:!!l,match:l,output:u}};un.matchBase=(e,t,n,r=Qd.isWindows(n))=>(t instanceof RegExp?t:un.makeRe(t,n)).test(z8.basename(e));un.isMatch=(e,t,n)=>un(t,n)(e);un.parse=(e,t)=>Array.isArray(e)?e.map(n=>un.parse(n,t)):Bp(e,{...t,fastpaths:!1});un.scan=(e,t)=>P8(e,t);un.compileRe=(e,t,n=!1,r=!1)=>{if(n===!0)return e.output;const a=t||{},o=a.contains?"":"^",s=a.contains?"":"$";let l=`${o}(?:${e.output})${s}`;e&&e.negated===!0&&(l=`^(?!${l}).*$`);const u=un.toRegex(l,t);return r===!0&&(u.state=e),u};un.makeRe=(e,t={},n=!1,r=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let a={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(a.output=Bp.fastpaths(e,t)),a.output||(a=Bp(e,t)),un.compileRe(a,t,n,r)};un.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(n){if(t&&t.debug===!0)throw n;return/$^/}};un.constants=N8;var F8=un,D8=F8;const fw=tw,hw=o8,Ur=D8,Up=Wo,iv=e=>e===""||e==="./",mw=e=>{const t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},Ht=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let r=new Set,a=new Set,o=new Set,s=0,l=d=>{o.add(d.output),n&&n.onResult&&n.onResult(d)};for(let d=0;d<t.length;d++){let h=Ur(String(t[d]),{...n,onResult:l},!0),m=h.state.negated||h.state.negatedExtglob;m&&s++;for(let v of e){let y=h(v,!0);(m?!y.isMatch:y.isMatch)&&(m?r.add(y.output):(r.delete(y.output),a.add(y.output)))}}let p=(s===t.length?[...o]:[...a]).filter(d=>!r.has(d));if(n&&p.length===0){if(n.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(n.nonull===!0||n.nullglob===!0)return n.unescape?t.map(d=>d.replace(/\\/g,"")):t}return p};Ht.match=Ht;Ht.matcher=(e,t)=>Ur(e,t);Ht.isMatch=(e,t,n)=>Ur(t,n)(e);Ht.any=Ht.isMatch;Ht.not=(e,t,n={})=>{t=[].concat(t).map(String);let r=new Set,a=[],o=l=>{n.onResult&&n.onResult(l),a.push(l.output)},s=new Set(Ht(e,t,{...n,onResult:o}));for(let l of a)s.has(l)||r.add(l);return[...r]};Ht.contains=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${fw.inspect(e)}"`);if(Array.isArray(t))return t.some(r=>Ht.contains(e,r,n));if(typeof t=="string"){if(iv(e)||iv(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Ht.isMatch(e,t,{...n,contains:!0})};Ht.matchKeys=(e,t,n)=>{if(!Up.isObject(e))throw new TypeError("Expected the first argument to be an object");let r=Ht(Object.keys(e),t,n),a={};for(let o of r)a[o]=e[o];return a};Ht.some=(e,t,n)=>{let r=[].concat(e);for(let a of[].concat(t)){let o=Ur(String(a),n);if(r.some(s=>o(s)))return!0}return!1};Ht.every=(e,t,n)=>{let r=[].concat(e);for(let a of[].concat(t)){let o=Ur(String(a),n);if(!r.every(s=>o(s)))return!1}return!0};Ht.all=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${fw.inspect(e)}"`);return[].concat(t).every(r=>Ur(r,n)(e))};Ht.capture=(e,t,n)=>{let r=Up.isWindows(n),o=Ur.makeRe(String(e),{...n,capture:!0}).exec(r?Up.toPosixSlashes(t):t);if(o)return o.slice(1).map(s=>s===void 0?"":s)};Ht.makeRe=(...e)=>Ur.makeRe(...e);Ht.scan=(...e)=>Ur.scan(...e);Ht.parse=(e,t)=>{let n=[];for(let r of[].concat(e||[]))for(let a of hw(String(r),t))n.push(Ur.parse(a,t));return n};Ht.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!mw(e)?[e]:hw(e,t)};Ht.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return Ht.braces(e,{...t,expand:!0})};Ht.hasBraces=mw;var L8=Ht;const B8=wn(L8),U8=[".ts",".tsx",".js",".jsx",".md",".json"],Ku=5e3,Z8=["**/node_modules/**","**/.git/**","**/.next/**","**/dist/**","**/build/**","**/.cache/**","**/coverage/**","**/test/**","**/__tests__/**","**/*.test.*","**/*.spec.*"],gw=(e,t=[])=>B8.isMatch(e,[...Z8,...t])?!1:U8.some(n=>e.toLowerCase().endsWith(n)),yw=e=>{const t=e.split(`
`);return t.length<=Ku?e:`${t.slice(0,Ku).join(`
`)}

// ... [${t.length-Ku} lines truncated, file too long] ...

`};async function H8(e,t={}){const r=await new g9().loadAsync(e),a=[];return await Promise.all(Object.keys(r.files).map(async o=>{const s=r.files[o];if(!(s.dir||!gw(o,t.ignorePatterns)))try{const l=await s.async("string");a.push({path:o,content:yw(l)})}catch(l){console.warn(`Failed to read file ${o}:`,l)}})),a.sort((o,s)=>o.path.localeCompare(s.path))}async function q8(e,t={}){const n=[];let r="Project";if(e.length>0){const s=(e[0].webkitRelativePath||"").split("/");s.length>0&&s[0]&&(r=s[0])}return await Promise.all(Array.from(e).map(async a=>{const o=a.webkitRelativePath||a.name;if(gw(o,t.ignorePatterns))try{const s=await a.text();n.push({path:o.includes("/")?o.substring(o.indexOf("/")+1):o,content:yw(s)})}catch(s){console.warn(`Failed to read file ${o}:`,s)}})),{files:n.sort((a,o)=>a.path.localeCompare(o.path)),projectName:r}}async function W8(e,t={}){const n=e.name.replace(".zip","");return{files:await H8(e,t),projectName:n}}function V8({onSuccess:e,onError:t}={}){const[n,r]=V.useState(null),[a,o]=V.useState(!1),{fetch:s,isPending:l,error:u}=o9(),{id:p}=_r(),d=async(v,y)=>{const _=await s({body:{chatId:p,name:v,type:"code",files:y}});if(!_?.data)throw new Error("Failed to upload project");return _.data};return{processZipFile:async v=>{try{r(null),o(!0);const{files:y,projectName:_}=await W8(v,{ignorePatterns:["**/node_modules/**"]}),b=await d(_,y);return e?.({...b,id:Sl(),status:"ready"},_),b}catch(y){throw r("Failed to process zip file"),t?.("Failed to process zip file"),console.error("Error processing zip:",y),y}finally{o(!1)}},processFolder:async v=>{try{r(null),o(!0);const{files:y,projectName:_}=await q8(v,{ignorePatterns:["**/node_modules/**"]}),b=await d(_,y);return e?.({...b,id:Sl(),status:"ready"},_),b}catch(y){throw r("Failed to process folder"),t?.("Failed to process folder"),console.error("Error processing folder:",y),y}finally{o(!1)}},isLoading:a||l,error:u||n}}const Vn=()=>{const{formatMessage:e}=yt();return{t:(n,r)=>e({id:n,defaultMessage:r})}},vw=V.createContext({isCodeUploadOpen:!1,submitOnFinish:!1,openCodeUpload:()=>{},closeCodeUpload:()=>{}}),ef=()=>V.useContext(vw),G8=({children:e})=>{const[t,n]=V.useState(!1),[r,a]=V.useState(!1),o=l=>{n(!0),a(l??!1)},s=()=>n(!1);return g.jsxs(vw.Provider,{value:{isCodeUploadOpen:t,submitOnFinish:r,openCodeUpload:o,closeCodeUpload:s},children:[t&&g.jsx(Y8,{}),e]})},ov=({importType:e,onAddFiles:t,error:n})=>{const[r,a]=V.useState(!1),o=V.useRef(null),{t:s}=Vn(),l=y=>{y.preventDefault()},u=y=>{y.preventDefault(),a(!0)},p=()=>a(!1),d=y=>{y.preventDefault(),o.current?.click()},h=()=>{const y=o.current?.files;y&&t(Array.from(y))},m=async y=>{const _=y.createReader(),b=()=>new Promise((T,I)=>{_.readEntries(T,I)}),k=[];let E=[];do{E=await b();for(const T of E)if(T.isFile){const I=T,N=await new Promise((M,U)=>{I.file(M,U)});Object.defineProperty(N,"webkitRelativePath",{writable:!0,value:T.fullPath.substring(1)}),k.push(N)}else if(T.isDirectory){const N=await m(T);k.push(...N)}}while(E.length>0);return k},v=async y=>{if(y.preventDefault(),a(!1),!!y.dataTransfer?.items)if(e==="folder"){const _=y.dataTransfer.items,b=[];for(let k=0;k<_.length;k++){const T=_[k].webkitGetAsEntry?.();if(T){if(T.isDirectory){const I=await m(T);b.push(...I)}else if(T.isFile){const I=await new Promise((N,M)=>{T.file(N,M)});b.push(I)}}}b.length>0&&t(b)}else y.dataTransfer.files&&t(Array.from(y.dataTransfer.files))};return g.jsxs(Oe,{position:"relative",cursor:"pointer",width:"100%",height:"100%",minHeight:"140px",borderStyle:"dashed",borderColor:r?"primary500":n?"danger600":"neutral200",background:r?"primary100":n?"danger100":"neutral100",hasRadius:!0,padding:7,justifyContent:"center",direction:"column",alignItems:"center",gap:2,onDragEnter:u,onDragLeave:p,onDragOver:l,onDrop:v,children:[e==="zip"?g.jsx(nb,{width:"24px",height:"24px"}):g.jsx(nd,{width:"24px",height:"24px"}),g.jsxs(Oe,{direction:"column",alignItems:"center",gap:2,children:[g.jsxs(Fe,{variant:"omega",textColor:"neutral600",textAlign:"center",children:[e==="zip"?s("chat.code-upload.drop-zone","Drop here a .zip file here or"):s("chat.code-upload.drop-zone-folder","Drop here a folder here or")," ",g.jsx(Fe,{variant:"omega",textColor:"primary600",onClick:d,children:s("chat.code-upload.drop-zone-browse","browse files")})]}),n&&g.jsx(Fe,{variant:"pi",textColor:"danger600",children:n})]}),g.jsx(De,{tag:"input",position:"absolute",left:0,right:0,bottom:0,top:0,width:"100%",name:"code","aria-label":"Upload project",tabIndex:-1,zIndex:1,ref:o,onChange:h,style:{opacity:0,cursor:"pointer"},type:"file",...e==="zip"?{accept:".zip",multiple:!1}:{multiple:!0,webkitdirectory:"",directory:""}})]})},J8=({setFileName:e,error:t,processZipFile:n,processFolder:r})=>{const{t:a}=Vn(),{nextStep:o}=Q_();return g.jsxs(Oe,{direction:"column",gap:6,alignItems:"start",width:"100%",children:[g.jsxs(Oe,{direction:"column",gap:2,alignItems:"start",children:[g.jsx(Fe,{variant:"beta",children:a("chat.code-upload.title","Import code")}),g.jsx(Fe,{variant:"omega",textColor:"neutral600",children:a("chat.code-upload.description","Your app will be analyzed by AI. Make sure to remove all sensitive data before importation.")})]}),g.jsxs(Oe,{gap:3,width:"100%",wrap:"wrap",children:[g.jsx(De,{flex:1,minWidth:"200px",children:g.jsx(ov,{importType:"zip",onAddFiles:s=>{if(s.length>0){const l=s[0];e(l.name.replace(".zip","")),o(),n(l)}},error:t})}),g.jsx(De,{flex:1,minWidth:"200px",children:g.jsx(ov,{importType:"folder",onAddFiles:async s=>{if(s.length>0)try{const p=(s[0].webkitRelativePath||"").split("/")[0]||"Project";e(p),o(),await r(s)}catch(l){console.error("Error processing folder:",l)}},error:t})})]})]})},K8=({projectName:e,isLoading:t,error:n})=>{const{t:r}=Vn();return g.jsxs(Oe,{direction:"column",gap:6,alignItems:"start",width:"100%",children:[g.jsxs(Oe,{direction:"column",gap:2,alignItems:"start",children:[g.jsx(Fe,{variant:"beta",children:r("chat.code-upload.confirmation-title","Confirm Code Import")}),g.jsx(Fe,{variant:"omega",textColor:"neutral600",children:r("chat.code-upload.confirmation-description","Your code is ready to be imported. Click finish to add it to your chat.")})]}),g.jsx(De,{width:"100%",children:g.jsx(gd,{attachment:{id:Sl(),status:t?"loading":"ready",filename:e||"",url:"",type:"file",mediaType:Hb},error:n,minWidth:"256px"})})]})},Y8=()=>{const[e,t]=V.useState(null),[n,r]=V.useState(null),{t:a}=Vn(),{addAttachments:o}=qo(),{processZipFile:s,processFolder:l,isLoading:u,error:p}=V8({onSuccess:I=>r(I)}),{isCodeUploadOpen:d,closeCodeUpload:h,submitOnFinish:m}=ef(),{sendMessage:v,openChat:y,input:_,setInput:b}=_r(),k=()=>{t(null),r(null),h()},E=async()=>{y(),n&&m?v({role:"user",parts:[{type:"text",text:"Create schemas from my uploaded project"},n]}):n&&(_||b("Create schemas from my uploaded project"),o([n])),h()},T=()=>!!n;return g.jsxs(Va,{open:d,onOpenChange:I=>{I||k()},title:a("chat.code-upload.header","Import code"),onCancel:k,onComplete:E,children:[g.jsx(Va.Step,{title:a("chat.code-upload.step1-title","Import code"),nextLabel:a("chat.code-upload.continue-button","Continue"),cancelLabel:a("common.cancel","Cancel"),disableNext:!n||u,onNext:T,children:g.jsx(J8,{setFileName:t,error:p,processZipFile:s,processFolder:l})}),g.jsx(Va.Step,{title:a("chat.code-upload.step2-title","Confirm"),nextLabel:a("common.finish","Finish"),backLabel:a("form.button.back","Back"),disableNext:!n||u,children:g.jsx(K8,{projectName:e,isLoading:u,error:p})})]})},X8=xt(De)`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 160px;
  width: 100%;
  border-radius: 4px 4px 0 0;
  overflow: hidden;
  cursor: pointer;
`,Q8=xt(md)`
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  // make it appear gracefully when first rendering
  animation: ${ki.fadeIn} 0.3s ease;
`,eH=xt(FI)`
  height: 100%;
  width: 100%;
  ${({$selected:e,theme:t})=>e?`
      border: 2px solid ${t.colors.primary600};
      outline: 0px solid transparent;
    `:`
      border: 2px solid transparent;
      outline: 1px solid ${t.colors.neutral200};
    `}
  transition: all 0.2s ease-in-out;
`,tH=({imageUrl:e,imageName:t,selected:n=!1,onSelect:r})=>g.jsx(ol.Root,{src:e,alt:t,children:g.jsxs(eH,{role:"button",$selected:n,children:[g.jsxs(OI,{children:[g.jsx(MI,{checked:n,onCheckedChange:r}),g.jsx(zI,{position:"end",children:g.jsx(ol.Trigger,{children:g.jsx(br,{label:"Preview",type:"button",children:g.jsx(rb,{})})})}),g.jsx(X8,{onClick:r,children:g.jsx(Q8,{src:e,alt:t})})]}),g.jsx(PI,{children:g.jsx(NI,{children:g.jsx($I,{children:t})})})]})}),bw="strapi-ai-figma-token",tf=()=>{try{return localStorage.getItem(bw)||""}catch(e){return console.error("Error accessing localStorage:",e),""}},nH=e=>{try{localStorage.setItem(bw,e)}catch(t){console.error("Error saving to localStorage:",t)}},Zp=()=>!!tf(),rH=e=>{const t=/figma\.com\/(?:file|design)\/([a-zA-Z0-9]+)\/.*[?&]node-id=([^&]+)/,n=e.match(t);if(!n)throw new Error("Invalid Figma URL");const r=n[1],a=decodeURIComponent(n[2]).replace(/-/g,":");return{fileKey:r,nodeId:a}},xw=()=>{const e=tf();if(!e)throw new Error("Figma API token is required");return e},aH=async(e,t)=>{const n=xw();try{const r=`https://api.figma.com/v1/files/${e}/nodes?ids=${t}`,a=await fetch(r,{headers:{"X-Figma-Token":n}});if(!a.ok)throw new Error(`Figma API error: ${a.status} ${a.statusText}`);return(await a.json()).nodes[t]}catch(r){const a=r instanceof Error?r.message:"Failed to fetch Figma data";throw new Error(a)}},_w=e=>{const t=[];if(e.type==="FRAME")return t.push({id:e.id,name:e.name}),t;if(e.children&&e.children.length>0)for(const n of e.children)t.push(..._w(n));return t},iH=async(e,t)=>{const n=xw();if(t.length===0)return{images:{}};try{const r=t.slice(0,50).join(","),a=`https://api.figma.com/v1/images/${e}?ids=${r}&format=png&scale=0.4`,o=await fetch(a,{headers:{"X-Figma-Token":n}});if(!o.ok){const l=await o.text();throw new Error(`Figma API image error: ${o.status} ${o.statusText} - ${l}`)}const s=await o.json();if(s.err)throw new Error(`Figma API image error: ${s.err}`);return s}catch(r){const a=r instanceof Error?r.message:"Failed to fetch Figma node images";throw new Error(a)}};function oH({onSuccess:e,onError:t}={}){const[n,r]=V.useState(!1),[a,o]=V.useState(null);return{processFigmaUrl:async l=>{try{if(!Zp()){const k="Figma API token is required";throw o(k),t?.(k),new Error(k)}r(!0),o(null);const{fileKey:u,nodeId:p}=rH(l),d=await aH(u,p);if(!d.document)return;const h=_w(d.document),m=new Map(h.map(k=>[k.id,k.name])),v=h.map(k=>k.id),_=(await iH(u,v)).images,b=Object.entries(_).map(([k,E])=>({id:k,type:"file",filename:m.get(k),mediaType:"image/png",url:E,status:"ready"}));return e?.(b),b}catch(u){const p=u instanceof Error?u.message:"Unknown error processing Figma URL";throw o(p),t?.(p),console.error("Error processing Figma URL:",u),u}finally{r(!1)}},isLoading:n,error:a}}const ww=V.createContext({isFigmaUploadOpen:!1,submitOnFinish:!1,openFigmaUpload:()=>{},closeFigmaUpload:()=>{}}),nf=()=>{const e=V.useContext(ww);if(!e)throw new Error("useUploadFigmaToChat must be used within an UploadFigmaToChatProvider");return e},sH=({children:e})=>{const[t,n]=V.useState(!1),[r,a]=V.useState(!1),o=l=>{n(!0),a(l??!1)},s=()=>n(!1);return g.jsxs(ww.Provider,{value:{isFigmaUploadOpen:t,submitOnFinish:r,openFigmaUpload:o,closeFigmaUpload:s},children:[t&&g.jsx(uH,{}),e]})},lH=({figmaUrl:e,setFigmaUrl:t})=>{const{t:n}=Vn(),{isLoading:r}=Q_(),[a,o]=V.useState(!Zp()),[s,l]=V.useState(tf),u=()=>{s.trim()&&(nH(s),o(!1))};return a?g.jsxs(Oe,{direction:"column",gap:6,alignItems:"start",children:[g.jsxs(Oe,{direction:"column",gap:2,alignItems:"start",children:[g.jsx(Fe,{variant:"beta",children:n("chat.figma-upload.token-title","Enter Figma API Token")}),g.jsx(Fe,{variant:"omega",textColor:"neutral600",children:n("chat.figma-upload.token-description","To access your Figma designs, you need to provide a personal access token. This will be stored securely in your browser.")}),g.jsx(Rl,{href:"https://help.figma.com/hc/en-us/articles/8085703771159-Manage-personal-access-tokens",isExternal:!0,children:n("chat.figma-upload.token-help","How to get a Figma API token")})]}),g.jsx(De,{width:"100%",children:g.jsx(ra,{name:"figma-token",placeholder:n("chat.figma-upload.token-placeholder","Enter Figma API token"),"aria-label":n("chat.figma-upload.token-placeholder","Enter Figma API token"),value:s,onChange:p=>l(p.target.value),width:"100%",disabled:r,type:"password"})}),g.jsxs(Oe,{gap:2,children:[g.jsx(vt,{onClick:u,disabled:!s.trim(),variant:"secondary",children:n("chat.figma-upload.save-token","Save token")}),g.jsx(vt,{onClick:()=>o(!1),variant:"tertiary",disabled:!Zp(),children:n("chat.figma-upload.cancel","Cancel")})]})]}):g.jsxs(Oe,{direction:"column",gap:6,alignItems:"start",children:[g.jsxs(Oe,{direction:"column",gap:2,alignItems:"start",width:"100%",children:[g.jsxs(Oe,{justifyContent:"space-between",alignItems:"center",width:"100%",children:[g.jsx(Fe,{variant:"beta",children:n("chat.figma-upload.title","Import Figma Design")}),g.jsx(vt,{onClick:()=>o(!0),variant:"tertiary",size:"S",children:n("chat.figma-upload.edit-token","Edit API token")})]}),g.jsx(Fe,{variant:"omega",textColor:"neutral600",children:n("chat.figma-upload.description","Ask to turn your designs into schemas by attaching a link to one or multiple frames in your Figma files. (Max 15 frames)")})]}),g.jsx(De,{width:"100%",children:g.jsx(ra,{name:"figma-url",placeholder:n("chat.figma-upload.url-placeholder","Enter Figma URL"),"aria-label":n("chat.figma-upload.url-placeholder","Enter Figma URL"),value:e,onChange:p=>t(p.target.value),width:"100%",disabled:r,type:"url"})})]})},cH=({images:e,selectedImages:t,setSelectedImages:n})=>{const{t:r}=Vn(),a=()=>{if(t.length===e.length)n([]);else{const s=e.map(l=>l.id);n(s)}};if(e.length===0)return g.jsx(Oe,{direction:"column",gap:4,alignItems:"center",padding:4,children:g.jsx(Fe,{variant:"omega",children:r("chat.figma-upload.no-images","No frames found in the Figma file.")})});const o=s=>{const l=t.includes(s)?t.filter(u=>u!==s):[...t,s];n(l)};return g.jsxs(Oe,{direction:"column",gap:4,alignItems:"start",width:"100%",height:"min(45vh, 400px)",children:[g.jsxs(Oe,{justifyContent:"space-between",width:"100%",alignItems:"center",children:[g.jsx(Fe,{variant:"beta",children:r("chat.figma-upload.select-images","Select Frames to Import")}),g.jsxs(Oe,{gap:3,alignItems:"center",children:[g.jsxs(Fe,{children:[t.length," of ",e.length," selected"]}),g.jsx(vt,{onClick:a,type:"button",variant:"secondary",children:t.length===e.length?r("chat.figma-upload.deselect-all","Deselect All"):r("chat.figma-upload.select-all","Select All")})]})]}),g.jsx(De,{paddingRight:4,width:"100%",style:{overflowY:"auto"},children:g.jsx(vr.Root,{gap:4,children:e.map((s,l)=>{const u=t.includes(s.id);return g.jsx(vr.Item,{col:6,xs:12,padding:"1px",children:g.jsx(tH,{imageUrl:s.url,imageName:s.filename||`Frame ${l+1}`,selected:u,onSelect:()=>o(s.id)})},s.id)})})})]})},uH=()=>{const[e,t]=V.useState(""),[n,r]=V.useState([]),[a,o]=V.useState([]),{t:s}=Vn(),{addAttachments:l}=qo(),{isFigmaUploadOpen:u,closeFigmaUpload:p,submitOnFinish:d}=nf(),{input:h,setInput:m,setMessages:v,sendMessage:y,openChat:_}=_r(),{processFigmaUrl:b,isLoading:k,error:E}=oH({onSuccess:U=>{r(U);const B=U.slice(0,15).map(J=>J.id);o(B)}}),T=async()=>(await b(e),!0),I=U=>{if(!U)return!1;try{const B=new URL(U);return B.hostname==="www.figma.com"||B.hostname==="figma.com"}catch{return!1}},N=()=>{t(""),r([]),o([]),p()},M=()=>{const U=n.filter(B=>a.includes(B.id));if(U.length===0){p();return}_(),d?(y({role:"user",parts:[{type:"text",text:"Create schemas from the attached images"},...U]}),p()):(h||m("Create schemas from the attached images"),l(U),p())};return g.jsxs(Va,{open:u,onOpenChange:U=>{U||N()},title:s("chat.figma-upload.header","Import from Figma"),onCancel:N,onComplete:M,children:[g.jsx(Va.Step,{title:s("chat.figma-upload.step1-title","Enter Figma URL"),nextLabel:s("chat.figma-upload.import-button","Import"),cancelLabel:s("form.button.cancel","Cancel"),disableNext:!e||k||!I(e),onNext:T,children:g.jsx(lH,{figmaUrl:e,setFigmaUrl:t,error:E})}),g.jsx(Va.Step,{title:s("chat.figma-upload.step2-title","Preview Images"),nextLabel:s("form.button.finish","Finish"),backLabel:s("form.button.back","Back"),disableNext:a.length===0,children:g.jsx(cH,{images:n,selectedImages:a,setSelectedImages:o})})]})};var pH="__lodash_hash_undefined__";function dH(e){return this.__data__.set(e,pH),this}var fH=dH;function hH(e){return this.__data__.has(e)}var mH=hH,gH=DI,yH=fH,vH=mH;function Il(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new gH;++t<n;)this.add(e[t])}Il.prototype.add=Il.prototype.push=yH;Il.prototype.has=vH;var kw=Il;function bH(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var xH=bH;function _H(e,t){return e.has(t)}var Cw=_H,wH=kw,kH=xH,CH=Cw,SH=1,EH=2;function AH(e,t,n,r,a,o){var s=n&SH,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var p=o.get(e),d=o.get(t);if(p&&d)return p==t&&d==e;var h=-1,m=!0,v=n&EH?new wH:void 0;for(o.set(e,t),o.set(t,e);++h<l;){var y=e[h],_=t[h];if(r)var b=s?r(_,y,h,t,e,o):r(y,_,h,e,t,o);if(b!==void 0){if(b)continue;m=!1;break}if(v){if(!kH(t,function(k,E){if(!CH(v,E)&&(y===k||a(y,k,n,r,o)))return v.push(E)})){m=!1;break}}else if(!(y===_||a(y,_,n,r,o))){m=!1;break}}return o.delete(e),o.delete(t),m}var Sw=AH;function TH(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var IH=TH;function jH(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var rf=jH,sv=LI,lv=BI,RH=UI,OH=Sw,MH=IH,zH=rf,PH=1,NH=2,$H="[object Boolean]",FH="[object Date]",DH="[object Error]",LH="[object Map]",BH="[object Number]",UH="[object RegExp]",ZH="[object Set]",HH="[object String]",qH="[object Symbol]",WH="[object ArrayBuffer]",VH="[object DataView]",cv=sv?sv.prototype:void 0,Yu=cv?cv.valueOf:void 0;function GH(e,t,n,r,a,o,s){switch(n){case VH:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case WH:return!(e.byteLength!=t.byteLength||!o(new lv(e),new lv(t)));case $H:case FH:case BH:return RH(+e,+t);case DH:return e.name==t.name&&e.message==t.message;case UH:case HH:return e==t+"";case LH:var l=MH;case ZH:var u=r&PH;if(l||(l=zH),e.size!=t.size&&!u)return!1;var p=s.get(e);if(p)return p==t;r|=NH,s.set(e,t);var d=OH(l(e),l(t),r,a,o,s);return s.delete(e),d;case qH:if(Yu)return Yu.call(e)==Yu.call(t)}return!1}var JH=GH,uv=ZI,KH=1,YH=Object.prototype,XH=YH.hasOwnProperty;function QH(e,t,n,r,a,o){var s=n&KH,l=uv(e),u=l.length,p=uv(t),d=p.length;if(u!=d&&!s)return!1;for(var h=u;h--;){var m=l[h];if(!(s?m in t:XH.call(t,m)))return!1}var v=o.get(e),y=o.get(t);if(v&&y)return v==t&&y==e;var _=!0;o.set(e,t),o.set(t,e);for(var b=s;++h<u;){m=l[h];var k=e[m],E=t[m];if(r)var T=s?r(E,k,m,t,e,o):r(k,E,m,e,t,o);if(!(T===void 0?k===E||a(k,E,n,r,o):T)){_=!1;break}b||(b=m=="constructor")}if(_&&!b){var I=e.constructor,N=t.constructor;I!=N&&"constructor"in e&&"constructor"in t&&!(typeof I=="function"&&I instanceof I&&typeof N=="function"&&N instanceof N)&&(_=!1)}return o.delete(e),o.delete(t),_}var eq=QH,Xu=ab,tq=Sw,nq=JH,rq=eq,pv=HI,dv=Fo,fv=qI,aq=WI,iq=1,hv="[object Arguments]",mv="[object Array]",Js="[object Object]",oq=Object.prototype,gv=oq.hasOwnProperty;function sq(e,t,n,r,a,o){var s=dv(e),l=dv(t),u=s?mv:pv(e),p=l?mv:pv(t);u=u==hv?Js:u,p=p==hv?Js:p;var d=u==Js,h=p==Js,m=u==p;if(m&&fv(e)){if(!fv(t))return!1;s=!0,d=!1}if(m&&!d)return o||(o=new Xu),s||aq(e)?tq(e,t,n,r,a,o):nq(e,t,u,n,r,a,o);if(!(n&iq)){var v=d&&gv.call(e,"__wrapped__"),y=h&&gv.call(t,"__wrapped__");if(v||y){var _=v?e.value():e,b=y?t.value():t;return o||(o=new Xu),a(_,b,n,r,o)}}return m?(o||(o=new Xu),rq(e,t,n,r,a,o)):!1}var lq=sq,cq=lq,yv=ib;function Ew(e,t,n,r,a){return e===t?!0:e==null||t==null||!yv(e)&&!yv(t)?e!==e&&t!==t:cq(e,t,n,r,Ew,a)}var af=Ew,uq=af;function pq(e,t){return uq(e,t)}var dq=pq;const No=wn(dq),fq={create:"NEW",remove:"REMOVED",update:"CHANGED"},Qu=(e,t,n)=>({...t,name:e,status:n}),hq=(e,t,n)=>{if(!t||n?.status==="NEW")return"NEW";const r=al(e,["status"]),a=al(t,["status"]);return No(r,a)?t.status:"CHANGED"},vv=(e,t)=>e.action?fq[e.action]:t?t.status:"NEW",bv=({action:e,attributes:t},n)=>{if(e==="create"||!n)return Object.entries(t).map(([s,l])=>Qu(s,l,"NEW"));const r=n.attributes.reduce((s,l)=>({...s,[l.name]:l}),{}),a=Object.entries(t).map(([s,l])=>{const u=r[s],p=hq({...l,name:s},u,n);return Qu(s,l,p)});if(n?.status==="NEW")return a;const o=Object.entries(r).filter(([s])=>!t[s]).map(([s,l])=>Qu(s,l,"REMOVED"));return[...a,...o]},mq=(e,t)=>{const n=Ri.singular(e.name).toLowerCase().replace(/ /g,"-"),r=Ri.plural(e.name).toLowerCase().replace(/ /g,"-");return e.modelType==="component"?{category:e.category||"default",modelName:n,attributes:bv(e,t),info:{displayName:e.name,description:e.description},modelType:e.modelType,uid:e.uid,collectionName:r,status:vv(e,t),globalId:n}:{uid:e.uid,modelType:e.modelType,modelName:n,kind:e.kind,info:{displayName:e.name.charAt(0).toUpperCase()+e.name.slice(1),singularName:t?.info?.singularName||n,pluralName:t?.info?.pluralName||r},collectionName:r,attributes:bv(e,t),options:{draftAndPublish:e.options?.draftAndPublish??!1},pluginOptions:{i18n:{localized:e.options?.localized??!1}},visible:!0,status:vv(e,t),globalId:n,restrictRelationsTo:null}},gq=V.createContext(void 0),yq={create:"add",update:"update",remove:"delete"};function vq(e){if(e.role!=="assistant")return[];const t=[];return e.parts?.forEach((n,r)=>{if(n&&typeof n=="object"&&n.type==="tool-schemaGenerationTool"){const a=n.output;if(!a||a.error||!Array.isArray(a.schemas))return;const o=n.toolCallId??`${e.id}-${r}`;a.schemas.forEach((s,l)=>{const u=`${o}-${s.uid??s.name??l}`,p=s.action||"update";t.push({type:p,schema:s,revisionId:u})})}}),t}const bq=({children:e})=>{const[t,n]=V.useState(null),{messages:r,status:a}=_r(),{contentTypes:o,components:s,applyChange:l}=ar(),u=Ka("SchemaChatProvider",d=>d.dispatch),p=Ka("SchemaChatProvider",d=>d.state);return V.useEffect(()=>{const d=r[r.length-1];if(!d||d.role!=="assistant"||a!=="ready")return;const h=vq(d),m=p.completedActions.includes(il.contentTypeBuilder.addField);h.forEach(v=>{const y=o[v.schema.uid]||s[v.schema.uid],_=mq(v.schema,y);!m&&v.schema.attributes&&v.type!=="remove"&&Object.keys(v.schema.attributes).length>0&&u({type:"set_completed_actions",payload:[il.contentTypeBuilder.addField]}),l({action:yq[v.type],schema:_})}),n(d.id)},[r]),g.jsx(gq.Provider,{value:{lastRevisedId:t,setLastRevisedId:n},children:e})},Aw=V.createContext(void 0),xv=()=>Math.random().toString(36).substring(2,15),xq=({children:e,defaultOpen:t=!1})=>{const[n,r]=V.useState(xv()),[a,o]=V.useState(t),[s,l]=V.useState(0),[u,p]=V.useState(""),[d,h]=V.useState([]),{trackUsage:m}=Di(),{components:v,contentTypes:y}=ar(),{lastSeenSchemas:_}=f9(),b=V.useMemo(()=>[...Object.values(y).filter(O=>O.status!=="REMOVED").filter(O=>O.uid!=="plugin::users-permissions.user").filter(O=>O.visible).map($y),...Object.values(v).filter(O=>O.status!=="REMOVED").map($y)],[y,v]),{id:k,messages:E,sendMessage:T,status:I,stop:N,...M}=c9({id:n?.toString(),experimental_throttle:100}),U=async(O,K)=>{if(!(I==="streaming"||I==="submitted"))return T(O,{...K,body:{...K?.body,schemas:b,metadata:{lastSeenSchemas:_.map(w=>w.uid)}}})},B=O=>{if(O.preventDefault(),I==="streaming"||I==="submitted")return;const K=d.filter(L=>L.status!=="loading");if(u.trim().length===0&&d.length===0)return;const w=K.map(L=>({type:"file",filename:L.filename,mediaType:L.mediaType,url:L.url}));U({text:u,files:w}),p(""),h([])},{title:J,generateTitle:Y,resetTitle:q}=u9({chatId:k,messages:E});V.useEffect(()=>{E.length>=1&&!J&&Y()},[E.length,J,Y]),V.useEffect(()=>{I==="error"?m("didAnswerMessage",{successful:!1}):I==="ready"&&E.length>0&&E[E.length-1]?.role==="assistant"&&m("didAnswerMessage",{successful:!0})},[I,E,m]);const pe=ob();return g.jsx(Aw.Provider,{value:{isChatEnabled:pe,id:k,status:I,stop:N,sendMessage:U,...M,messages:E,handleSubmit:B,input:u,setInput:p,handleInputChange:O=>p(O.target.value),reset:()=>{N(),r(xv()),m("didStartNewChat"),q()},schemas:b,title:J,isChatOpen:a,openChat:()=>{o(!0),s===0&&m("didStartNewChat"),l(O=>O+1)},closeChat:()=>o(!1),attachments:d,setAttachments:h},children:e})},_q=({children:e,defaultOpen:t=!1})=>g.jsx(xq,{defaultOpen:t,children:g.jsx(bq,{children:g.jsx(G8,{children:g.jsx(sH,{children:g.jsx(wq,{children:e})})})})});function _r(){const e=V.useContext(Aw);return e===void 0?(console.warn("useStrapiChat was called outside of ChatProvider. This is only allowed in development mode."),{}):e}const Tw=()=>{const{fetch:e,isPending:t,error:n}=s9(),{id:r,messages:a,schemas:o}=_r(),{toggleNotification:s}=Fi(),{trackUsage:l}=Di(),{t:u}=Vn(),[p,d]=V.useState({}),h=y=>!!p[y];return{upvoteMessage:y=>h(y)?Promise.resolve():(l("didVoteAnswer",{value:"positive"}),s({type:"success",message:u("chat.feedback.submitted","Thank you for your feedback! ")}),d(_=>({..._,[y]:"upvote"})),e({body:{type:"upvote",chatId:r,messageId:y,messages:a,schemas:o}})),downvoteMessage:(y,_,b)=>(l("didVoteAnswer",{value:"negative"}),s({type:"success",message:u("chat.feedback.submitted","Thank you for your feedback! ")}),e({body:{type:"downvote",chatId:r,messageId:y,messages:a,feedback:_,reasons:b,schemas:o}})),isPending:t,error:n}},Iw=V.createContext({isFeedbackModalOpen:!1,currentMessageId:null,openFeedbackModal:()=>{},closeFeedbackModal:()=>{}}),jw=()=>V.useContext(Iw),wq=({children:e})=>{const[t,n]=V.useState(!1),[r,a]=V.useState(null),o=l=>{a(l),n(!0)},s=()=>{n(!1),a(null)};return g.jsxs(Iw.Provider,{value:{isFeedbackModalOpen:t,currentMessageId:r,openFeedbackModal:o,closeFeedbackModal:s},children:[t&&r&&g.jsx(Sq,{}),e]})},kq=xt(Oe)`
  &:hover {
    background-color: ${({theme:e})=>e.colors.neutral100};
  }

  &.selected {
    background-color: ${({theme:e})=>e.colors.primary100};
    border-color: ${({theme:e})=>e.colors.primary200};
  }
`,Cq=({id:e,label:t,selected:n,onClick:r})=>g.jsxs(kq,{className:n?"selected":"",justifyContent:"space-between",hasRadius:!0,width:"100%",cursor:"pointer",borderColor:"neutral200",padding:3,gap:3,onClick:()=>r(e),children:[g.jsx(Fe,{variant:"omega",fontWeight:"bold",children:t}),g.jsx(Ol,{name:`feedback-${e}`,value:e,checked:n,onChange:()=>r(e)})]}),Sq=()=>{const[e,t]=V.useState(""),[n,r]=V.useState([]),{t:a}=Vn(),{toggleNotification:o}=Fi(),{closeFeedbackModal:s,currentMessageId:l}=jw(),{downvoteMessage:u,isPending:p}=Tw(),d=[{id:"invalid_schema",label:a("chat.feedback.reason.invalid_schema","Invalid schema")},{id:"bad_recommendation",label:a("chat.feedback.reason.bad_recommendation","Bad recommendation")},{id:"slow",label:a("chat.feedback.reason.slow","Slow")},{id:"instructions_ignored",label:a("chat.feedback.reason.instructions_ignored","Instructions ignored")},{id:"being_lazy",label:a("chat.feedback.reason.being_lazy","Being lazy")},{id:"other",label:a("chat.feedback.reason.other","Other")}],h=v=>{r(y=>y.includes(v)?y.filter(_=>_!==v):[...y,v])},m=async()=>{if(n.length!==0)try{await u(l,e,n),t(""),r([]),s()}catch{o({type:"danger",message:a("chat.feedback.error","An error occurred while submitting your feedback")})}};return g.jsx(yn.Root,{open:!0,onOpenChange:s,children:g.jsxs(yn.Content,{children:[g.jsx(yn.Header,{children:g.jsx(Fe,{variant:"omega",fontWeight:"bold",children:a("chat.feedback.title","Give feedback")})}),g.jsx(yn.Body,{children:g.jsxs(Oe,{direction:"column",alignItems:"start",gap:6,width:"100%",children:[g.jsxs(Oe,{direction:"column",alignItems:"start",gap:2,children:[g.jsx(Fe,{variant:"beta",fontWeight:"bold",children:a("chat.feedback.title","Give feedback")}),g.jsx(Fe,{variant:"omega",children:a("chat.feedback.subtitle","Provide additional feedback on this message. Select all that apply.")})]}),g.jsx(vr.Root,{width:"100%",gap:2,children:d.map(v=>g.jsx(vr.Item,{col:6,xs:12,children:g.jsx(Cq,{id:v.id,label:v.label,selected:n.includes(v.id),onClick:h},v.id)},v.id))}),g.jsxs(Oe,{direction:"column",gap:2,width:"100%",alignItems:"start",children:[g.jsx(Fe,{variant:"omega",children:a("chat.feedback.comment.label","How can we improve? (optional)")}),g.jsx(De,{width:"100%",children:g.jsx(ad,{name:"feedback",placeholder:a("chat.feedback.placeholder","Your feedback..."),onChange:v=>t(v.target.value),value:e})})]})]})}),g.jsxs(yn.Footer,{children:[g.jsx(yn.Close,{children:g.jsx(vt,{variant:"tertiary",onClick:s,children:a("form.button.cancel","Cancel")})}),g.jsx(vt,{onClick:m,loading:p,disabled:n.length===0,children:a("form.button.submit","Submit")})]})]})})},Rw=V.createContext(void 0),Ow=()=>{const e=V.useContext(Rw);if(!e)throw new Error("Collapsible components must be wrapped in <Collapsible />");return e},Eq=xt(De)`
  overflow: hidden;
  transition: height ${({theme:e})=>e.motion.timings[200]}
    ${({theme:e})=>e.motion.easings.easeOutQuad};
`,Aq=({children:e,defaultOpen:t=!1})=>{const[n,r]=V.useState(t);return g.jsx(Rw.Provider,{value:{open:n,toggle:()=>r(a=>!a)},children:e})},Tq=({children:e})=>{const{toggle:t,open:n}=Ow();return g.jsx(De,{onClick:t,style:{cursor:"pointer"},children:typeof e=="function"?e({open:n}):e})},Iq=({children:e})=>{const{open:t}=Ow(),n=V.useRef(null),[r,a]=V.useState(0);return V.useLayoutEffect(()=>{if(n.current){const o=n.current.scrollHeight;a(o)}},[e]),g.jsx(Eq,{ref:n,role:"region","aria-hidden":!t,style:{height:t?`${r}px`:0,visibility:r===0?"hidden":"visible"},children:e})},jq=Ba`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Rq=xt(GI)`
  animation: ${jq} 1s linear infinite;
`,Oq=xt(De)`
  transform: rotate(${({$open:e})=>e?"180deg":"0deg"});
  transition: transform ${({theme:e})=>e.motion.timings[200]}
    ${({theme:e})=>e.motion.easings.easeOutQuad};
`,Mq=({status:e})=>{switch(e){case"update":return g.jsx(Fe,{fontWeight:"semiBold",textColor:"warning500",children:"M"});case"remove":return g.jsx(Fe,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"create":return g.jsx(Fe,{fontWeight:"semiBold",textColor:"success500",children:"N"});default:return null}},zq=({title:e,steps:t,state:n})=>{const r=()=>{switch(n){case"success":return g.jsx(lb,{fill:"success500"});case"loading":return g.jsx(Rq,{});case"error":return g.jsx(rd,{fill:"danger500"});default:return null}};return g.jsx(De,{borderWidth:"1px",borderColor:"neutral200",borderStyle:"solid",hasRadius:!0,marginBottom:3,width:"336px",children:g.jsxs(Aq,{defaultOpen:!1,children:[g.jsx(Tq,{children:({open:a})=>g.jsx(De,{padding:3,borderColor:"neutral200",borderWidth:a?"0 0 1px 0":"0",borderStyle:"solid",children:g.jsxs(Oe,{gap:2,alignItems:"center",children:[r(),g.jsx(Fe,{children:e}),g.jsx(Oe,{marginLeft:"auto",children:g.jsx(Oq,{as:VI,$open:a})})]})})}),g.jsx(Iq,{children:g.jsx(Oe,{gap:3,padding:3,direction:"column",children:t.map(a=>g.jsxs(Oe,{gap:2,justifyContent:"space-between",width:"100%",padding:[0,1],children:[a.link?g.jsx(Rl,{tag:sb,to:a.link,children:g.jsx(Fe,{children:a.description})}):g.jsx(Fe,{children:a.description}),g.jsx(Mq,{status:a.status})]},a.id))})})]})})},Pq=xt(Fe)`
  max-width: 65ch;
  margin: 0 auto;
  overflow-wrap: anywhere;
  word-break: break-word;

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin-top: 1.25em;
    margin-bottom: 0.5em;
    font-weight: bold;
  }

  p {
    margin-bottom: 1em;
  }

  ul,
  ol {
    padding-left: 1.5em; /* indentation for bullet points */
    margin-bottom: 1em;
  }

  li {
    margin-bottom: 0.5em;
    list-style-type: disc; /* or whatever style you prefer */
  }

  strong {
    font-weight: bold;
  }

  /* code blocks, blockquotes, etc. */
  code {
    background-color: ${({theme:e})=>e.colors.neutral100};
    padding: 0.2em 0.4em;
    border-radius: ${({theme:e})=>e.borderRadius};
    border-color: ${({theme:e})=>e.colors.neutral150};
    border-style: solid;
    font-family: 'SF Mono', SFMono-Regular, ui-monospace, 'DejaVu Sans Mono', Menlo, Consolas,
      monospace;
  }

  /* links */
  a {
    color: ${({theme:e})=>e.colors.primary500};
    background-color: ${({theme:e})=>e.colors.neutral100};
    padding: 0.2em 0.4em;
    border-radius: ${({theme:e})=>e.borderRadius};
    border-color: ${({theme:e})=>e.colors.neutral150};
    border-style: solid;
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }
`,Nq=xt(Fe)`
  overflow-wrap: anywhere;
  word-break: break-word;
`,$q=e=>e&&typeof e=="object"&&e.type==="tool-schemaGenerationTool",Fq=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"",Dq=e=>{const t=(e.kind??e.modelType)==="component";if(e.uid)return t?`/plugins/content-type-builder/component-categories/${e.category??""}/${e.uid}`:`/plugins/content-type-builder/content-types/${e.uid}`},Lq=e=>{const t=e.output?.schemas??[],n=e.input?.schemas??[],r=t.length?t:n,a=r.length,o=e.output?e.output.error?"error":"success":"loading",s=r.map((u,p)=>({id:`${e.toolCallId??"schemaGenerationTool"}-${u.uid??u.name??p}`,description:Fq(u.name??u.uid??"Schema"),status:u.action==="create"||u.action==="update"||u.action==="remove"?u.action:"update",link:Dq(u)}));return{type:"marker",title:o==="success"?`Updated ${a} schema${a===1?"":"s"}`:o==="error"?`Failed to update schema${a===1?"":"s"}`:"Updating schemas",state:o,steps:s}},Bq=({part:e})=>{if(e.type==="text")return g.jsx(Pq,{children:g.jsx(CD,{components:{a:({node:t,...n})=>g.jsx("a",{target:"_blank",rel:"noopener noreferrer",...n})},children:e.text})});if($q(e)){const t=Lq(e);return g.jsx(zq,{...t})}return null},Uq=({message:e})=>{const t=e.parts.some(r=>r.type==="text"&&r.text.trim()!==""),n=e.parts.filter(r=>r.type==="file");return g.jsxs(Zb,{as:Oe,direction:"column",alignItems:"flex-end",style:{alignSelf:"flex-end"},gap:2,maxWidth:"80%",children:[t?g.jsx(De,{background:"neutral150",borderStyle:"none",padding:["10px","16px"],hasRadius:!0,children:e.parts.map((r,a)=>r.type!=="text"?null:g.jsx(Nq,{children:r.text},a))}):null,n.map((r,a)=>g.jsx(gd,{attachment:{...r,status:"ready"}},`${r.type==="file"?r.filename:r.type}-${a}`))]})},Zq=({message:e,isLoading:t})=>{const{upvoteMessage:n}=Tw(),{openFeedbackModal:r}=jw();return g.jsxs(De,{style:{alignSelf:"flex-start"},maxWidth:"90%",children:[e.parts.map((a,o)=>g.jsx(Bq,{part:a},o)),t?g.jsxs(Oe,{gap:1,children:[g.jsx(br,{label:"Upvote",size:"XS",variant:"ghost",onClick:()=>n(e.id),children:g.jsx(cb,{})}),g.jsx(br,{label:"Downvote",size:"XS",variant:"ghost",onClick:()=>r(e.id),children:g.jsx(ub,{})})]}):null]})},Hq=({message:e,isLoading:t})=>e.role==="user"?g.jsx(Uq,{message:e}):g.jsx(Zq,{message:e}),qq=xt(De).attrs({as:"textarea"})`
  border: none;
  resize: none;
  background: transparent;
  outline: none !important;
  width: 100%;
  min-height: 44px;
  max-height: 160px;
  line-height: ${({theme:e})=>e.lineHeights[4]};
  font-size: ${({theme:e})=>e.fontSizes[2]};
  color: ${({theme:e})=>e.colors.neutral800};
  padding-bottom: ${({theme:e})=>e.spaces[1]};
  overflow-y: auto;

  /* Show partial lines when content exceeds visible area */
  height: ${({rows:e,theme:t})=>e===5?`calc(${e} * ${t.lineHeights[4]} * 1em + 0.7em)`:`calc(${e} * ${t.lineHeights[4]} * 1em)`};

  &:disabled,
  &::placeholder {
    color: ${({theme:e})=>e.colors.neutral600};
  }
`,Wq=({value:e,onChange:t,onSubmit:n,placeholder:r})=>{const a=V.useRef(null),[o,s]=V.useState(1),l=p=>{if(!p)return 1;const d=(p.match(/\n/g)||[]).length+1;return Math.min(d,5)};V.useEffect(()=>{s(l(e))},[e]);const u=p=>{a.current?.value.trim()&&p.key==="Enter"&&!p.shiftKey&&n&&(p.preventDefault(),n(p),setTimeout(()=>{a.current?.focus()},10))};return V.useEffect(()=>{a.current?.focus()},[a]),g.jsx(qq,{ref:a,value:e,onChange:t,onKeyDown:u,placeholder:r,rows:o})},Vq=V.forwardRef(({children:e,onOpen:t,onClose:n,popoverPlacement:r,...a},o)=>{const s=V.useRef(null),l=JI(o,s),u=p=>{p&&typeof t=="function"?t():!p&&typeof n=="function"&&n()};return g.jsxs(Mn.Root,{onOpenChange:u,children:[g.jsx(Mn.Trigger,{ref:l,...a,children:a.label}),g.jsx(Mn.Content,{zIndex:1e4,popoverPlacement:r,children:e})]})}),ep=Mn.Item,Gq=xt(Oe)`
  @media (max-height: 500px) {
    display: none;
  }
`,Jq=()=>{const{sendMessage:e}=_r(),{t}=Vn(),{trackUsage:n}=Di(),r=[t("chat.input.defaults.generate","Generate a product schema"),t("chat.input.defaults.ctb","Tell me about the Content-Type Builder"),t("chat.input.defaults.strapi","Tell me about Strapi")],a={[t("chat.input.defaults.generate","Generate a product schema")]:"generate-product-schema",[t("chat.input.defaults.ctb","Tell me about the Content-Type Builder")]:"tell-me-about-the-content-type-builder",[t("chat.input.defaults.strapi","Tell me about Strapi")]:"tell-me-about-strapi"},o=t("chat.input.defaults.title","How can I help you?");return g.jsx(Zb,{children:g.jsxs(Gq,{direction:"column",alignItems:"flex-start",gap:3,children:[g.jsx(Fe,{variant:"omega",fontWeight:"bold",children:o}),g.jsx(Oe,{direction:"column",alignItems:"flex-start",gap:2,children:r.map(s=>g.jsx(vt,{startIcon:g.jsx(Ml,{fill:"neutral500"}),size:"M",variant:"tertiary",onClick:()=>{n("didUsePresetPrompt",{promptType:a[s]}),e({text:s})},children:g.jsx(Fe,{fontWeight:"regular",children:s})},s))})]})})},Kq=e=>{try{return JSON.parse(e.message).error}catch{return e}},Yq=()=>{const{error:e}=_r(),{t}=Vn(),n=t("chat.messages.error","Something went wrong."),r=t("chat.messages.too-many-requests","Too many requests, please try again later."),a=t("chat.messages.license-limit-reached","License limit reached, please try again tomorrow."),o=t("chat.messages.license-limit-exceeded","AI credit limit exceeded."),s=t("chat.messages.too-long-error","This conversation reached its maximum length. Start a new conversation");if(!e)return null;const l=Kq(e);return!l||typeof l!="string"?null:l===t9?g.jsx(po,{title:r,variant:"warning"}):l===n9?g.jsx(po,{title:a,variant:"warning"}):l.split(".")[0]===r9?g.jsx(po,{title:o,variant:"danger"}):l===a9?g.jsx(po,{title:s,variant:"danger"}):g.jsx(po,{title:n,variant:"danger"})},Xq=({messages:e})=>{const t=V.useRef(null),{status:n}=_r();return V.useEffect(()=>{const r=setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},20);return()=>clearTimeout(r)},[e,n]),g.jsxs(g.Fragment,{children:[g.jsxs(Oe,{direction:"column",gap:5,children:[e.map((r,a)=>g.jsx(Hq,{message:r,isLoading:(n==="streaming"||n==="submitted")&&a===e.length-1},r.id)),n==="error"&&g.jsx(Yq,{})]}),g.jsx("div",{ref:t})]})},Qq=()=>{const{attachments:e,removeAttachmentByIndex:t}=qo();return e.length?g.jsx(Ua.Attachments,{children:e.map((n,r)=>g.jsx(De,{maxWidth:"250px",children:g.jsx(gd,{attachment:n,onRemove:()=>t(r)})},n.filename))}):null},eW=()=>{const{attachFiles:e}=qo(),{openCodeUpload:t}=ef(),{openFigmaUpload:n}=nf(),{t:r}=Vn(),a=V.useRef(null),o=r("chat.tooltips.upload-attachments","Upload attachments"),s=r("chat.attachments.menu.import-code","Import code"),l=r("chat.attachments.menu.attach-image","Attach image"),u=r("chat.attachments.menu.import-figma","Import from Figma");return g.jsxs(Vq,{label:o,icon:g.jsx(od,{}),tag:br,popoverPlacement:"top-end",children:[g.jsx(ep,{startIcon:g.jsx(db,{}),onSelect:()=>t(),children:s}),g.jsx(ep,{startIcon:g.jsx(lx,{}),onSelect:()=>n(),children:u}),g.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,ref:a}),g.jsx(ep,{startIcon:g.jsx(KI,{}),onSelect:()=>{const p=a.current;p&&(p.onchange=d=>{const h=d.target;h.files&&h.files.length>0&&e(Array.from(h.files))},p.click())},children:l})]})},tW=({children:e})=>{const[t,n]=V.useState("");return V.useEffect(()=>{const r=["",".","..","..."];let a=0;const o=setInterval(()=>{a=(a+1)%r.length,n(r[a])},400);return()=>clearInterval(o)},[]),g.jsxs(Fe,{variant:"pi",textColor:"neutral600",children:[e,t]})},nW=e=>{const{input:t,handleSubmit:n,handleInputChange:r,messages:a,status:o,stop:s,attachments:l}=_r(),{t:u}=Vn(),p=o==="streaming"||o==="submitted";return g.jsx(g.Fragment,{children:g.jsx("form",{onSubmit:n,...e,children:g.jsxs(Ua.Root,{isLoading:p,gap:4,children:[g.jsxs(Ua.Header,{minHeight:0,children:[a.length===0&&g.jsx(Ua.HeaderItem,{children:g.jsx(Jq,{})}),p&&g.jsx(Ua.HeaderItem,{children:g.jsx(tW,{children:u("chat.input.thinking","Strapi AI is thinking")})})]}),g.jsxs(Ua.Content,{children:[g.jsx(ox.Area,{}),g.jsx(Qq,{}),g.jsx(De,{paddingBottom:3,children:g.jsx(Wq,{value:t,onChange:r,onSubmit:n,placeholder:u("chat.input.placeholder","Ask Strapi AI...")})}),g.jsxs(Ua.Actions,{children:[g.jsx(eW,{}),p?g.jsx(br,{label:u("chat.tooltips.stop-generation","Stop"),type:"button",variant:"default",onClick:d=>{d.preventDefault(),s()},children:g.jsx(Tz,{})}):g.jsx(br,{label:u("chat.tooltips.send-message","Send"),variant:"default",type:"submit",disabled:t.trim().length===0&&l.length===0,children:g.jsx(pb,{})})]})]})]})})})},rW=()=>{const{title:e,messages:t,isChatOpen:n,isChatEnabled:r,openChat:a,closeChat:o,reset:s}=_r(),{attachFiles:l}=qo(),{t:u}=Vn(),p=Ka("Chat",k=>k.state),h=ia("Chat",k=>k.currentEnvironment)==="production";V.useEffect(()=>{p.enabled&&p.tours.contentTypeBuilder?.currentStep===1&&!p.tours.contentTypeBuilder?.isCompleted&&!n&&a&&a()},[p.tours.contentTypeBuilder?.currentStep,p.tours.contentTypeBuilder?.isCompleted,p.enabled,n,a]);const m=u("chat.tooltips.open-chat","Open chat"),v=u("chat.tooltips.close-chat","Close chat"),y=u("chat.tooltips.create-chat","New conversation"),_=u("chat.header.default-title","New conversation"),b=u("chat.input.strapi-ai-can-make-errors","Strapi AI can make mistakes.");return!r||h?null:g.jsx(ox.Root,{onAddFiles:k=>{l(k)},children:g.jsxs(fo.Root,{size:"md",position:"bottom-right",isOpen:n,onToggle:n?o:a,toggleIcon:g.jsx(br,{onClick:n?o:a,label:n?v:m,variant:"default",size:"L",children:g.jsx(Ml,{})}),children:[g.jsxs(fo.Header,{children:[g.jsx(Fe,{tag:"h3",variant:"omega",fontWeight:"bold",children:e||_}),g.jsxs(Oe,{gap:0,children:[g.jsx(br,{label:y,variant:"ghost",onClick:s,children:g.jsx(va,{})}),g.jsx(fo.Close,{label:v})]})]}),g.jsx(fo.Body,{children:g.jsxs(id.contentTypeBuilder.AIChat,{children:[t.length?null:g.jsx(Fe,{variant:"pi",textColor:"neutral600",children:b}),g.jsx(Xq,{messages:t})]})}),g.jsx(fo.Footer,{children:g.jsx(nW,{})})]})})},ae=e=>`${ba}.${e}`,_v=({status:e})=>{switch(e){case"UNCHANGED":return null;case"CHANGED":return g.jsx(Fe,{fontWeight:"semiBold",textColor:"alternative500",children:"M"});case"REMOVED":return g.jsx(Fe,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"NEW":return g.jsx(Fe,{fontWeight:"semiBold",textColor:"success500",children:"N"})}},TX=({status:e})=>{switch(e){case"CHANGED":return g.jsx(Fs,{fontWeight:"bold",textColor:"alternative600",backgroundColor:"alternative100",borderColor:"alternative200",children:"Modified"});case"REMOVED":return g.jsx(Fs,{fontWeight:"bold",textColor:"danger600",backgroundColor:"danger100",borderColor:"danger200",children:"Deleted"});case"NEW":return g.jsx(Fs,{fontWeight:"bold",textColor:"success600",backgroundColor:"success100",borderColor:"success200",children:"New"});case"UNCHANGED":default:return g.jsx(Fs,{style:{visibility:"hidden"},fontWeight:"bold",textColor:"warning600",backgroundColor:"warning100",borderColor:"warning200",children:"Unchanged"})}};var aW=YI;function iW(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:aW(e,t,n)}var Mw=iW,oW="\\ud800-\\udfff",sW="\\u0300-\\u036f",lW="\\ufe20-\\ufe2f",cW="\\u20d0-\\u20ff",uW=sW+lW+cW,pW="\\ufe0e\\ufe0f",dW="\\u200d",fW=RegExp("["+dW+oW+uW+pW+"]");function hW(e){return fW.test(e)}var Yl=hW;function mW(e){return e.split("")}var gW=mW,zw="\\ud800-\\udfff",yW="\\u0300-\\u036f",vW="\\ufe20-\\ufe2f",bW="\\u20d0-\\u20ff",xW=yW+vW+bW,_W="\\ufe0e\\ufe0f",wW="["+zw+"]",Hp="["+xW+"]",qp="\\ud83c[\\udffb-\\udfff]",kW="(?:"+Hp+"|"+qp+")",Pw="[^"+zw+"]",Nw="(?:\\ud83c[\\udde6-\\uddff]){2}",$w="[\\ud800-\\udbff][\\udc00-\\udfff]",CW="\\u200d",Fw=kW+"?",Dw="["+_W+"]?",SW="(?:"+CW+"(?:"+[Pw,Nw,$w].join("|")+")"+Dw+Fw+")*",EW=Dw+Fw+SW,AW="(?:"+[Pw+Hp+"?",Hp,Nw,$w,wW].join("|")+")",TW=RegExp(qp+"(?="+qp+")|"+AW+EW,"g");function IW(e){return e.match(TW)||[]}var jW=IW,RW=gW,OW=Yl,MW=jW;function zW(e){return OW(e)?MW(e):RW(e)}var Lw=zW,PW=Mw,NW=Yl,$W=Lw,FW=sd;function DW(e){return function(t){t=FW(t);var n=NW(t)?$W(t):void 0,r=n?n[0]:t.charAt(0),a=n?PW(n,1).join(""):t.slice(1);return r[e]()+a}}var LW=DW,BW=LW,UW=BW("toUpperCase"),Bw=UW;const Ja=wn(Bw),Uw=V.createContext(),Zi=()=>V.useContext(Uw),ZW=()=>{const{componentsGroupedByCategory:e,isInDevelopmentMode:t,sortedContentTypesList:n}=ar(),{trackUsage:r}=Di(),[a,o]=V.useState(""),{onOpenModalCreateSchema:s}=Zi(),{locale:l}=yt(),{contains:u}=XI(l,{sensitivity:"base"}),p=QI(l,{sensitivity:"base"}),d=()=>{r("willCreateContentType"),s({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})},h=()=>{r("willCreateSingleType"),s({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})},m=()=>{r("willCreateComponent"),s({modalType:"component",kind:null,actionType:"create",forTarget:"component"})},v=Object.entries(e).map(([b,k])=>({name:b,title:Ja(b),links:k.map(E=>({name:E.uid,to:`/plugins/${ba}/component-categories/${b}/${E.uid}`,title:E.info.displayName,status:E.status})).sort((E,T)=>p.compare(E.title,T.title))})).sort((b,k)=>p.compare(b.title,k.title)),y=n.filter(b=>b.visible).map(b=>({kind:b.kind,name:b.name,to:b.to,title:b.title,status:b.status}));return{menu:[{name:"models",title:{id:`${ae("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:t?{id:`${ae("button.model.create")}`,defaultMessage:"Create new collection type",onClick:d}:void 0,links:y.filter(b=>b.kind==="collectionType")},{name:"singleTypes",title:{id:`${ae("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:t?{id:`${ae("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:h}:void 0,links:y.filter(b=>b.kind==="singleType")},{name:"components",title:{id:`${ae("menu.section.components.name")}`,defaultMessage:"Components"},customLink:t?{id:`${ae("button.component.create")}`,defaultMessage:"Create a new component",onClick:m}:void 0,links:v}].map(b=>{if(b.links.some(T=>"links"in T&&Array.isArray(T.links))){let T=0;return{...b,links:b.links.reduce((I,N)=>{const M="links"in N?N.links.filter(U=>u(U.title,a)):[];return M.length===0||(T+=M.length,I.push({...N,links:M.sort((U,B)=>p.compare(U.title,B.title))})),I},[]),linksCount:T}}const E=b.links.filter(T=>u(T.title,a)).sort((T,I)=>p.compare(T.title,I.title));return{...b,links:E,linksCount:E.length}}),search:{value:a,onChange:o,clear:()=>o("")}}},HW=xt(ld)`
  transform: scaleX(-1);
`,qW=xt(Mn.Item)`
  color: ${({theme:e})=>e.colors.danger600};

  &:hover {
    background: ${({theme:e,disabled:t})=>!t&&e.colors.danger100};
  }
`,WW=()=>{const{menu:e,search:t}=ZW(),{saveSchema:n,isModified:r,history:a,isInDevelopmentMode:o}=ar(),{formatMessage:s}=yt(),[l,u]=V.useState(!1),[p,d]=V.useState(!1);V.useEffect(()=>{if(!o)return;const b=k=>{(k.ctrlKey||k.metaKey)&&(k.key==="Enter"?r&&(k.preventDefault(),n()):k.key==="z"&&!k.shiftKey?(k.preventDefault(),a.undo()):(k.key==="y"||k.shiftKey&&k.key==="z"||k.key==="Z")&&(k.preventDefault(),a.redo()))};return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}});const h=()=>{d(!0)},m=()=>{u(!1),d(!1),a.discardAllChanges()},v=()=>{a.undo()},y=()=>{a.redo()},_=s({id:ae("plugin.name"),defaultMessage:"Content-Type Builder"});return g.jsxs(ma.Main,{"aria-label":_,children:[g.jsx(ma.Header,{label:_}),g.jsx(zl,{background:"neutral150"}),g.jsxs(ma.Content,{children:[g.jsxs(Oe,{padding:5,gap:3,direction:"column",alignItems:"stretch",children:[g.jsx(id.contentTypeBuilder.Save,{children:g.jsxs(Oe,{gap:2,children:[g.jsx(vt,{flex:1,onClick:b=>{b.preventDefault(),n()},type:"submit",disabled:!r||!o,fullWidth:!0,size:"S",children:s({id:"global.save",defaultMessage:"Save"})}),g.jsxs(Mn.Root,{open:l,onOpenChange:u,children:[g.jsxs(Mn.Trigger,{size:"S",endIcon:null,paddingTop:"4px",paddingLeft:"7px",paddingRight:"7px",variant:"tertiary",children:[g.jsx(ej,{fill:"neutral500","aria-hidden":!0,focusable:!1}),g.jsx(fb,{tag:"span",children:s({id:"global.more.actions",defaultMessage:"More actions"})})]}),g.jsxs(Mn.Content,{zIndex:1,children:[g.jsx(Mn.Item,{disabled:!a.canUndo||!o,onSelect:v,startIcon:g.jsx(HW,{}),children:s({id:"global.last-change.undo",defaultMessage:"Undo last change"})}),g.jsx(Mn.Item,{disabled:!a.canRedo||!o,onSelect:y,startIcon:g.jsx(ld,{}),children:s({id:"global.last-change.redo",defaultMessage:"Redo last change"})}),g.jsx(Mn.Separator,{}),g.jsx(qW,{disabled:!a.canDiscardAll||!o,onSelect:h,children:g.jsxs(Oe,{gap:2,children:[g.jsx(rd,{}),g.jsx(Fe,{children:s({id:"global.last-changes.discard",defaultMessage:"Discard last changes"})})]})})]})]})]})}),g.jsx(hb,{value:t.value,onChange:b=>t.onChange(b.target.value),onClear:()=>t.onChange(""),placeholder:s({id:ae("search.placeholder"),defaultMessage:"Search"}),size:"S",children:void 0,name:"search_contentType",clearLabel:s({id:"clearLabel",defaultMessage:"Clear"}),"aria-label":s({id:ae("search.placeholder"),defaultMessage:"Search"})})]}),g.jsx(ma.Sections,{children:e.map(b=>g.jsx(V.Fragment,{children:g.jsx(ma.Section,{label:s({id:b.title.id,defaultMessage:b.title.defaultMessage}),link:b.customLink&&{label:s({id:b.customLink?.id,defaultMessage:b.customLink?.defaultMessage}),onClick:b.customLink?.onClick},sectionId:b.name,children:b.links.map(k=>{const E=s({id:k.name,defaultMessage:k.title});return"links"in k?g.jsx(ma.SubSection,{label:k.title,children:k.links.map(T=>{const I=s({id:T.name,defaultMessage:T.title});return g.jsx(ma.Link,{to:T.to,label:I,endAction:g.jsx(De,{tag:"span",textAlign:"center",width:"24px",children:g.jsx(_v,{status:T.status})})},T.name)})},k.name):g.jsx(ma.Link,{to:k.to,label:E,endAction:g.jsx(De,{tag:"span",textAlign:"center",width:"24px",children:g.jsx(_v,{status:k.status})})},k.name)})})},b.name))})]}),g.jsx(Ya.Root,{open:p,onOpenChange:d,children:g.jsx(Do,{onConfirm:m,children:s({id:ae("popUpWarning.discardAll.message"),defaultMessage:"Are you sure you want to discard all changes?"})})})]})},wv=()=>{if(crypto.randomUUID)return`ctb-${crypto.randomUUID()}`},VW=({children:e})=>{const[t,n]=V.useState(()=>wv()),r=V.useCallback(()=>{n(wv())},[]),a=V.useMemo(()=>({sessionId:t,regenerateSessionId:r}),[t,r]);return g.jsx(Ub.Provider,{value:a,children:e})};function GW(e,t,n,r){for(var a=-1,o=e==null?0:e.length;++a<o;){var s=e[a];t(r,s,n(s),e)}return r}var JW=GW,KW=tj,YW=mb;function XW(e,t){return e&&KW(e,t,YW)}var Zw=XW,QW=gb;function eV(e,t){return function(n,r){if(n==null)return n;if(!QW(n))return e(n,r);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&r(s[o],o,s)!==!1;);return n}}var tV=eV,nV=Zw,rV=tV,aV=rV(nV),Hw=aV,iV=Hw;function oV(e,t,n,r){return iV(e,function(a,o,s){t(r,a,n(a),s)}),r}var sV=oV,lV=ab,cV=af,uV=1,pV=2;function dV(e,t,n,r){var a=n.length,o=a,s=!r;if(e==null)return!o;for(e=Object(e);a--;){var l=n[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){l=n[a];var u=l[0],p=e[u],d=l[1];if(s&&l[2]){if(p===void 0&&!(u in e))return!1}else{var h=new lV;if(r)var m=r(p,d,u,e,t,h);if(!(m===void 0?cV(d,p,uV|pV,r,h):m))return!1}}return!0}var fV=dV,hV=cd;function mV(e){return e===e&&!hV(e)}var qw=mV,gV=qw,yV=mb;function vV(e){for(var t=yV(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,gV(a)]}return t}var bV=vV;function xV(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Ww=xV,_V=fV,wV=bV,kV=Ww;function CV(e){var t=wV(e);return t.length==1&&t[0][2]?kV(t[0][0],t[0][1]):function(n){return n===e||_V(n,e,t)}}var SV=CV;function EV(e,t){return e!=null&&t in Object(e)}var AV=EV,TV=yb,IV=aj,jV=Fo,RV=rj,OV=nj,MV=ud;function zV(e,t,n){t=TV(t,e);for(var r=-1,a=t.length,o=!1;++r<a;){var s=MV(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=a?o:(a=e==null?0:e.length,!!a&&OV(a)&&RV(s,a)&&(jV(e)||IV(e)))}var Vw=zV,PV=AV,NV=Vw;function $V(e,t){return e!=null&&NV(e,t,PV)}var Gw=$V,FV=af,DV=ij,LV=Gw,BV=vb,UV=qw,ZV=Ww,HV=ud,qV=1,WV=2;function VV(e,t){return BV(e)&&UV(t)?ZV(HV(e),t):function(n){var r=DV(n,e);return r===void 0&&r===t?LV(n,e):FV(t,r,qV|WV)}}var GV=VV;function JV(e){return function(t){return t?.[e]}}var Jw=JV,KV=pd;function YV(e){return function(t){return KV(t,e)}}var XV=YV,QV=Jw,e7=XV,t7=vb,n7=ud;function r7(e){return t7(e)?QV(n7(e)):e7(e)}var a7=r7,i7=SV,o7=GV,s7=bb,l7=Fo,c7=a7;function u7(e){return typeof e=="function"?e:e==null?s7:typeof e=="object"?l7(e)?o7(e[0],e[1]):i7(e):c7(e)}var of=u7,p7=JW,d7=sV,f7=of,h7=Fo;function m7(e,t){return function(n,r){var a=h7(n)?p7:d7,o=t?t():{};return a(n,e,f7(r),o)}}var g7=m7,y7=xb,v7=g7,b7=Object.prototype,x7=b7.hasOwnProperty,_7=v7(function(e,t,n){x7.call(e,n)?e[n].push(t):y7(e,n,[t])}),w7=_7;const k7=wn(w7);var C7=xb,S7=Zw,E7=of;function A7(e,t){var n={};return t=E7(t),S7(e,function(r,a,o){C7(n,a,t(r,a,o))}),n}var T7=A7;const kv=wn(T7),I7="timeout",j7=30*1e3,R7=()=>{const{get:e}=_b(),t=async n=>{const r=n??Date.now();if(Date.now()-r>j7)throw new Error(I7);try{if((await e("/content-type-builder/update-schema-status"))?.data?.data?.isUpdating===!0)return new Promise(o=>{setTimeout(()=>t(r).then(o),200)})}catch{return new Promise(o=>{setTimeout(()=>t(r).then(o),200)})}};return t};var O7=sd,M7=Bw;function z7(e){return M7(O7(e).toLowerCase())}var P7=z7,N7=P7,$7=oj,F7=$7(function(e,t,n){return t=t.toLowerCase(),e+(n?N7(t):t)}),D7=F7;const L7=wn(D7);var B7=Hw,U7=gb;function Z7(e,t){var n=-1,r=U7(e)?Array(e.length):[];return B7(e,function(a,o,s){r[++n]=t(a,o,s)}),r}var H7=Z7;function q7(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var W7=q7,Cv=wb;function V7(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,o=Cv(e),s=t!==void 0,l=t===null,u=t===t,p=Cv(t);if(!l&&!p&&!o&&e>t||o&&s&&u&&!l&&!p||r&&s&&u||!n&&u||!a)return 1;if(!r&&!o&&!p&&e<t||p&&n&&a&&!r&&!o||l&&n&&a||!s&&a||!u)return-1}return 0}var G7=V7,J7=G7;function K7(e,t,n){for(var r=-1,a=e.criteria,o=t.criteria,s=a.length,l=n.length;++r<s;){var u=J7(a[r],o[r]);if(u){if(r>=l)return u;var p=n[r];return u*(p=="desc"?-1:1)}}return e.index-t.index}var Y7=K7,tp=sj,X7=pd,Q7=of,eG=H7,tG=W7,nG=kb,rG=Y7,aG=bb,iG=Fo;function oG(e,t,n){t.length?t=tp(t,function(o){return iG(o)?function(s){return X7(s,o.length===1?o[0]:o)}:o}):t=[aG];var r=-1;t=tp(t,nG(Q7));var a=eG(e,function(o,s,l){var u=tp(t,function(p){return p(o)});return{criteria:u,index:++r,value:o}});return tG(a,function(o,s){return rG(o,s,n)})}var sG=oG,lG=uj,cG=sG,uG=lj,Sv=cj,pG=uG(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Sv(e,t[0],t[1])?t=[]:n>2&&Sv(t[0],t[1],t[2])&&(t=[t[0]]),cG(e,lG(t,1),[])}),dG=pG;const fG=wn(dG),hG=e=>fG(Object.keys(e).map(t=>({visible:e[t].visible,name:t,title:e[t].info.displayName,plugin:e[t].plugin,uid:t,to:`/plugins/${ba}/content-types/${t}`,kind:e[t].kind,restrictRelationsTo:e[t].restrictRelationsTo,status:e[t].status})).filter(t=>t!==null),t=>L7(t.title)),mG=({components:e,contentTypes:t})=>{const n={newContentTypes:0,editedContentTypes:0,deletedContentTypes:0,newComponents:0,editedComponents:0,deletedComponents:0,newFields:0,editedFields:0,deletedFields:0},r=Object.values(e).filter(o=>["NEW","CHANGED","REMOVED"].includes(o.status)).map(o=>{const s=Ev(o),l=s.action;return Av({...o,action:l},n,"component"),s}),a=Object.values(t).filter(o=>["NEW","CHANGED","REMOVED"].includes(o.status)).map(o=>{const s=Ev(o),l=s.action;return Av({...o,action:l},n,"contentType"),s});return{requestData:{components:r,contentTypes:a},trackingEventProperties:n}},gG=e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>Array.isArray(n)?n.length>0:typeof n=="object"&&n!==null?Object.keys(n).length>0:n!=null)),yG=e=>"customField"in e?{...e,type:"customField"}:"targetAttribute"in e?{...e,targetAttribute:e.targetAttribute==="-"?null:e.targetAttribute,...e.conditions&&{conditions:e.conditions}}:e,Ev=e=>{let t;switch(e.status){case"NEW":t="create";break;case"CHANGED":t="update";break;case"REMOVED":return{action:"delete",uid:e.uid};default:throw new Error("Invalid status")}return{action:t,uid:e.uid,category:"category"in e?e.category:void 0,...al(e,["info","options","visible","uid","restrictRelationsTo"]),...e.options,...e.info,attributes:e.attributes.map(n=>{let r;switch(n.status){case"NEW":r="create";break;case"REMOVED":return{action:"delete",name:n.name};case"UNCHANGED":case"CHANGED":default:r="update"}return{action:r,name:n.name,properties:gG(al(yG(n),["status","name"]))}})}},Av=(e,t,n)=>{if(!e||typeof e.action!="string")return;const r=n==="contentType";switch(e.action){case"create":r?t.newContentTypes++:t.newComponents++;break;case"update":r?t.editedContentTypes++:t.editedComponents++;break;case"delete":r?t.deletedContentTypes++:t.deletedComponents++;break}Array.isArray(e.attributes)&&(e.action==="delete"?t.deletedFields+=e.attributes.length:e.attributes.forEach(a=>{if(!(!a||typeof a.status!="string"))switch(a.status){case"NEW":t.newFields++;break;case"CHANGED":t.editedFields++;break;case"REMOVED":t.deletedFields++;break}}))},vG=e=>Object.keys(e).reduce((n,r)=>{const a=Qt(e,[r]),o=bG(a);return o.childComponents.length>0&&n.push(o),n},[]),bG=e=>({component:e.uid,childComponents:e.attributes.filter(t=>{const{type:n}=t;return n==="component"}).map(t=>({component:t.component}))}),xG=e=>{const t=Object.keys(e).reduce((n,r)=>{const a=e?.[r]?.attributes??[],o=_G(a,r);return[...n,...o]},[]);return wG(t)},_G=(e,t)=>e.reduce((n,r)=>{const{type:a}=r;return a==="component"&&n.push({component:r.component,parentCompoUid:t}),n},[]),wG=e=>{const t=new Map;return e.forEach(({component:r,parentCompoUid:a})=>{t.has(r)||t.set(r,new Set),t.get(r).add(a)}),Array.from(t.entries()).map(([r,a])=>({component:r,uidsOfAllParents:Array.from(a)}))},kG=(e,t)=>{const n=Object.keys(e).map(r=>Qt(e,[r,...t],""));return pj(n)},CG=e=>e["content-type-builder_dataManagerProvider"]||dj,SG=({children:e})=>{const t=Pl(),n=Cb(CG),r=Ka("DataManagerProvider",Q=>Q.dispatch),a=fj(),{sessionId:o,regenerateSessionId:s}=hd(),{components:l,contentTypes:u,reservedNames:p,initialComponents:d,initialContentTypes:h,isLoading:m}=n.current,{toggleNotification:v}=Fi(),{lockAppWithAutoreload:y,unlockAppWithAutoreload:_}=hj(),b=R7(),E=Eo("DataManagerProvider",Q=>Q.getPlugin)("content-type-builder"),T=ia("DataManagerProvider",Q=>Q.autoReload),{formatMessage:I}=yt(),{trackUsage:N}=Di(),M=mj("DataManagerProvider",Q=>Q.refetchPermissions),{onCloseModal:U}=Zi(),[B,J]=V.useState(!1),Y=V.useRef(null),q=V.useMemo(()=>!(No(l,d)&&No(u,h)),[l,u,d,h]),pe=_b(),O=T,K=V.useRef();K.current=async()=>{try{const[Q,W]=await Promise.all([pe.get("/content-type-builder/schema"),pe.get("/content-type-builder/reserved-names")]),{components:we,contentTypes:Se}=Q.data.data;t(Xt.init({components:kv(we,ce=>({...ce,status:"UNCHANGED"})),contentTypes:kv(Se,ce=>({...ce,status:"UNCHANGED"})),reservedNames:W.data})),t(Xt.clearHistory())}catch(Q){console.error({err:Q}),v({type:"danger",message:I({id:"notification.error",defaultMessage:"An error occurred"})})}},V.useEffect(()=>(K.current(),Y.current=a.pathname,()=>{t(Xt.reloadPlugin())}),[]),V.useEffect(()=>{const Q=a.pathname,W=Y.current,we="/plugins/content-type-builder";if(W){const Se=Q.includes(we);!W.includes(we)&&Se&&s()}Y.current=Q},[a.pathname,s]),V.useEffect(()=>{T||v({type:"info",message:I({id:ae("notification.info.autoreaload-disable")})})},[T,v,I]);const w=Q=>vG(Q),L=Q=>xG(Q),Ae=async()=>{await M()},de=async()=>{J(!0);const Q=E?.apis?.forms,W=Object.entries(n.current.contentTypes).reduce((je,[me,Te])=>(je[me]=Q.mutateContentTypeSchema(Te,h[me]),je),{}),{requestData:we,trackingEventProperties:Se}=mG({components:n.current.components,contentTypes:W});N("willUpdateCTBSchema",{...Se,ctbSessionId:o});const ce=Object.keys(n.current.contentTypes).length>0;y();try{await pe.post("/content-type-builder/update-schema",{data:we}),ce&&N("didCreateGuidedTourCollectionType"),await b(),s(),await K.current(),await Ae()}catch(je){console.error({err:je}),v({type:"danger",message:I({id:"notification.error",defaultMessage:"An error occurred"})}),N("didUpdateCTBSchema",{...Se,success:!1,ctbSessionId:o})}finally{J(!1),_(),t(gj.util.invalidateTags(["GuidedTourMeta","HomepageKeyStatistics"])),r({type:"set_completed_actions",payload:[il.contentTypeBuilder.createSchema]}),N("didUpdateCTBSchema",{...Se,success:!0,ctbSessionId:o})}},fe=V.useMemo(()=>w(l),[l]),$=V.useMemo(()=>L(l),[l]),Re=V.useMemo(()=>kG(l,["category"]),[l]),se=V.useMemo(()=>k7(l,"category"),[l]),R=V.useMemo(()=>hG(u),[u]),Ne={componentsThatHaveOtherComponentInTheirAttributes:fe,nestedComponents:$,saveSchema:de,reservedNames:p,components:l,contentTypes:u,initialComponents:d,initialContentTypes:h,isSaving:B,isModified:q,isInDevelopmentMode:O,allComponentsCategories:Re,componentsGroupedByCategory:se,sortedContentTypesList:R,isLoading:m,addAttribute(Q){t(Xt.addAttribute(Q))},editAttribute(Q){t(Xt.editAttribute(Q))},addCustomFieldAttribute(Q){t(Xt.addCustomFieldAttribute(Q))},editCustomFieldAttribute(Q){t(Xt.editCustomFieldAttribute(Q))},addCreatedComponentToDynamicZone(Q){t(Xt.addCreatedComponentToDynamicZone(Q))},createSchema(Q){t(Xt.createSchema(Q))},createComponentSchema({data:Q,uid:W,componentCategory:we}){t(Xt.createComponentSchema({data:Q,uid:W,componentCategory:we}))},changeDynamicZoneComponents({forTarget:Q,targetUid:W,dynamicZoneTarget:we,newComponents:Se}){t(Xt.changeDynamicZoneComponents({forTarget:Q,targetUid:W,dynamicZoneTarget:we,newComponents:Se}))},removeAttribute(Q){Q.forTarget==="contentType"&&N("willDeleteFieldOfContentType"),t(Xt.removeField(Q))},removeComponentFromDynamicZone(Q){t(Xt.removeComponentFromDynamicZone(Q))},deleteComponent(Q){window.confirm(I({id:ae("popUpWarning.bodyMessage.component.delete")}))&&(U(),t(Xt.deleteComponent(Q)))},deleteContentType(Q){window.confirm(I({id:ae("popUpWarning.bodyMessage.contentType.delete")}))&&(U(),t(Xt.deleteContentType(Q)))},updateComponentSchema({data:Q,componentUID:W}){t(Xt.updateComponentSchema({data:Q,uid:W}))},updateComponentUid({componentUID:Q,newComponentUID:W}){t(Xt.updateComponentUid({uid:Q,newComponentUID:W}))},updateSchema(Q){t(Xt.updateSchema(Q))},moveAttribute(Q){t(Xt.moveAttribute(Q))},applyChange(Q){t(Xt.applyChange(Q))},history:{undo(){t(Xt.undo())},redo(){t(Xt.redo())},discardAllChanges(){t(Xt.discardAll())},canUndo:n.past.length>0,canRedo:n.future.length>0,canDiscardAll:q}};return g.jsx(Vx.Provider,{value:Ne,children:e})},EG=()=>{const{formatMessage:e}=yt(),{isModified:t,isSaving:n}=ar(),r=e({id:ae("prompt.unsaved"),defaultMessage:"Are you sure you want to leave? All your modifications will be lost."}),a=yj(o=>o.currentLocation.pathname.startsWith("/plugins/content-type-builder/")&&!o.nextLocation.pathname.startsWith("/plugins/content-type-builder/")&&t);return V.useEffect(()=>{const o=s=>{t&&!n&&(s.preventDefault(),s.returnValue="")};return window.addEventListener("beforeunload",o),()=>window.removeEventListener("beforeunload",o)},[r,t,n]),a.state==="blocked"?g.jsx(Ya.Root,{open:!0,onOpenChange:()=>a.reset(),children:g.jsx(Do,{onConfirm:()=>a.proceed(),children:r})}):null};var AG=Object.prototype,TG=AG.hasOwnProperty;function IG(e,t){return e!=null&&TG.call(e,t)}var jG=IG,RG=jG,OG=Vw;function MG(e,t){return e!=null&&OG(e,t,RG)}var zG=MG;const PG=wn(zG);var NG=pd,$G=vj,FG=yb;function DG(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var s=t[r],l=NG(e,s);n(l,s)&&$G(o,FG(s,e),l)}return o}var LG=DG,BG=LG,UG=Gw;function ZG(e,t){return BG(e,t,function(n,r){return UG(e,r)})}var HG=ZG,qG=HG,WG=bj,VG=WG(function(e,t){return e==null?{}:qG(e,t)}),GG=VG;const JG=wn(GG),Kw=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),Wp=(e,t)=>e.find(({name:n})=>n===t),KG=(e,t)=>!e||!t?{}:{[e]:t[e]},YG=e=>(e?.inner||[]).reduce((t,n)=>(n.path&&(t[n.path.split("[").join(".").split("]").join("")]={id:n.message,defaultMessage:n.message,values:KG(n?.type,n?.params)}),t),{}),XG=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],QG=({intlLabel:e,name:t,onChange:n,value:r=null})=>{const{formatMessage:a}=yt(),o=r===null||r?.length===0?a({id:"global.none",defaultMessage:"None"}):[...r].sort().map(l=>Ja(l)).join(", "),s=e.id?a({id:e.id,defaultMessage:e.defaultMessage}):t;return g.jsxs(at.Root,{name:t,children:[g.jsx(at.Label,{children:s}),g.jsx(Sb,{customizeContent:()=>o,onChange:l=>{l.length>0?n({target:{name:t,value:l,type:"allowed-types-select"}}):n({target:{name:t,value:null,type:"allowed-types-select"}})},options:XG,value:r||[]})]})},Tv={biginteger:uo,blocks:Ij,boolean:Tj,collectionType:Om,component:Aj,contentType:Om,date:Ds,datetime:Ds,decimal:uo,dynamiczone:Ej,email:Sj,enum:Rm,enumeration:Rm,file:gu,files:gu,float:uo,integer:uo,json:jm,JSON:jm,media:gu,number:uo,password:Cj,relation:kj,richtext:wj,singleType:_j,string:Im,text:Im,time:Ds,timestamp:Ds,uid:xj},eJ=xt(De)`
  svg {
    height: 100%;
    width: 100%;
  }
`,$o=({type:e,customField:t=null,...n})=>{const r=Eo("AttributeIcon",o=>o.customFields.get);let a=Tv[e];if(t){const s=r(t)?.icon;s&&(a=s)}return Tv[e]?g.jsx(eJ,{width:"3.2rem",height:"3.2rem",shrink:0,...n,"aria-hidden":!0,children:g.jsx(De,{tag:a})}):null},Yw=xt(De)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    cursor: pointer;
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,tJ=[],nJ=()=>g.jsx(Oe,{grow:1,justifyContent:"flex-end",children:g.jsxs(Oe,{gap:1,hasRadius:!0,background:"alternative100",padding:"0.2rem 0.4rem",children:[g.jsx(Ml,{width:"1rem",height:"1rem",fill:"alternative600"}),g.jsx(Fe,{textColor:"alternative600",variant:"sigma",children:"New"})]})}),rJ=({type:e="text"})=>{const{formatMessage:t}=yt(),{onClickSelectField:n}=Zi(),r=()=>{n({attributeType:e,step:e==="component"?"1":null})};return g.jsx(Yw,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:r,children:g.jsxs(Oe,{children:[g.jsx($o,{type:e}),g.jsxs(De,{paddingLeft:4,width:"100%",children:[g.jsxs(Oe,{justifyContent:"space-between",children:[g.jsx(Fe,{fontWeight:"bold",textColor:"neutral800",children:t({id:ae(`attribute.${e}`),defaultMessage:e})}),tJ.includes(e)&&g.jsx(nJ,{})]}),g.jsx(Oe,{children:g.jsx(Fe,{variant:"pi",textColor:"neutral600",children:t({id:ae(`attribute.${e}.description`),defaultMessage:"A type for modeling data"})})})]})]})})},aJ=({attributes:e})=>g.jsx(dd,{tagName:"button",children:g.jsx(Oe,{direction:"column",alignItems:"stretch",gap:8,children:e.map((t,n)=>g.jsx(vr.Root,{gap:3,children:t.map(r=>g.jsx(vr.Item,{col:6,xs:12,direction:"column",alignItems:"stretch",children:g.jsx(rJ,{type:r})},r))},n))})}),iJ=({customFieldUid:e,customField:t})=>{const{type:n,intlLabel:r,intlDescription:a}=t,{formatMessage:o}=yt(),{onClickSelectCustomField:s}=Zi(),l=()=>{s({attributeType:n,customFieldUid:e})};return g.jsx(Yw,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:l,children:g.jsxs(Oe,{children:[g.jsx($o,{type:n,customField:e}),g.jsxs(De,{paddingLeft:4,children:[g.jsx(Oe,{children:g.jsx(Fe,{fontWeight:"bold",textColor:"neutral800",children:o(r)})}),g.jsx(Oe,{children:g.jsx(Fe,{variant:"pi",textColor:"neutral600",children:o(a)})})]})]})})},oJ=xt(De)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,sJ=()=>g.jsx(Oe,{wrap:"wrap",gap:4,children:[...Array(4)].map((e,t)=>g.jsx(oJ,{height:"138px",width:"375px",hasRadius:!0},`empty-card-${t}`))}),lJ=()=>{const{formatMessage:e}=yt();return g.jsxs(De,{position:"relative",children:[g.jsx(sJ,{}),g.jsx(De,{position:"absolute",top:6,width:"100%",children:g.jsxs(Oe,{alignItems:"center",justifyContent:"center",direction:"column",children:[g.jsx(Eb,{width:"160px",height:"88px"}),g.jsx(De,{paddingTop:6,paddingBottom:4,children:g.jsxs(De,{textAlign:"center",children:[g.jsx(Fe,{variant:"delta",tag:"p",textColor:"neutral600",children:e({id:ae("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})}),g.jsx(De,{paddingTop:4,children:g.jsx(Fe,{variant:"delta",tag:"p",textColor:"neutral600",children:e({id:ae("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."})})})]})}),g.jsx(jj,{tag:sb,to:`https://market.strapi.io?${Rj.stringify({categories:"Custom fields"})}`,variant:"secondary",target:"_blank",startIcon:g.jsx(va,{}),children:e({id:ae("modalForm.empty.button"),defaultMessage:"Add custom fields"})})]})})]})},cJ=()=>{const{formatMessage:e}=yt(),t=Eo("CustomFieldsList",a=>a.customFields.getAll),n=Object.entries(t());if(!n.length)return g.jsx(lJ,{});const r=n.sort((a,o)=>a[1].name>o[1].name?1:-1);return g.jsx(dd,{tagName:"button",children:g.jsxs(Oe,{direction:"column",alignItems:"stretch",gap:3,children:[g.jsx(vr.Root,{gap:3,children:r.map(([a,o])=>g.jsx(vr.Item,{col:6,xs:12,direction:"column",alignItems:"stretch",children:g.jsx(iJ,{customFieldUid:a,customField:o},a)},a))}),g.jsx(Rl,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0,children:e({id:ae("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"})})]})})},uJ=({attributes:e,forTarget:t,kind:n})=>{const{formatMessage:r}=yt(),a=ae("modalForm.tabs.default"),o=ae("modalForm.tabs.custom"),s=t.includes("component")?"component":n,l=ae(`modalForm.sub-header.chooseAttribute.${s}`);return g.jsx(yn.Body,{children:g.jsxs(gr.Root,{variant:"simple",defaultValue:"default",children:[g.jsxs(Oe,{justifyContent:"space-between",children:[g.jsx(Fe,{variant:"beta",tag:"h2",children:r({id:l,defaultMessage:"Select a field"})}),g.jsxs(gr.List,{children:[g.jsx(gr.Trigger,{value:"default",children:r({id:a,defaultMessage:"Default"})}),g.jsx(gr.Trigger,{value:"custom",children:r({id:o,defaultMessage:"Custom"})})]})]}),g.jsx(zl,{marginBottom:6}),g.jsx(gr.Content,{value:"default",children:g.jsx(aJ,{attributes:e})}),g.jsx(gr.Content,{value:"custom",children:g.jsx(cJ,{})})]})})},pJ=({intlLabel:e,name:t,options:n,onChange:r,value:a=null})=>{const{formatMessage:o}=yt(),s=e.id?o({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):t,l=u=>{let p="";u==="true"&&(p=!0),u==="false"&&(p=!1),r({target:{name:t,value:p,type:"select-default-boolean"}})};return g.jsxs(at.Root,{name:t,children:[g.jsx(at.Label,{children:s}),g.jsx(aa,{onChange:l,value:(a===null?"":a).toString(),children:n.map(({metadatas:{intlLabel:u,disabled:p,hidden:d},key:h,value:m})=>g.jsx(Xn,{value:m,disabled:p,hidden:d,children:u.defaultMessage},h))})]})},dJ=xt(Oe)`
  position: relative;
  align-items: stretch;

  label {
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;

    ${Ab()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    border-radius: ${({theme:e})=>e.borderRadius};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    color: ${({theme:e})=>e.colors.primary600};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,sf=({intlLabel:e,name:t,onChange:n,radios:r=[],value:a})=>{const{formatMessage:o}=yt();return g.jsxs(Oe,{direction:"column",alignItems:"stretch",gap:2,children:[g.jsx(Fe,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,tag:"label",children:o(e)}),g.jsx(dJ,{gap:4,alignItems:"stretch",children:r.map(s=>g.jsxs("label",{htmlFor:s.value.toString(),className:"container",children:[g.jsx("input",{id:s.value.toString(),name:t,className:"option-input",checked:s.value===a,value:s.value,onChange:n,type:"radio"},s.value),g.jsx(De,{className:"option",padding:4,children:g.jsxs(Oe,{children:[g.jsx(De,{paddingRight:4,children:g.jsx("span",{className:"checkmark"})}),g.jsxs(Oe,{direction:"column",alignItems:"stretch",gap:2,children:[g.jsx(Fe,{fontWeight:"bold",children:o(s.title)}),g.jsx(Fe,{variant:"pi",textColor:"neutral600",children:o(s.description)})]})]})})]},s.value))})]})},fJ=({onChange:e,name:t,intlLabel:n,...r})=>{const a=o=>{const s=o.target.value!=="false";e({target:{name:t,value:s,type:"boolean-radio-group"}})};return g.jsx(sf,{...r,name:t,onChange:a,intlLabel:n})},hJ=({error:e,intlLabel:t,modifiedData:n,name:r,onChange:a,value:o=null})=>{const{formatMessage:s}=yt(),l=t.id?s({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):r,u=n.type==="biginteger"?"text":"number",p=!n.type,d=e?s({id:e,defaultMessage:e}):"";return g.jsxs(Oe,{direction:"column",alignItems:"stretch",gap:2,children:[g.jsx(Ol,{id:r,name:r,onCheckedChange:h=>{a({target:{name:r,value:h?u==="text"?"0":0:null}})},checked:o!==null,children:l}),o!==null&&g.jsx(De,{paddingLeft:6,style:{maxWidth:"200px"},children:u==="text"?g.jsxs(at.Root,{error:d,name:r,children:[g.jsx(ra,{"aria-label":l,disabled:p,onChange:a,value:o===null?"":o,type:"text"}),g.jsx(at.Error,{})]}):g.jsxs(at.Root,{error:d,name:r,children:[g.jsx(Tb,{"aria-label":l,disabled:p,onValueChange:h=>{a({target:{name:r,value:h??0,type:u}})},value:o||0}),g.jsx(at.Error,{})]})})]})},mJ=({onChange:e,...t})=>{const{formatMessage:n}=yt(),{toggleNotification:r}=Fi(),a=o=>{r({type:"info",message:n({id:ae("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."})}),e(o)};return g.jsx(sf,{...t,onChange:a})},gJ=({description:e,disabled:t=!1,intlLabel:n,isCreating:r,name:a,onChange:o,value:s=!1})=>{const{formatMessage:l}=yt(),[u,p]=V.useState(!1),d=n.id?l({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):a,h=e?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",m=()=>{o({target:{name:a,value:!1}}),p(!1)},v=y=>{if(!y&&!r){p(!0);return}o({target:{name:a,value:!!y}})};return g.jsxs(g.Fragment,{children:[g.jsxs(at.Root,{hint:h,name:a,children:[g.jsx(Ol,{checked:s,disabled:t,onCheckedChange:v,children:d}),g.jsx(at.Hint,{})]}),g.jsx(Ya.Root,{open:u,onOpenChange:y=>p(y),children:g.jsx(Do,{endAction:g.jsx(vt,{onClick:m,variant:"danger",width:"100%",justifyContent:"center",children:l({id:ae("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"})}),children:l({id:ae("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."})})})]})},yJ=({deleteComponent:e,deleteContentType:t,isAttributeModal:n,isCustomFieldModal:r,isComponentAttribute:a,isComponentToDzModal:o,isContentTypeModal:s,isCreatingComponent:l,isCreatingComponentAttribute:u,isCreatingComponentInDz:p,isCreatingComponentWhileAddingAField:d,isCreatingContentType:h,isCreatingDz:m,isComponentModal:v,isDzAttribute:y,isEditingAttribute:_,isInFirstComponentStep:b,onSubmitAddComponentAttribute:k,onSubmitAddComponentToDz:E,onSubmitCreateContentType:T,onSubmitCreateComponent:I,onSubmitCreateDz:N,onSubmitEditAttribute:M,onSubmitEditComponent:U,onSubmitEditContentType:B,onSubmitEditCustomFieldAttribute:J,onSubmitEditDz:Y,onClickFinish:q})=>{const{formatMessage:pe}=yt();return o?p?g.jsx(vt,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),E(O,!0)},startIcon:g.jsx(va,{}),children:pe({id:ae("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})}):g.jsx(vt,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),E(O,!1)},children:pe({id:"global.finish",defaultMessage:"Finish"})}):n&&y&&!m?g.jsx(vt,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),q(),Y(O,!1)},children:pe({id:"global.finish",defaultMessage:"Finish"})}):n&&y&&m?g.jsx(g.Fragment,{children:g.jsx(vt,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),N(O,!0)},startIcon:g.jsx(va,{}),children:pe({id:ae("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"})})}):n&&a?b?g.jsx(vt,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),k(O,!0)},children:pe(u?{id:ae("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:ae("form.button.select-component"),defaultMessage:"Configure the component"})}):g.jsxs(Oe,{gap:2,children:[g.jsx(vt,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),k(O,!0)},startIcon:g.jsx(va,{}),children:pe(d?{id:ae("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:ae("form.button.add-field"),defaultMessage:"Add another field"})}),g.jsx(vt,{variant:"default",type:"button",onClick:O=>{O.preventDefault(),q(),k(O,!1)},children:pe({id:"global.finish",defaultMessage:"Finish"})})]}):n&&!a&&!y?g.jsxs(Oe,{gap:2,children:[g.jsx(vt,{type:_?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),M(O,!0)},startIcon:g.jsx(va,{}),children:pe({id:ae("form.button.add-field"),defaultMessage:"Add another field"})}),g.jsx(vt,{type:_?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),q(),M(O,!1)},children:pe({id:"global.finish",defaultMessage:"Finish"})})]}):s?g.jsxs(Oe,{gap:2,children:[!h&&g.jsxs(g.Fragment,{children:[g.jsx(vt,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),t()},children:pe({id:"global.delete",defaultMessage:"Delete"})}),g.jsx(vt,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),B(O,!1)},children:pe({id:"global.finish",defaultMessage:"Finish"})})]}),h&&g.jsx(vt,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),T(O,!0)},children:pe({id:"global.continue",defaultMessage:"Continue"})})]}):v?g.jsxs(Oe,{gap:2,children:[!l&&g.jsxs(g.Fragment,{children:[g.jsx(vt,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),e()},children:pe({id:"global.delete",defaultMessage:"Delete"})}),g.jsx(vt,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),U(O,!1)},children:pe({id:"global.finish",defaultMessage:"Finish"})})]}),l&&g.jsx(vt,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),I(O,!0)},children:pe({id:"global.continue",defaultMessage:"Continue"})})]}):r?g.jsxs(Oe,{gap:2,children:[g.jsx(vt,{type:_?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),J(O,!0)},startIcon:g.jsx(va,{}),children:pe({id:ae("form.button.add-field"),defaultMessage:"Add another field"})}),g.jsx(vt,{type:_?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),q(),J(O,!1)},children:pe({id:"global.finish",defaultMessage:"Finish"})})]}):null},vJ=({actionType:e=null,attributeName:t,attributeType:n,contentTypeKind:r,dynamicZoneTarget:a,forTarget:o,modalType:s=null,targetUid:l,customFieldUid:u=null,showBackLink:p=!1})=>{const{formatMessage:d}=yt(),{components:h,contentTypes:m}=ar(),{onOpenModalAddField:v}=Zi();let y="component",_=[];const b=o==="component"?h[l]:m[l],k=b?.info.displayName;if(s==="contentType"&&(y=r),["component"].includes(s||"")&&(y="component"),["component","contentType"].includes(s||"")){let T=ae(`modalForm.component.header-${e}`);return s==="contentType"&&(T=ae(`modalForm.${r}.header-create`)),e==="edit"&&(T=ae("modalForm.header-edit")),g.jsx(yn.Header,{children:g.jsxs(Oe,{children:[g.jsx(De,{children:g.jsx($o,{type:y})}),g.jsx(De,{paddingLeft:3,children:g.jsx(yn.Title,{children:d({id:T},{name:k})})})]})})}return _=[{label:k,info:{category:"category"in b&&b?.category||"",name:b?.info?.displayName}}],s==="chooseAttribute"&&(y=o==="component"?"component":"kind"in b?b.kind:""),s==="addComponentToDynamicZone"&&(y="dynamiczone",_.push({label:a})),(s==="attribute"||s==="customField")&&(y=n,_.push({label:t})),g.jsx(yn.Header,{children:g.jsxs(Oe,{gap:3,children:[p&&g.jsx(Rl,{"aria-label":d({id:ae("modalForm.header.back"),defaultMessage:"Back"}),startIcon:g.jsx(Ib,{}),onClick:()=>v({forTarget:o,targetUid:l}),href:"#back",isExternal:!1}),g.jsx($o,{type:y,customField:u}),g.jsx(Oj,{label:_.map(({label:T})=>T).join(","),children:_.map(({label:T,info:I},N,M)=>{if(T=Ja(T),!T)return null;const U=`${T}.${N}`;return I?.category&&(T=`${T} (${Ja(I.category)} - ${Ja(I.name)})`),g.jsx(Mj,{isCurrent:N===M.length-1,children:T},U)})})]})})},bJ=({modalType:e,forTarget:t,kind:n,actionType:r,step:a})=>{switch(e){case"chooseAttribute":return ae(`modalForm.sub-header.chooseAttribute.${t?.includes("component")?"component":n||"collectionType"}`);case"attribute":return ae(`modalForm.sub-header.attribute.${r}${a!=="null"&&a!==null&&r!=="edit"?".step":""}`);case"customField":return ae(`modalForm.sub-header.attribute.${r}`);case"addComponentToDynamicZone":return ae("modalForm.sub-header.addComponentToDynamicZone");default:return ae("configurations")}},xJ=({actionType:e,modalType:t,forTarget:n,kind:r,step:a,attributeType:o,attributeName:s,customField:l})=>{const{formatMessage:u}=yt(),p=t==="customField"?l?.intlLabel:{id:ae(`attribute.${o}`)};return g.jsxs(Oe,{direction:"column",alignItems:"flex-start",paddingBottom:1,gap:1,children:[g.jsx(Fe,{tag:"h2",variant:"beta",children:u({id:bJ({actionType:e,forTarget:n,kind:r,step:a,modalType:t}),defaultMessage:"Add new field"},{type:p?Ja(u(p)):"",name:Ja(s),step:a})}),g.jsx(Fe,{variant:"pi",textColor:"neutral600",children:u({id:ae(`attribute.${o}.description`),defaultMessage:"A type for modeling data"})})]})},Xw={alien:TO,apps:AO,archive:EO,arrowDown:SO,arrowLeft:Ib,arrowRight:CO,arrowUp:pb,attachment:od,bell:kO,bold:wO,book:_O,briefcase:xO,brush:yu,bulletList:bO,calendar:vO,car:yO,cast:gO,chartBubble:mO,chartCircle:hO,chartPie:fO,check:lb,clock:dO,cloud:pO,code:db,cog:uO,collapse:cO,command:lO,connector:sO,crop:oO,crown:iO,cup:aO,cursor:rO,dashboard:nO,database:tO,discuss:eO,doctor:QR,earth:XR,emotionHappy:YR,emotionUnhappy:KR,envelop:JR,exit:GR,expand:rb,eye:$b,feather:Mm,file:VR,fileError:WR,filePdf:qR,fileXls:HR,fileZip:nb,fileCsv:ZR,filter:UR,folder:nd,gate:BR,gift:LR,globe:DR,grid:FR,handHeart:$R,hashtag:NR,headphone:PR,heart:zR,house:MR,information:OR,italic:RR,key:jR,landscape:IR,layer:TR,layout:AR,lightbulb:ER,link:SR,lock:CR,magic:kR,manyToMany:Nb,manyToOne:Pb,manyWays:zb,medium:wR,message:_R,microphone:xR,monitor:bR,moon:vR,music:yR,oneToMany:Mb,oneToOne:Ob,oneWay:Rb,paint:yu,paintBrush:yu,paperPlane:gR,pencil:mR,phone:hR,picture:fR,pin:dR,pinMap:pR,plane:uR,play:cR,plus:va,priceTag:lR,puzzle:sR,question:oR,quote:iR,refresh:ld,restaurant:aR,rocket:rR,rotate:nR,scissors:tR,search:jb,seed:eR,server:Qj,shield:Xj,shirt:Yj,shoppingCart:Kj,slideshow:Jj,stack:Gj,star:Vj,store:Wj,strikeThrough:qj,sun:Hj,television:Zj,thumbDown:ub,thumbUp:cb,train:Uj,twitter:Bj,typhoon:Lj,underline:Dj,user:Fj,volumeMute:$j,volumeUp:Nj,walk:Pj,wheelchair:zj,write:Mm},_J=xt(Oe)`
  label {
    ${Ab()}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,wJ=({iconKey:e,name:t,onChange:n,isSelected:r,ariaLabel:a})=>{const o=Xw[e];return g.jsx(at.Root,{name:t,required:!1,children:g.jsxs(at.Label,{children:[g.jsxs(fb,{children:[a,g.jsx(at.Input,{type:"radio",checked:r,onChange:n,value:e,"aria-checked":r})]}),g.jsx(Nl,{label:e,children:g.jsx(Oe,{padding:2,cursor:"pointer",hasRadius:!0,background:r?"primary200":void 0,children:g.jsx(o,{width:"2rem",height:"2rem",fill:r?"primary600":"neutral300"})})})]})})},kJ=({intlLabel:e,name:t,onChange:n,value:r=""})=>{const{formatMessage:a}=yt(),[o,s]=V.useState(!1),[l,u]=V.useState(""),p=Object.keys(Xw),[d,h]=V.useState(p),m=V.useRef(null),v=V.useRef(null),y=()=>{s(!o)},_=({target:{value:E}})=>{u(E),h(()=>p.filter(T=>T.toLowerCase().includes(E.toLowerCase())))},b=()=>{y(),u(""),h(p)},k=()=>{n({target:{name:t,value:""}})};return V.useEffect(()=>{o&&v.current?.focus()},[o]),g.jsxs(g.Fragment,{children:[g.jsxs(Oe,{justifyContent:"space-between",paddingBottom:2,children:[g.jsx(Fe,{variant:"pi",fontWeight:"bold",textColor:"neutral800",tag:"label",children:a(e)}),g.jsxs(Oe,{gap:1,children:[o?g.jsx(hb,{ref:v,name:"searchbar",placeholder:a({id:ae("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{l||y()},onChange:_,value:l,onClear:b,clearLabel:a({id:ae("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"}),children:a({id:ae("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})}):g.jsx(br,{ref:m,onClick:y,withTooltip:!1,label:a({id:ae("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),variant:"ghost",children:g.jsx(jb,{})}),r&&g.jsx(Nl,{label:a({id:ae("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"}),children:g.jsx(br,{onClick:k,withTooltip:!1,label:a({id:ae("IconPicker.remove.button"),defaultMessage:"Remove the selected icon"}),variant:"ghost",children:g.jsx(td,{})})})]})]}),g.jsx(_J,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center",children:d.length>0?d.map(E=>g.jsx(wJ,{iconKey:E,name:t,onChange:n,isSelected:E===r,ariaLabel:a({id:ae("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:E})},E)):g.jsx(De,{padding:4,grow:2,children:g.jsx(Fe,{variant:"delta",textColor:"neutral600",textAlign:"center",children:a({id:ae("IconPicker.emptyState.label"),defaultMessage:"No icon found"})})})})]})},CJ=({description:e,error:t,intlLabel:n,modifiedData:r,name:a,onChange:o,value:s})=>{const{formatMessage:l}=yt(),u=V.useRef(o),p=r?.displayName||"",d=V.useRef(p),h=V.useRef(s);V.useEffect(()=>{if(p&&p!==d.current){const _=Fb(p);let b=_;try{b=Ri(_,2)}catch{}u.current({target:{name:a,value:b}}),h.current=b,d.current=p}else p||(u.current({target:{name:a,value:""}}),h.current="",d.current="")},[p,a,s]);const m=t?l({id:t,defaultMessage:t}):"",v=e?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",y=l(n);return g.jsxs(at.Root,{error:m,hint:v,name:a,children:[g.jsx(at.Label,{children:y}),g.jsx(ra,{onChange:o,value:s||"",type:"text"}),g.jsx(at.Error,{})]})},Iv=e=>{if(e instanceof Date&&jv(e))return e;if(typeof e=="string"||typeof e=="number"){const t=new Date(e);if(jv(t))return t}},jv=e=>!isNaN(e.getTime()),SJ=e=>{const[t,n]=e.split(":");return`${t}:${n}`},EJ=e=>e.split(":").length===2?`${e}:00.000`:e,AJ=e=>{if(e)return e.split(":").length>2?SJ(e):e},TJ=e=>{if(e)return EJ(e)},IJ=({value:e})=>AJ(e),Rv=(e,t,n,r)=>{const a=TJ(r);e({target:{name:t,value:a,type:n}})},jJ=({autoComplete:e,customInputs:t,description:n,disabled:r,intlLabel:a,labelAction:o,error:s,name:l,onChange:u,onDelete:p,options:d=[],placeholder:h,required:m,step:v,type:y,value:_,isNullable:b,autoFocus:k,attribute:E,attributeName:T,conditionFields:I,...N})=>{const{formatMessage:M}=yt(),U=(fe,$)=>{if(fe&&($==="minLength"&&$ in fe||$==="maxLength"&&$ in fe||$==="max"&&$ in fe||$==="min"&&$ in fe))return fe[$]},{hint:B}=RJ({description:n,fieldSchema:{minLength:U(E,"minLength"),maxLength:U(E,"maxLength"),max:U(E,"max"),min:U(E,"min")},type:E?.type||y}),[J,Y]=V.useState(!1),q=t?t[y]:null,pe=_??void 0,O=pe??"";function K(fe){if(!fe)return null;if(typeof fe=="string")return M({id:fe,defaultMessage:fe});const $={...fe.values};return M({id:fe.id,defaultMessage:fe?.defaultMessage??fe.id},$)}const w=K(s)??void 0;if(q)return g.jsx(q,{...N,attribute:E,description:n,hint:B,disabled:r,intlLabel:a,labelAction:o,error:w||"",name:l,onChange:u,onDelete:p,options:d,required:m,placeholder:h,type:y,value:pe,autoFocus:k,attributeName:T,conditionFields:I});const L=a.id?M({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):l,Ae=h?M({id:h.id,defaultMessage:h.defaultMessage},{...h.values}):"",de=()=>{switch(y){case"json":return g.jsx(zO,{value:pe,disabled:r,onChange:fe=>{const $=E&&"required"in E&&!E?.required&&!fe.length?null:fe;u({target:{name:l,value:$}},!1)},minHeight:"25.2rem",maxHeight:"50.4rem"});case"bool":return g.jsx(MO,{checked:_===null?null:_||!1,disabled:r,offLabel:M({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:M({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:fe=>{u({target:{name:l,value:fe.target.checked}})}});case"checkbox":return g.jsx(Ol,{disabled:r,onCheckedChange:fe=>{u({target:{name:l,value:fe}})},checked:!!pe,children:L});case"datetime":{const fe=Iv(pe);return g.jsx(OO,{clearLabel:M({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:$=>{const Re=$?$.toISOString():null;u({target:{name:l,value:Re,type:y}})},onClear:()=>u({target:{name:l,value:null,type:y}}),placeholder:Ae,value:fe})}case"date":{const fe=Iv(pe);return g.jsx(RO,{clearLabel:M({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:$=>{u({target:{name:l,value:$?QO($,{representation:"date"}):null,type:y}})},onClear:()=>u({target:{name:l,value:null,type:y}}),placeholder:Ae,value:fe})}case"number":return g.jsx(Tb,{disabled:r,onValueChange:fe=>{u({target:{name:l,value:fe,type:y}})},placeholder:Ae,step:v,value:pe,autoFocus:k});case"email":return g.jsx(ra,{autoComplete:e,disabled:r,onChange:fe=>{u({target:{name:l,value:fe.target.value,type:y}})},placeholder:Ae,type:"email",value:O,autoFocus:k});case"timestamp":case"text":case"string":return g.jsx(ra,{autoComplete:e,disabled:r,onChange:fe=>{u({target:{name:l,value:fe.target.value,type:y}})},placeholder:Ae,type:"text",value:O,autoFocus:k});case"password":return g.jsx(ra,{autoComplete:e,disabled:r,endAction:g.jsx("button",{"aria-label":M({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{Y(fe=>!fe)},style:{border:"none",padding:0,background:"transparent"},type:"button",children:J?g.jsx($b,{fill:"neutral500"}):g.jsx(jO,{fill:"neutral500"})}),onChange:fe=>{u({target:{name:l,value:fe.target.value,type:y}})},placeholder:Ae,type:J?"text":"password",value:O});case"select":return g.jsx(aa,{disabled:r,onChange:fe=>{u({target:{name:l,value:fe,type:"select"}})},placeholder:Ae,value:pe,children:d.map(({metadatas:{intlLabel:fe,disabled:$,hidden:Re},key:se,value:R})=>g.jsx(Xn,{value:R,disabled:$,hidden:Re,children:M(fe)},se))});case"textarea":return g.jsx(ad,{disabled:r,onChange:fe=>u({target:{name:l,value:fe.target.value,type:y}}),placeholder:Ae,value:O});case"time":{const fe=IJ({value:pe});return g.jsx(IO,{clearLabel:M({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:$=>Rv(u,l,y,$),onClear:()=>Rv(u,l,y,void 0),value:fe})}default:return g.jsx(ra,{disabled:!0,placeholder:"Not supported",type:"text",value:""})}};return g.jsxs(at.Root,{error:w,name:l,hint:B,required:m,children:[y!=="checkbox"?g.jsx(at.Label,{action:o,children:L}):null,de(),g.jsx(at.Error,{}),g.jsx(at.Hint,{})]})},RJ=({description:e,fieldSchema:t,type:n})=>{const{formatMessage:r}=yt(),a=()=>e?.id?r({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"";return{hint:(()=>{const{maximum:s,minimum:l}=MJ(t),u=OJ({type:n,minimum:l,maximum:s}),p=typeof l=="number",d=typeof s=="number",h=d&&p,m=d||p;return!e?.id&&!m?"":r({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:l,max:s,description:a(),unit:u?.message&&m?r(u.message,u.values):null,divider:h?r({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:m?g.jsx("br",{}):null})})()}},OJ=({type:e,minimum:t,maximum:n})=>{if(e&&!["string","uid","richtext","email","password","text"].includes(e))return{};const r=Math.max(t||0,n||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:r}}},MJ=e=>{if(!e)return{maximum:void 0,minimum:void 0};const{minLength:t,maxLength:n,max:r,min:a}=e;let o,s;const l=Number(a),u=Number(t);Number.isNaN(l)?Number.isNaN(u)||(o=u):o=l;const p=Number(r),d=Number(n);return Number.isNaN(p)?Number.isNaN(d)||(s=d):s=p,{maximum:s,minimum:o}},Vp=V.memo(jJ,No),zJ=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:n,sortedContentTypesList:r}=ar(),a=Pl(),o=r.filter(Kw),s=n[t];if(!s)return null;const l=({uid:u,plugin:p,title:d,restrictRelationsTo:h})=>()=>{const m=p?`${p}_${d}`:d;a(ln.onChangeRelationTarget({target:{value:u,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:m,targetContentTypeAllowedRelations:h}}))};return g.jsxs(Mn.Root,{children:[g.jsx(PJ,{children:`${s.info.displayName} ${s.plugin?`(from: ${s.plugin})`:""}`}),g.jsx(Mn.Content,{zIndex:"popover",children:o.map(({uid:u,title:p,restrictRelationsTo:d,plugin:h})=>g.jsxs(Mn.Item,{onSelect:l({uid:u,plugin:h,title:p,restrictRelationsTo:d}),children:[p,"",h&&g.jsxs(g.Fragment,{children:["(from: ",h,")"]})]},u))})]})},PJ=xt(Mn.Trigger)`
  max-width: 16.8rem;
  span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,Ov=({disabled:e=!1,error:t,header:n,isMain:r=!1,name:a,onChange:o,oneThatIsCreatingARelationWithAnother:s="",target:l,value:u=""})=>g.jsxs(De,{background:"neutral100",hasRadius:!0,borderColor:"neutral200",children:[g.jsx(Oe,{paddingTop:r?4:1,paddingBottom:r?3:1,justifyContent:"center",children:r?g.jsx(Fe,{variant:"pi",fontWeight:"bold",textColor:"neutral800",children:n}):g.jsx(zJ,{target:l,oneThatIsCreatingARelationWithAnother:s})}),g.jsx(zl,{background:"neutral200"}),g.jsx(De,{padding:4,children:g.jsx(Vp,{disabled:e,error:t?.id||null,intlLabel:{id:ae("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:a,onChange:o,type:"text",value:u})})]});var NJ=PO,$J=ib,FJ="[object RegExp]";function DJ(e){return $J(e)&&NJ(e)==FJ}var LJ=DJ,BJ=LJ,UJ=kb,Mv=NO,zv=Mv&&Mv.isRegExp,ZJ=zv?UJ(zv):BJ,HJ=ZJ,qJ=Jw,WJ=qJ("length"),VJ=WJ,Qw="\\ud800-\\udfff",GJ="\\u0300-\\u036f",JJ="\\ufe20-\\ufe2f",KJ="\\u20d0-\\u20ff",YJ=GJ+JJ+KJ,XJ="\\ufe0e\\ufe0f",QJ="["+Qw+"]",Gp="["+YJ+"]",Jp="\\ud83c[\\udffb-\\udfff]",eK="(?:"+Gp+"|"+Jp+")",ek="[^"+Qw+"]",tk="(?:\\ud83c[\\udde6-\\uddff]){2}",nk="[\\ud800-\\udbff][\\udc00-\\udfff]",tK="\\u200d",rk=eK+"?",ak="["+XJ+"]?",nK="(?:"+tK+"(?:"+[ek,tk,nk].join("|")+")"+ak+rk+")*",rK=ak+rk+nK,aK="(?:"+[ek+Gp+"?",Gp,tk,nk,QJ].join("|")+")",Pv=RegExp(Jp+"(?="+Jp+")|"+aK+rK,"g");function iK(e){for(var t=Pv.lastIndex=0;Pv.test(e);)++t;return t}var oK=iK,sK=VJ,lK=Yl,cK=oK;function uK(e){return lK(e)?cK(e):sK(e)}var pK=uK,dK=/\s/;function fK(e){for(var t=e.length;t--&&dK.test(e.charAt(t)););return t}var hK=fK,mK=hK,gK=/^\s+/;function yK(e){return e&&e.slice(0,mK(e)+1).replace(gK,"")}var vK=yK,bK=vK,Nv=cd,xK=wb,$v=NaN,_K=/^[-+]0x[0-9a-f]+$/i,wK=/^0b[01]+$/i,kK=/^0o[0-7]+$/i,CK=parseInt;function SK(e){if(typeof e=="number")return e;if(xK(e))return $v;if(Nv(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Nv(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=bK(e);var n=wK.test(e);return n||kK.test(e)?CK(e.slice(2),n?2:8):_K.test(e)?$v:+e}var ik=SK;const np=wn(ik);var EK=ik,Fv=1/0,AK=17976931348623157e292;function TK(e){if(!e)return e===0?e:0;if(e=EK(e),e===Fv||e===-Fv){var t=e<0?-1:1;return t*AK}return e===e?e:0}var IK=TK,jK=IK;function RK(e){var t=jK(e),n=t%1;return t===t?n?t-n:t:0}var OK=RK,Dv=$O,MK=Mw,zK=Yl,PK=cd,NK=HJ,$K=pK,FK=Lw,DK=OK,Lv=sd,LK=30,BK="...",UK=/\w*$/;function ZK(e,t){var n=LK,r=BK;if(PK(t)){var a="separator"in t?t.separator:a;n="length"in t?DK(t.length):n,r="omission"in t?Dv(t.omission):r}e=Lv(e);var o=e.length;if(zK(e)){var s=FK(e);o=s.length}if(n>=o)return e;var l=n-$K(r);if(l<1)return r;var u=s?MK(s,0,l).join(""):e.slice(0,l);if(a===void 0)return u+r;if(s&&(l+=u.length-l),NK(a)){if(e.slice(l).search(a)){var p,d=u;for(a.global||(a=RegExp(a.source,Lv(UK.exec(a))+"g")),a.lastIndex=0;p=a.exec(d);)var h=p.index;u=u.slice(0,h===void 0?l:h)}}else if(e.indexOf(Dv(a),l)!=l){var m=u.lastIndexOf(a);m>-1&&(u=u.slice(0,m))}return u+r}var HK=ZK;const Bv=wn(HK),qK=xt(De)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,WK=xt(De)`
  background: ${({theme:e,$isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,$isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  flex: 0 0 2.4rem;
  svg {
    width: 2.4rem;
    height: 2.4rem;
    max-width: unset;
    path {
      fill: ${({theme:e,$isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  cursor: pointer;
  &:disabled {
    cursor: not-allowed;
    background: ${({theme:e})=>e.colors.neutral150};

    svg {
      path {
        fill: ${({theme:e})=>e.colors.neutral300};
      }
    }
  }
  display: flex;
  justify-content: center;
  align-items: center;
`,VK=xt(Oe)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,GK={oneWay:Rb,oneToOne:Ob,oneToMany:Mb,manyToOne:Pb,manyToMany:Nb,manyWay:zb},JK=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],KK=["oneWay","manyWay"],YK=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:n,target:r,targetUid:a})=>{const o=Pl(),{formatMessage:s}=yt(),{contentTypes:l}=ar(),p=(e==="component"?"component":Qt(l,[a,"kind"],""))==="collectionType"?JK:KK,d=n==="manyToOne",h=Qt(l,[r,"info","displayName"],"unknown"),m=d?h:t,v=d?t:h,y=Ri(m,n==="manyToMany"?2:1),_=Qt(l,[r,"restrictRelationsTo"],null),b=Ri(v,["manyToMany","oneToMany","manyToOne","manyWay"].includes(n)?2:1);return n?g.jsxs(Oe,{style:{flex:1},children:[g.jsx(qK,{children:g.jsx(Oe,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center",children:g.jsx(dd,{tagName:"button",children:g.jsx(Oe,{gap:3,children:p.map(k=>{const E=GK[k],T=_===null||_.includes(k);return g.jsx(WK,{tag:"button",$isSelected:n===k,disabled:!T,onClick:()=>{T&&o(ln.onChangeRelationType({target:{oneThatIsCreatingARelationWithAnother:t,value:k}}))},padding:2,type:"button","aria-label":s({id:ae(`relation.${k}`)}),"aria-pressed":n===k,"data-relation-type":k,children:g.jsx(E,{"aria-hidden":"true"},k)},k)})})})})}),g.jsxs(VK,{justifyContent:"center",children:[g.jsxs(Fe,{children:[Bv(y,{length:24}),""]}),g.jsxs(Fe,{textColor:"primary600",children:[s({id:ae(`relation.${n}`)}),""]}),g.jsx(Fe,{children:Bv(b,{length:24})})]})]}):null},XK=({formErrors:e,mainBoxHeader:t,modifiedData:n,naturePickerType:r,onChange:a,targetUid:o})=>{const s=fd(n.relation,n.targetAttribute);return g.jsxs(Oe,{style:{position:"relative"},children:[g.jsx(Ov,{isMain:!0,header:t,error:e?.name||null,name:"name",onChange:a,value:n?.name||""}),g.jsx(YK,{naturePickerType:r,oneThatIsCreatingARelationWithAnother:t,relationType:s,target:n.target,targetUid:o}),g.jsx(Ov,{disabled:["oneWay","manyWay"].includes(s),error:e?.targetAttribute||null,name:"targetAttribute",onChange:a,oneThatIsCreatingARelationWithAnother:t,target:n.target,value:n?.targetAttribute||""})]})},QK=({error:e=null,intlLabel:t,name:n,onChange:r,value:a=void 0,isCreating:o,dynamicZoneTarget:s})=>{const{formatMessage:l}=yt(),{allComponentsCategories:u}=ar(),[p,d]=V.useState(u),h=e?l({id:e,defaultMessage:e}):"",m=l(t),v=_=>{r({target:{name:n,value:_,type:"select-category"}})},y=_=>{d(b=>[...b,_]),v(_)};return g.jsxs(at.Root,{error:h,name:n,children:[g.jsx(at.Label,{children:m}),g.jsx(FO,{disabled:!o&&!s,onChange:v,onCreateOption:y,value:a,creatable:!0,children:p.map(_=>g.jsx(DO,{value:_,children:_},_))}),g.jsx(at.Error,{})]})},Kp=(e,t)=>t.find(n=>n.component===e),ok=(e,t,n=0)=>{const r=Kp(e,t);if(!r||!r.childComponents||r.childComponents.length===0)return n;let a=n;return r.childComponents.forEach(o=>{const s=ok(o.component,t,n+1);s>a&&(a=s)}),a},sk=(e,t)=>{const n=(o,s)=>{const l=[];if(l.push(s),!o.uidsOfAllParents)return l;for(const u of o.uidsOfAllParents){const p=Kp(u,t);p&&l.push(...n(p,s+1))}return l},r=Kp(e,t);return r?Math.max(...n(r,1)):0},eY=({error:e=null,intlLabel:t,isAddingAComponentToAnotherComponent:n,isCreating:r,isCreatingComponentWhileAddingAField:a,componentToCreate:o,name:s,onChange:l,targetUid:u,forTarget:p,value:d})=>{const{formatMessage:h}=yt(),m=e?h({id:e,defaultMessage:e}):"",v=h(t),{componentsGroupedByCategory:y,componentsThatHaveOtherComponentInTheirAttributes:_,nestedComponents:b}=ar(),k=p==="component";let E=Object.entries(y).reduce((T,I)=>{const[N,M]=I,U=M.map(B=>({uid:B.uid,label:B.info.displayName,categoryName:N}));return[...T,...U]},[]);return n&&(E=E.filter(({uid:T})=>{const I=ok(T,_),N=sk(u,b);return I+N<=Db})),k&&(E=E.filter(T=>T.uid!==u)),a&&(E=[{uid:d,label:o?.displayName,categoryName:o?.category}]),g.jsxs(at.Root,{error:m,name:s,children:[g.jsx(at.Label,{children:v}),g.jsx(aa,{disabled:a||!r,onChange:T=>{l({target:{name:s,value:T,type:"select-category"}})},value:d||"",children:E.map(T=>g.jsx(Xn,{value:T.uid,children:`${T.categoryName} - ${T.label}`},T.uid))}),g.jsx(at.Error,{})]})},tY=({dynamicZoneTarget:e,intlLabel:t,name:n,onChange:r,value:a,targetUid:o})=>{const{formatMessage:s}=yt(),{componentsGroupedByCategory:l,contentTypes:u}=ar(),p=Wp(u[o].attributes,e);if(!p)return null;const d="components"in p?p?.components:[],h=Object.keys(l).reduce((y,_)=>{const b=l[_].filter(({uid:k})=>!d.includes(k));return b.length>0&&(y[_]=b),y},{}),m=Object.entries(h).reduce((y,_)=>{const[b,k]=_,E={label:b,children:k.map(({uid:T,info:{displayName:I}})=>({label:I,value:T}))};return y.push(E),y},[]),v=s({id:ae("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:a?.length??0});return g.jsxs(at.Root,{name:n,children:[g.jsx(at.Label,{children:s(t)}),g.jsx(Sb,{id:"select1",customizeContent:()=>v,onChange:y=>{r({target:{name:n,value:y,type:"select-components"}})},options:m,value:a||[]})]})},nY=({intlLabel:e,error:t=void 0,modifiedData:n,name:r,onChange:a,options:o,value:s=""})=>{const{formatMessage:l}=yt(),u=l(e),p=t?l({id:t,defaultMessage:t}):"",d=h=>{a({target:{name:r,value:h,type:"select"}}),s&&n.default!==void 0&&n.default!==null&&a({target:{name:"default",value:null}})};return g.jsxs(at.Root,{error:p,name:r,children:[g.jsx(at.Label,{children:u}),g.jsx(aa,{onChange:d,value:s||"",children:o.map(({metadatas:{intlLabel:h,disabled:m,hidden:v},key:y,value:_})=>g.jsx(Xn,{value:_,disabled:m,hidden:v,children:l({id:h.id,defaultMessage:h.defaultMessage},h.values)},y))}),g.jsx(at.Error,{})]})},rY=({intlLabel:e,error:t=void 0,modifiedData:n,name:r,onChange:a,options:o,value:s=""})=>{const{formatMessage:l}=yt(),u=l(e),p=t?l({id:t,defaultMessage:t}):"",d=h=>{a({target:{name:r,value:h,type:"select"}}),s&&(h==="biginteger"&&s!=="biginteger"&&(n.default!==void 0&&n.default!==null&&a({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&a({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&a({target:{name:"min",value:null}})),typeof h=="string"&&["decimal","float","integer"].includes(h)&&s==="biginteger"&&(n.default!==void 0&&n.default!==null&&a({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&a({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&a({target:{name:"min",value:null}})))};return g.jsxs(at.Root,{error:p,name:r,children:[g.jsx(at.Label,{children:u}),g.jsx(aa,{onChange:d,value:s||"",children:o.map(({metadatas:{intlLabel:h,disabled:m,hidden:v},key:y,value:_})=>g.jsx(Xn,{value:_,disabled:m,hidden:v,children:l(h)},y))}),g.jsx(at.Error,{})]})},aY=({description:e=null,error:t=null,intlLabel:n,modifiedData:r,name:a,onChange:o,value:s=null})=>{const{formatMessage:l}=yt(),u=V.useRef(o),p=V.useRef(s),d=V.useRef(r?.displayName||""),h=r?.displayName||"";V.useEffect(()=>{if(h&&h!==d.current){const _=Fb(h);u.current({target:{name:a,value:_}}),p.current=_,d.current=h}else h||(u.current({target:{name:a,value:""}}),p.current="",d.current="")},[h,a,s]);const m=t?l({id:t,defaultMessage:t}):"",v=e?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",y=l(n);return g.jsxs(at.Root,{error:m,hint:v,name:a,children:[g.jsx(at.Label,{children:y}),g.jsx(ra,{onChange:o,value:s||"",type:"text"}),g.jsx(at.Error,{}),g.jsx(at.Hint,{})]})},IX=(e,t)=>{const n=[];return Object.entries(e).forEach(([r,a])=>{if(a.attributes){const o=Array.isArray(a.attributes)?a.attributes.reduce((s,l,u)=>(s[u.toString()]=l,s),{}):a.attributes;Object.entries(o).forEach(([s,l])=>{l.conditions?.visible&&Object.entries(l.conditions.visible).forEach(([,u])=>{const[p]=u;p&&p.var===t&&n.push({contentTypeUid:r,contentType:a.info.displayName,attribute:l.name||s})})})}}),n},iY=(e,t,n)=>{if(!e?.visible)return"";const[[r,a]]=Object.entries(e.visible),[o,s]=a,l=t.find(m=>m.name===o.var),u=l?l.name:o.var,p=r==="=="?"is":"is not",d=String(s);return`If ${u} ${p} ${d}, then ${r==="=="?"Show":"Hide"} ${n}`},oY=(e,t)=>e.filter(n=>{const r=n.type==="boolean"||n.type==="enumeration",a=n.name!==t;return r&&a}).map(n=>({name:n.name,type:n.type,enum:n.type==="enumeration"?n.enum:void 0})),Uv=({form:e,formErrors:t,genericInputProps:n,modifiedData:r,onChange:a})=>{const{formatMessage:o}=yt();return g.jsx(g.Fragment,{children:e.map((s,l)=>s.items.length===0?null:g.jsxs(De,{children:[s.sectionTitle&&g.jsx(De,{paddingBottom:4,children:g.jsx(Fe,{variant:"delta",tag:"h3",children:o(s.sectionTitle)})}),s.intlLabel&&g.jsx(Fe,{variant:"pi",textColor:"neutral600",children:o(s.intlLabel)}),g.jsx(vr.Root,{gap:4,children:s.items.map((u,p)=>{const d=`${l}.${p}`,h=Qt(r,u.name,void 0),m=Object.keys(t).find(y=>y===u.name),v=m?t[m].id:Qt(t,[...u.name.split(".").filter(y=>y!=="componentToCreate"),"id"],null);if(u.type==="pushRight")return g.jsx(vr.Item,{col:u.size||6,xs:12,direction:"column",alignItems:"stretch",children:g.jsx("div",{})},u.name||d);if(u.type==="condition-form"){const y=Qt(r,u.name),_=n.contentTypeSchema?.attributes||[];if(!n.contentTypeSchema)return console.warn("contentTypeSchema is undefined, skipping condition form"),null;const b=oY(_,r.name),k=o({id:"form.attribute.condition.no-fields",defaultMessage:"No boolean or enumeration fields available to set conditions on."});return g.jsx(vr.Item,{col:u.size||12,xs:12,direction:"column",alignItems:"stretch",children:!y||Object.keys(y).length===0?g.jsxs(De,{children:[y&&Object.keys(y).length>0&&g.jsx(Fe,{variant:"sigma",textColor:"neutral800",marginBottom:2,children:iY(y,b,n.attributeName||r.name)}),g.jsx(Nl,{label:k,children:g.jsx(vt,{marginTop:y&&Object.keys(y).length>0?0:4,fullWidth:!0,variant:"secondary",onClick:()=>{a({target:{name:u.name,value:{visible:{"==":[{var:""},""]}}}})},startIcon:g.jsx("span",{"aria-hidden":!0,children:""}),disabled:b.length===0,children:o({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})})})]}):g.jsx(Vp,{...u,...n,error:v,onChange:a,value:h,autoFocus:p===0,attributeName:r.name,conditionFields:b,onDelete:()=>{a({target:{name:u.name}})}})},u.name||d)}return g.jsx(vr.Item,{col:u.size||6,xs:12,direction:"column",alignItems:"stretch",children:g.jsx(Vp,{...u,...n,error:v,onChange:a,value:h,autoFocus:p===0})},u.name||d)})})]},l))})},sY=({description:e=null,disabled:t=!1,error:n="",intlLabel:r,labelAction:a,name:o,onChange:s,placeholder:l=null,value:u=""})=>{const{formatMessage:p}=yt(),d=n?p({id:n,defaultMessage:n}):"",h=e?p({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",m=p(r),v=l?p({id:l.id,defaultMessage:l.defaultMessage},{...l.values}):"",y=Array.isArray(u)?u.join(`
`):"",_=b=>{const k=b.target.value.split(`
`);s({target:{name:o,value:k}})};return g.jsxs(at.Root,{error:d,hint:h,name:o,children:[g.jsx(at.Label,{action:a,children:m}),g.jsx(ad,{disabled:t,onChange:_,placeholder:v,value:y}),g.jsx(at.Error,{}),g.jsx(at.Hint,{})]})},lY=({disabled:e,tooltipMessage:t,onClick:n,marginTop:r=4})=>{const{formatMessage:a}=yt(),o=g.jsx(vt,{marginTop:r,fullWidth:!0,variant:"secondary",disabled:e,onClick:n,startIcon:g.jsx("span",{"aria-hidden":!0,children:""}),children:a({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})});return t?g.jsx(Nl,{description:t,children:o}):o},cY=xt($o)`
  width: 16px !important;
  height: 16px !important;
  svg {
    width: 16px !important;
    height: 16px !important;
  }
`,uY=e=>{if(!e?.visible)return{dependsOn:"",operator:"is",value:"",action:"show"};const[[t,n]]=Object.entries(e.visible),[r,a]=n;return{dependsOn:r.var,operator:t==="=="?"is":"isNot",value:a,action:"show"}},pY=e=>{if(!e.dependsOn)return null;const t=Lb(),n={dependsOn:e.dependsOn,operator:e.operator,value:e.value};try{return t.validate(n),{visible:{[e.operator==="is"&&e.action==="show"||e.operator==="isNot"&&e.action==="hide"?"==":"!="]:[{var:e.dependsOn},e.value]}}}catch{return null}},dY=({name:e,value:t,onChange:n,onDelete:r,attributeName:a,conditionFields:o=[]})=>{const{formatMessage:s}=yt(),[l,u]=V.useState(uY(t)),[p,d]=V.useState(!1),h=!!t?.visible;Array.isArray(o)||(o=[]);const m=o.find(N=>N.name===l.dependsOn),v=m?.type==="enumeration",y=N=>{u(N);const M=Lb(),U={dependsOn:N.dependsOn,operator:N.operator,value:N.value};try{M.validate(U);const B=N.operator==="is"&&N.action==="show"||N.operator==="isNot"&&N.action==="hide"?"==":"!=",J=N.dependsOn?{visible:{[B]:[{var:N.dependsOn},N.value]}}:null;J&&n({target:{name:e,value:J}})}catch{}},_=()=>{const N={dependsOn:"",operator:"is",value:"",action:"show"};u(N),n({target:{name:e,value:pY(N)}})},b=()=>{u({dependsOn:"",operator:"is",value:"",action:"show"}),n({target:{name:e,value:null}}),r(),d(!1)},k=N=>{const M=N?.toString()||"",B=o.find(Y=>Y.name===M)?.type==="enumeration",J={...l,dependsOn:M,value:M?B?"":!1:l.value};y(J)},E=N=>{const M=N?.toString()||"is",U={...l,operator:M};y(U)},T=N=>{const M=v?N?.toString():N?.toString()==="true",U={...l,value:M};y(U)},I=N=>{const M=N?.toString()||"show",U={...l,action:M};y(U)};return h?g.jsx(De,{marginTop:2,children:g.jsxs(De,{background:"neutral0",hasRadius:!0,borderColor:"neutral200",borderWidth:.5,borderStyle:"solid",children:[g.jsxs(Oe,{justifyContent:"space-between",alignItems:"center",padding:4,children:[g.jsx(Fe,{variant:"sigma",textColor:"neutral800",children:s({id:ae("form.attribute.condition.title"),defaultMessage:"Condition for {name}"},{name:g.jsx("strong",{children:a})})}),g.jsxs(Ya.Root,{open:p,onOpenChange:d,children:[g.jsx(Ya.Trigger,{children:g.jsx(br,{label:"Delete",children:g.jsx(td,{})})}),g.jsx(Do,{onConfirm:b,children:s({id:ae("popUpWarning.bodyMessage.delete-condition"),defaultMessage:"Are you sure you want to delete this condition?"})})]})]}),g.jsxs(De,{background:"neutral100",padding:4,children:[g.jsx(De,{paddingBottom:2,children:g.jsx(Fe,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:s({id:ae("form.attribute.condition.if"),defaultMessage:"IF"})})}),g.jsxs(Oe,{gap:4,children:[g.jsx(De,{minWidth:0,flex:1,children:g.jsx(at.Root,{name:`${e}.field`,children:g.jsx(aa,{value:l.dependsOn,onChange:k,placeholder:s({id:ae("form.attribute.condition.field"),defaultMessage:"field"}),children:o.map(N=>g.jsx(Xn,{value:N.name,children:g.jsxs(Oe,{gap:2,alignItems:"center",children:[g.jsx(cY,{type:N.type}),g.jsx("span",{children:N.name})]})},N.name))})})}),g.jsx(De,{minWidth:0,flex:1,children:g.jsx(at.Root,{name:`${e}.operator`,children:g.jsxs(aa,{value:l.operator,onChange:E,disabled:!l.dependsOn,placeholder:s({id:ae("form.attribute.condition.operator"),defaultMessage:"condition"}),children:[g.jsx(Xn,{value:"is",children:s({id:ae("form.attribute.condition.operator.is"),defaultMessage:"is"})}),g.jsx(Xn,{value:"isNot",children:s({id:ae("form.attribute.condition.operator.isNot"),defaultMessage:"is not"})})]})})}),g.jsx(De,{minWidth:0,flex:1,children:g.jsx(at.Root,{name:`${e}.value`,children:g.jsx(aa,{value:l.value?.toString()||"",onChange:T,disabled:!l.dependsOn,placeholder:s({id:ae("form.attribute.condition.value"),defaultMessage:"value"}),children:v&&m?.enum?m.enum.map(N=>g.jsx(Xn,{value:N,children:N},N)):g.jsxs(g.Fragment,{children:[g.jsx(Xn,{value:"true",children:s({id:ae("form.attribute.condition.value.true"),defaultMessage:"true"})}),g.jsx(Xn,{value:"false",children:s({id:ae("form.attribute.condition.value.false"),defaultMessage:"false"})})]})})})})]})]}),g.jsxs(De,{background:"neutral100",padding:4,children:[g.jsx(De,{paddingBottom:4,children:g.jsx(Fe,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:s({id:ae("form.attribute.condition.then"),defaultMessage:"THEN"})})}),g.jsx(De,{paddingBottom:4,children:g.jsx(at.Root,{name:`${e}.action`,children:g.jsxs(aa,{value:l.action,onChange:I,placeholder:s({id:ae("form.attribute.condition.action"),defaultMessage:"action"}),children:[g.jsxs(Xn,{value:"show",children:["Show ",g.jsx("span",{style:{fontWeight:"bold"},children:a||e})]}),g.jsxs(Xn,{value:"hide",children:["Hide ",g.jsx("span",{style:{fontWeight:"bold"},children:a||e})]})]})})})]})]})}):g.jsx(De,{padding:4,margin:4,hasRadius:!0,background:"neutral0",borderColor:"neutral200",children:g.jsx(lY,{onClick:_})})},Fr={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:ae("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},fY={sections:[{sectionTitle:null,items:[Fr]}]},$i={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:ae("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:ae("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:ae("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},Ke={default:{name:"default",type:"text",intlLabel:{id:ae("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:ae("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:ae("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:ae("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:ae("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:ae("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:ae("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:ae("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:ae("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:ae("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:ae("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:ae("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:ae("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},En={sectionTitle:{id:ae("form.attribute.condition.title"),defaultMessage:"Condition"},intlLabel:{id:ae("form.attribute.condition.description"),defaultMessage:"Toggle field settings depending on the value of another boolean or enumeration field."},items:[{name:"conditions",type:"condition-form",intlLabel:{id:ae("form.attribute.condition.label"),defaultMessage:"Conditions"},validations:{required:!0}}]},hY={blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.private]},En]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:ae("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.private]},En]}},component({repeatable:e},t){if(t==="1")return{sections:$i.advanced()};if(e){const n={...Ke.min,intlLabel:{id:ae("form.attribute.item.minimumComponents"),defaultMessage:"Minimum components"}},r={...Ke.max,intlLabel:{id:ae("form.attribute.item.maximumComponents"),defaultMessage:"Maximum components"}};return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.private,n,r]},En]}}return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.private]},En]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...Ke.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.unique,Ke.private]},En]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.max,Ke.min]},En]}},email(){return{sections:[{sectionTitle:null,items:[{...Ke.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.unique,Ke.maxLength,Ke.minLength,Ke.private]},En]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:ae("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,n)=>e.enum.indexOf(t)===n&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:ae("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:ae("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.private]},En]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.private]},En]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:ae("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.private]},En]}},number(e){const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:ae("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.unique,Ke.max,Ke.min,Ke.private]},En]}},password(){return{sections:[{sectionTitle:null,items:[Ke.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.maxLength,Ke.minLength,Ke.private]},En]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.private]},En]}},richtext(){return{sections:[{sectionTitle:null,items:[Ke.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.maxLength,Ke.minLength,Ke.private]},En]}},text(){return{sections:[{sectionTitle:null,items:[Ke.default,Ke.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.unique,Ke.maxLength,Ke.minLength,Ke.private]},En]}},uid(e){return{sections:[{sectionTitle:null,items:[{...Ke.default,disabled:!!e.targetField,type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ke.required,Ke.maxLength,Ke.minLength,Ke.private,Ke.regex]},En]}}},Yp={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:ae("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:ae("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:ae("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:ae("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},mY={component(e,t){if(t==="1"){const n=e.createComponent===!0?$i.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Yp]},...n]}}return{sections:[{sectionTitle:null,items:[Fr,{name:"component",type:"select-component",intlLabel:{id:ae("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:ae("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:ae("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:ae("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:ae("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Fr,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:ae("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:ae("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:ae("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Fr]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:ae("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:ae("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Fr]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:ae("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:ae("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:ae("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:ae("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Fr,{intlLabel:{id:ae("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:ae("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:ae("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:ae("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:ae("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Fr]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:ae("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:ae("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:ae("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:ae("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Fr]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:ae("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:ae("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:ae("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:ae("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,t,n){const r=n.filter(({type:a})=>["string","text"].includes(a)).map(({name:a})=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}));return{sections:[{sectionTitle:null,items:[{...Fr,placeholder:{id:ae("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:ae("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...r]}]}]}}},Zv={advanced:hY,base:mY};function gY(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var yY=gY;function vY(e){return e!==e}var bY=vY;function xY(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var _Y=xY,wY=yY,kY=bY,CY=_Y;function SY(e,t,n){return t===t?CY(e,t,n):wY(e,kY,n)}var EY=SY,AY=EY;function TY(e,t){var n=e==null?0:e.length;return!!n&&AY(e,t,0)>-1}var IY=TY;function jY(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var RY=jY;function OY(){}var MY=OY,rp=LO,zY=MY,PY=rf,NY=1/0,$Y=rp&&1/PY(new rp([,-0]))[1]==NY?function(e){return new rp(e)}:zY,FY=$Y,DY=kw,LY=IY,BY=RY,UY=Cw,ZY=FY,HY=rf,qY=200;function WY(e,t,n){var r=-1,a=LY,o=e.length,s=!0,l=[],u=l;if(n)s=!1,a=BY;else if(o>=qY){var p=t?null:ZY(e);if(p)return HY(p);s=!1,a=UY,u=new DY}else u=t?[]:l;e:for(;++r<o;){var d=e[r],h=t?t(d):d;if(d=n||d!==0?d:0,s&&h===h){for(var m=u.length;m--;)if(u[m]===h)continue e;t&&u.push(h),l.push(d)}else a(u,h,n)||(u!==l&&u.push(h),l.push(d))}return l}var VY=WY,GY=VY;function JY(e){return e&&e.length?GY(e):[]}var KY=JY;const YY=wn(KY),ap=e=>e?BO(e,{decamelize:!1,lowercase:!1,separator:"_"}):"";var jl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */jl.exports;(function(e,t){(function(){function n(re,ye,A){switch(A.length){case 0:return re.call(ye);case 1:return re.call(ye,A[0]);case 2:return re.call(ye,A[0],A[1]);case 3:return re.call(ye,A[0],A[1],A[2])}return re.apply(ye,A)}function r(re,ye,A,Ue){for(var tt=-1,He=re==null?0:re.length;++tt<He;){var Pn=re[tt];ye(Ue,Pn,A(Pn),re)}return Ue}function a(re,ye){for(var A=-1,Ue=re==null?0:re.length;++A<Ue&&ye(re[A],A,re)!==!1;);return re}function o(re,ye){for(var A=re==null?0:re.length;A--&&ye(re[A],A,re)!==!1;);return re}function s(re,ye){for(var A=-1,Ue=re==null?0:re.length;++A<Ue;)if(!ye(re[A],A,re))return!1;return!0}function l(re,ye){for(var A=-1,Ue=re==null?0:re.length,tt=0,He=[];++A<Ue;){var Pn=re[A];ye(Pn,A,re)&&(He[tt++]=Pn)}return He}function u(re,ye){return!!(re!=null&&re.length)&&T(re,ye,0)>-1}function p(re,ye,A){for(var Ue=-1,tt=re==null?0:re.length;++Ue<tt;)if(A(ye,re[Ue]))return!0;return!1}function d(re,ye){for(var A=-1,Ue=re==null?0:re.length,tt=Array(Ue);++A<Ue;)tt[A]=ye(re[A],A,re);return tt}function h(re,ye){for(var A=-1,Ue=ye.length,tt=re.length;++A<Ue;)re[tt+A]=ye[A];return re}function m(re,ye,A,Ue){var tt=-1,He=re==null?0:re.length;for(Ue&&He&&(A=re[++tt]);++tt<He;)A=ye(A,re[tt],tt,re);return A}function v(re,ye,A,Ue){var tt=re==null?0:re.length;for(Ue&&tt&&(A=re[--tt]);tt--;)A=ye(A,re[tt],tt,re);return A}function y(re,ye){for(var A=-1,Ue=re==null?0:re.length;++A<Ue;)if(ye(re[A],A,re))return!0;return!1}function _(re){return re.split("")}function b(re){return re.match(jk)||[]}function k(re,ye,A){var Ue;return A(re,function(tt,He,Pn){if(ye(tt,He,Pn))return Ue=He,!1}),Ue}function E(re,ye,A,Ue){for(var tt=re.length,He=A+(Ue?1:-1);Ue?He--:++He<tt;)if(ye(re[He],He,re))return He;return-1}function T(re,ye,A){return ye===ye?me(re,ye,A):E(re,N,A)}function I(re,ye,A,Ue){for(var tt=A-1,He=re.length;++tt<He;)if(Ue(re[tt],ye))return tt;return-1}function N(re){return re!==re}function M(re,ye){var A=re==null?0:re.length;return A?q(re,ye)/A:ti}function U(re){return function(ye){return ye==null?C:ye[re]}}function B(re){return function(ye){return re==null?C:re[ye]}}function J(re,ye,A,Ue,tt){return tt(re,function(He,Pn,xc){A=Ue?(Ue=!1,He):ye(A,He,Pn,xc)}),A}function Y(re,ye){var A=re.length;for(re.sort(ye);A--;)re[A]=re[A].value;return re}function q(re,ye){for(var A,Ue=-1,tt=re.length;++Ue<tt;){var He=ye(re[Ue]);He!==C&&(A=A===C?He:A+He)}return A}function pe(re,ye){for(var A=-1,Ue=Array(re);++A<re;)Ue[A]=ye(A);return Ue}function O(re,ye){return d(ye,function(A){return[A,re[A]]})}function K(re){return re&&re.slice(0,S(re)+1).replace(dc,"")}function w(re){return function(ye){return re(ye)}}function L(re,ye){return d(ye,function(A){return re[A]})}function Ae(re,ye){return re.has(ye)}function de(re,ye){for(var A=-1,Ue=re.length;++A<Ue&&T(ye,re[A],0)>-1;);return A}function fe(re,ye){for(var A=re.length;A--&&T(ye,re[A],0)>-1;);return A}function $(re,ye){for(var A=re.length,Ue=0;A--;)re[A]===ye&&++Ue;return Ue}function Re(re){return"\\"+f1[re]}function se(re,ye){return re==null?C:re[ye]}function R(re){return o1.test(re)}function Ne(re){return s1.test(re)}function Q(re){for(var ye,A=[];!(ye=re.next()).done;)A.push(ye.value);return A}function W(re){var ye=-1,A=Array(re.size);return re.forEach(function(Ue,tt){A[++ye]=[tt,Ue]}),A}function we(re,ye){return function(A){return re(ye(A))}}function Se(re,ye){for(var A=-1,Ue=re.length,tt=0,He=[];++A<Ue;){var Pn=re[A];Pn!==ye&&Pn!==X||(re[A]=X,He[tt++]=A)}return He}function ce(re){var ye=-1,A=Array(re.size);return re.forEach(function(Ue){A[++ye]=Ue}),A}function je(re){var ye=-1,A=Array(re.size);return re.forEach(function(Ue){A[++ye]=[Ue,Ue]}),A}function me(re,ye,A){for(var Ue=A-1,tt=re.length;++Ue<tt;)if(re[Ue]===ye)return Ue;return-1}function Te(re,ye,A){for(var Ue=A+1;Ue--;)if(re[Ue]===ye)return Ue;return Ue}function qe(re){return R(re)?he(re):y1(re)}function Ye(re){return R(re)?G(re):_(re)}function S(re){for(var ye=re.length;ye--&&Ek.test(re.charAt(ye)););return ye}function he(re){for(var ye=yc.lastIndex=0;yc.test(re);)++ye;return ye}function G(re){return re.match(yc)||[]}function D(re){return re.match(i1)||[]}var C,ne="4.17.23",_e=200,Ce="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ie="Expected a function",le="Invalid `variable` option passed into `_.template`",ve="__lodash_hash_undefined__",Z=500,X="__lodash_placeholder__",xe=1,Pe=2,We=4,dt=1,Tt=2,_t=1,it=2,fn=4,wt=8,Ot=16,ft=32,wr=64,zn=128,Zr=256,oa=512,Hr=30,sa="...",Vo=800,Xl=16,Hi=1,Go=2,Jo=3,qr=1/0,jr=9007199254740991,Ql=17976931348623157e292,ti=NaN,ir=4294967295,ec=ir-1,tc=ir>>>1,et=[["ary",zn],["bind",_t],["bindKey",it],["curry",wt],["curryRight",Ot],["flip",oa],["partial",ft],["partialRight",wr],["rearg",Zr]],Ct="[object Arguments]",rn="[object Array]",ht="[object AsyncFunction]",Vt="[object Boolean]",Gt="[object Date]",bn="[object DOMException]",ni="[object Error]",ri="[object Function]",Ko="[object GeneratorFunction]",or="[object Map]",Ia="[object Number]",pk="[object Null]",Wr="[object Object]",lf="[object Promise]",dk="[object Proxy]",qi="[object RegExp]",kr="[object Set]",Wi="[object String]",Yo="[object Symbol]",fk="[object Undefined]",Vi="[object WeakMap]",hk="[object WeakSet]",Gi="[object ArrayBuffer]",ai="[object DataView]",nc="[object Float32Array]",rc="[object Float64Array]",ac="[object Int8Array]",ic="[object Int16Array]",oc="[object Int32Array]",sc="[object Uint8Array]",lc="[object Uint8ClampedArray]",cc="[object Uint16Array]",uc="[object Uint32Array]",mk=/\b__p \+= '';/g,gk=/\b(__p \+=) '' \+/g,yk=/(__e\(.*?\)|\b__t\)) \+\n'';/g,cf=/&(?:amp|lt|gt|quot|#39);/g,uf=/[&<>"']/g,vk=RegExp(cf.source),bk=RegExp(uf.source),xk=/<%-([\s\S]+?)%>/g,_k=/<%([\s\S]+?)%>/g,pf=/<%=([\s\S]+?)%>/g,wk=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kk=/^\w*$/,Ck=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pc=/[\\^$.*+?()[\]{}|]/g,Sk=RegExp(pc.source),dc=/^\s+/,Ek=/\s/,Ak=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tk=/\{\n\/\* \[wrapped with (.+)\] \*/,Ik=/,? & /,jk=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Rk=/[()=,{}\[\]\/\s]/,Ok=/\\(\\)?/g,Mk=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,df=/\w*$/,zk=/^[-+]0x[0-9a-f]+$/i,Pk=/^0b[01]+$/i,Nk=/^\[object .+?Constructor\]$/,$k=/^0o[0-7]+$/i,Fk=/^(?:0|[1-9]\d*)$/,Dk=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xo=/($^)/,Lk=/['\n\r\u2028\u2029\\]/g,Qo="\\ud800-\\udfff",Bk="\\u0300-\\u036f",Uk="\\ufe20-\\ufe2f",Zk="\\u20d0-\\u20ff",ff=Bk+Uk+Zk,hf="\\u2700-\\u27bf",mf="a-z\\xdf-\\xf6\\xf8-\\xff",Hk="\\xac\\xb1\\xd7\\xf7",qk="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wk="\\u2000-\\u206f",Vk=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gf="A-Z\\xc0-\\xd6\\xd8-\\xde",yf="\\ufe0e\\ufe0f",vf=Hk+qk+Wk+Vk,fc="[']",Gk="["+Qo+"]",bf="["+vf+"]",es="["+ff+"]",xf="\\d+",Jk="["+hf+"]",_f="["+mf+"]",wf="[^"+Qo+vf+xf+hf+mf+gf+"]",hc="\\ud83c[\\udffb-\\udfff]",Kk="(?:"+es+"|"+hc+")",kf="[^"+Qo+"]",mc="(?:\\ud83c[\\udde6-\\uddff]){2}",gc="[\\ud800-\\udbff][\\udc00-\\udfff]",ii="["+gf+"]",Cf="\\u200d",Sf="(?:"+_f+"|"+wf+")",Yk="(?:"+ii+"|"+wf+")",Ef="(?:"+fc+"(?:d|ll|m|re|s|t|ve))?",Af="(?:"+fc+"(?:D|LL|M|RE|S|T|VE))?",Tf=Kk+"?",If="["+yf+"]?",Xk="(?:"+Cf+"(?:"+[kf,mc,gc].join("|")+")"+If+Tf+")*",Qk="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",e1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",jf=If+Tf+Xk,t1="(?:"+[Jk,mc,gc].join("|")+")"+jf,n1="(?:"+[kf+es+"?",es,mc,gc,Gk].join("|")+")",r1=RegExp(fc,"g"),a1=RegExp(es,"g"),yc=RegExp(hc+"(?="+hc+")|"+n1+jf,"g"),i1=RegExp([ii+"?"+_f+"+"+Ef+"(?="+[bf,ii,"$"].join("|")+")",Yk+"+"+Af+"(?="+[bf,ii+Sf,"$"].join("|")+")",ii+"?"+Sf+"+"+Ef,ii+"+"+Af,e1,Qk,xf,t1].join("|"),"g"),o1=RegExp("["+Cf+Qo+ff+yf+"]"),s1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,l1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],c1=-1,Bt={};Bt[nc]=Bt[rc]=Bt[ac]=Bt[ic]=Bt[oc]=Bt[sc]=Bt[lc]=Bt[cc]=Bt[uc]=!0,Bt[Ct]=Bt[rn]=Bt[Gi]=Bt[Vt]=Bt[ai]=Bt[Gt]=Bt[ni]=Bt[ri]=Bt[or]=Bt[Ia]=Bt[Wr]=Bt[qi]=Bt[kr]=Bt[Wi]=Bt[Vi]=!1;var Nt={};Nt[Ct]=Nt[rn]=Nt[Gi]=Nt[ai]=Nt[Vt]=Nt[Gt]=Nt[nc]=Nt[rc]=Nt[ac]=Nt[ic]=Nt[oc]=Nt[or]=Nt[Ia]=Nt[Wr]=Nt[qi]=Nt[kr]=Nt[Wi]=Nt[Yo]=Nt[sc]=Nt[lc]=Nt[cc]=Nt[uc]=!0,Nt[ni]=Nt[ri]=Nt[Vi]=!1;var u1={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},p1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d1={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},f1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},h1=parseFloat,m1=parseInt,Rf=typeof Qn=="object"&&Qn&&Qn.Object===Object&&Qn,g1=typeof self=="object"&&self&&self.Object===Object&&self,xn=Rf||g1||Function("return this")(),vc=t&&!t.nodeType&&t,ja=vc&&!0&&e&&!e.nodeType&&e,Of=ja&&ja.exports===vc,bc=Of&&Rf.process,sr=function(){try{var re=ja&&ja.require&&ja.require("util").types;return re||bc&&bc.binding&&bc.binding("util")}catch{}}(),Mf=sr&&sr.isArrayBuffer,zf=sr&&sr.isDate,Pf=sr&&sr.isMap,Nf=sr&&sr.isRegExp,$f=sr&&sr.isSet,Ff=sr&&sr.isTypedArray,y1=U("length"),v1=B(u1),b1=B(p1),x1=B(d1),_1=function re(ye){function A(i){if(an(i)&&!ot(i)&&!(i instanceof He)){if(i instanceof tt)return i;if(jt.call(i,"__wrapped__"))return Oh(i)}return new tt(i)}function Ue(){}function tt(i,c){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=C}function He(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ir,this.__views__=[]}function Pn(){var i=new He(this.__wrapped__);return i.__actions__=Nn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Nn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Nn(this.__views__),i}function xc(){if(this.__filtered__){var i=new He(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function w1(){var i=this.__wrapped__.value(),c=this.__dir__,f=ot(i),x=c<0,j=f?i.length:0,F=RC(0,j,this.__views__),H=F.start,ee=F.end,oe=ee-H,ke=x?ee:H-1,be=this.__iteratees__,Ie=be.length,Le=0,Ve=kn(oe,this.__takeCount__);if(!f||!x&&j==oe&&Ve==oe)return ih(i,this.__actions__);var Xe=[];e:for(;oe--&&Le<Ve;){ke+=c;for(var st=-1,Qe=i[ke];++st<Ie;){var mt=be[st],gt=mt.iteratee,Sn=mt.type,Ln=gt(Qe);if(Sn==Go)Qe=Ln;else if(!Ln){if(Sn==Hi)continue e;break e}}Xe[Le++]=Qe}return Xe}function Ra(i){var c=-1,f=i==null?0:i.length;for(this.clear();++c<f;){var x=i[c];this.set(x[0],x[1])}}function k1(){this.__data__=oo?oo(null):{},this.size=0}function C1(i){var c=this.has(i)&&delete this.__data__[i];return this.size-=c?1:0,c}function S1(i){var c=this.__data__;if(oo){var f=c[i];return f===ve?C:f}return jt.call(c,i)?c[i]:C}function E1(i){var c=this.__data__;return oo?c[i]!==C:jt.call(c,i)}function A1(i,c){var f=this.__data__;return this.size+=this.has(i)?0:1,f[i]=oo&&c===C?ve:c,this}function Vr(i){var c=-1,f=i==null?0:i.length;for(this.clear();++c<f;){var x=i[c];this.set(x[0],x[1])}}function T1(){this.__data__=[],this.size=0}function I1(i){var c=this.__data__,f=ts(c,i);return!(f<0)&&(f==c.length-1?c.pop():Is.call(c,f,1),--this.size,!0)}function j1(i){var c=this.__data__,f=ts(c,i);return f<0?C:c[f][1]}function R1(i){return ts(this.__data__,i)>-1}function O1(i,c){var f=this.__data__,x=ts(f,i);return x<0?(++this.size,f.push([i,c])):f[x][1]=c,this}function Gr(i){var c=-1,f=i==null?0:i.length;for(this.clear();++c<f;){var x=i[c];this.set(x[0],x[1])}}function M1(){this.size=0,this.__data__={hash:new Ra,map:new(ao||Vr),string:new Ra}}function z1(i){var c=fs(this,i).delete(i);return this.size-=c?1:0,c}function P1(i){return fs(this,i).get(i)}function N1(i){return fs(this,i).has(i)}function $1(i,c){var f=fs(this,i),x=f.size;return f.set(i,c),this.size+=f.size==x?0:1,this}function Oa(i){var c=-1,f=i==null?0:i.length;for(this.__data__=new Gr;++c<f;)this.add(i[c])}function F1(i){return this.__data__.set(i,ve),this}function D1(i){return this.__data__.has(i)}function Cr(i){this.size=(this.__data__=new Vr(i)).size}function L1(){this.__data__=new Vr,this.size=0}function B1(i){var c=this.__data__,f=c.delete(i);return this.size=c.size,f}function U1(i){return this.__data__.get(i)}function Z1(i){return this.__data__.has(i)}function H1(i,c){var f=this.__data__;if(f instanceof Vr){var x=f.__data__;if(!ao||x.length<_e-1)return x.push([i,c]),this.size=++f.size,this;f=this.__data__=new Gr(x)}return f.set(i,c),this.size=f.size,this}function Df(i,c){var f=ot(i),x=!f&&Fa(i),j=!f&&!x&&fa(i),F=!f&&!x&&!j&&gi(i),H=f||x||j||F,ee=H?pe(i.length,LA):[],oe=ee.length;for(var ke in i)!c&&!jt.call(i,ke)||H&&(ke=="length"||j&&(ke=="offset"||ke=="parent")||F&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||Xr(ke,oe))||ee.push(ke);return ee}function Lf(i){var c=i.length;return c?i[jc(0,c-1)]:C}function q1(i,c){return hs(Nn(i),Ma(c,0,i.length))}function W1(i){return hs(Nn(i))}function _c(i,c,f){(f===C||Sr(i[c],f))&&(f!==C||c in i)||Jr(i,c,f)}function Ji(i,c,f){var x=i[c];jt.call(i,c)&&Sr(x,f)&&(f!==C||c in i)||Jr(i,c,f)}function ts(i,c){for(var f=i.length;f--;)if(Sr(i[f][0],c))return f;return-1}function V1(i,c,f,x){return da(i,function(j,F,H){c(x,j,f(j),H)}),x}function Bf(i,c){return i&&Or(c,vn(c),i)}function G1(i,c){return i&&Or(c,Fn(c),i)}function Jr(i,c,f){c=="__proto__"&&js?js(i,c,{configurable:!0,enumerable:!0,value:f,writable:!0}):i[c]=f}function wc(i,c){for(var f=-1,x=c.length,j=hn(x),F=i==null;++f<x;)j[f]=F?C:Jc(i,c[f]);return j}function Ma(i,c,f){return i===i&&(f!==C&&(i=i<=f?i:f),c!==C&&(i=i>=c?i:c)),i}function lr(i,c,f,x,j,F){var H,ee=c&xe,oe=c&Pe,ke=c&We;if(f&&(H=j?f(i,x,j,F):f(i)),H!==C)return H;if(!Yt(i))return i;var be=ot(i);if(be){if(H=MC(i),!ee)return Nn(i,H)}else{var Ie=Cn(i),Le=Ie==ri||Ie==Ko;if(fa(i))return sh(i,ee);if(Ie==Wr||Ie==Ct||Le&&!j){if(H=oe||Le?{}:Sh(i),!ee)return oe?kC(i,G1(H,i)):wC(i,Bf(H,i))}else{if(!Nt[Ie])return j?i:{};H=zC(i,Ie,ee)}}F||(F=new Cr);var Ve=F.get(i);if(Ve)return Ve;F.set(i,H),wm(i)?i.forEach(function(Qe){H.add(lr(Qe,c,f,Qe,i,F))}):_m(i)&&i.forEach(function(Qe,mt){H.set(mt,lr(Qe,c,f,mt,i,F))});var Xe=ke?oe?Bc:Lc:oe?Fn:vn,st=be?C:Xe(i);return a(st||i,function(Qe,mt){st&&(mt=Qe,Qe=i[mt]),Ji(H,mt,lr(Qe,c,f,mt,i,F))}),H}function J1(i){var c=vn(i);return function(f){return Uf(f,i,c)}}function Uf(i,c,f){var x=f.length;if(i==null)return!x;for(i=Ut(i);x--;){var j=f[x],F=c[j],H=i[j];if(H===C&&!(j in i)||!F(H))return!1}return!0}function Zf(i,c,f){if(typeof i!="function")throw new dr(ie);return lo(function(){i.apply(C,f)},c)}function Ki(i,c,f,x){var j=-1,F=u,H=!0,ee=i.length,oe=[],ke=c.length;if(!ee)return oe;f&&(c=d(c,w(f))),x?(F=p,H=!1):c.length>=_e&&(F=Ae,H=!1,c=new Oa(c));e:for(;++j<ee;){var be=i[j],Ie=f==null?be:f(be);if(be=x||be!==0?be:0,H&&Ie===Ie){for(var Le=ke;Le--;)if(c[Le]===Ie)continue e;oe.push(be)}else F(c,Ie,x)||oe.push(be)}return oe}function K1(i,c){var f=!0;return da(i,function(x,j,F){return f=!!c(x,j,F)}),f}function ns(i,c,f){for(var x=-1,j=i.length;++x<j;){var F=i[x],H=c(F);if(H!=null&&(ee===C?H===H&&!Jn(H):f(H,ee)))var ee=H,oe=F}return oe}function Y1(i,c,f,x){var j=i.length;for(f=lt(f),f<0&&(f=-f>j?0:j+f),x=x===C||x>j?j:lt(x),x<0&&(x+=j),x=f>x?0:Kh(x);f<x;)i[f++]=c;return i}function Hf(i,c){var f=[];return da(i,function(x,j,F){c(x,j,F)&&f.push(x)}),f}function _n(i,c,f,x,j){var F=-1,H=i.length;for(f||(f=NC),j||(j=[]);++F<H;){var ee=i[F];c>0&&f(ee)?c>1?_n(ee,c-1,f,x,j):h(j,ee):x||(j[j.length]=ee)}return j}function Rr(i,c){return i&&lu(i,c,vn)}function kc(i,c){return i&&fm(i,c,vn)}function rs(i,c){return l(c,function(f){return Qr(i[f])})}function za(i,c){c=ca(c,i);for(var f=0,x=c.length;i!=null&&f<x;)i=i[Mr(c[f++])];return f&&f==x?i:C}function qf(i,c,f){var x=c(i);return ot(i)?x:h(x,f(i))}function Tn(i){return i==null?i===C?fk:pk:$a&&$a in Ut(i)?jC(i):UC(i)}function Cc(i,c){return i>c}function X1(i,c){return i!=null&&jt.call(i,c)}function Q1(i,c){return i!=null&&c in Ut(i)}function eC(i,c,f){return i>=kn(c,f)&&i<mn(c,f)}function Sc(i,c,f){for(var x=f?p:u,j=i[0].length,F=i.length,H=F,ee=hn(F),oe=1/0,ke=[];H--;){var be=i[H];H&&c&&(be=d(be,w(c))),oe=kn(be.length,oe),ee[H]=!f&&(c||j>=120&&be.length>=120)?new Oa(H&&be):C}be=i[0];var Ie=-1,Le=ee[0];e:for(;++Ie<j&&ke.length<oe;){var Ve=be[Ie],Xe=c?c(Ve):Ve;if(Ve=f||Ve!==0?Ve:0,!(Le?Ae(Le,Xe):x(ke,Xe,f))){for(H=F;--H;){var st=ee[H];if(!(st?Ae(st,Xe):x(i[H],Xe,f)))continue e}Le&&Le.push(Xe),ke.push(Ve)}}return ke}function tC(i,c,f,x){return Rr(i,function(j,F,H){c(x,f(j),F,H)}),x}function Yi(i,c,f){c=ca(c,i),i=Ih(i,c);var x=i==null?i:i[Mr(ur(c))];return x==null?C:n(x,i,f)}function Wf(i){return an(i)&&Tn(i)==Ct}function nC(i){return an(i)&&Tn(i)==Gi}function rC(i){return an(i)&&Tn(i)==Gt}function Xi(i,c,f,x,j){return i===c||(i==null||c==null||!an(i)&&!an(c)?i!==i&&c!==c:aC(i,c,f,x,Xi,j))}function aC(i,c,f,x,j,F){var H=ot(i),ee=ot(c),oe=H?rn:Cn(i),ke=ee?rn:Cn(c);oe=oe==Ct?Wr:oe,ke=ke==Ct?Wr:ke;var be=oe==Wr,Ie=ke==Wr,Le=oe==ke;if(Le&&fa(i)){if(!fa(c))return!1;H=!0,be=!1}if(Le&&!be)return F||(F=new Cr),H||gi(i)?kh(i,c,f,x,j,F):TC(i,c,oe,f,x,j,F);if(!(f&dt)){var Ve=be&&jt.call(i,"__wrapped__"),Xe=Ie&&jt.call(c,"__wrapped__");if(Ve||Xe){var st=Ve?i.value():i,Qe=Xe?c.value():c;return F||(F=new Cr),j(st,Qe,f,x,F)}}return!!Le&&(F||(F=new Cr),IC(i,c,f,x,j,F))}function iC(i){return an(i)&&Cn(i)==or}function Ec(i,c,f,x){var j=f.length,F=j,H=!x;if(i==null)return!F;for(i=Ut(i);j--;){var ee=f[j];if(H&&ee[2]?ee[1]!==i[ee[0]]:!(ee[0]in i))return!1}for(;++j<F;){ee=f[j];var oe=ee[0],ke=i[oe],be=ee[1];if(H&&ee[2]){if(ke===C&&!(oe in i))return!1}else{var Ie=new Cr;if(x)var Le=x(ke,be,oe,i,c,Ie);if(!(Le===C?Xi(be,ke,dt|Tt,x,Ie):Le))return!1}}return!0}function Vf(i){return!(!Yt(i)||FC(i))&&(Qr(i)?qA:Nk).test(Na(i))}function oC(i){return an(i)&&Tn(i)==qi}function sC(i){return an(i)&&Cn(i)==kr}function lC(i){return an(i)&&bs(i.length)&&!!Bt[Tn(i)]}function Gf(i){return typeof i=="function"?i:i==null?Dn:typeof i=="object"?ot(i)?Yf(i[0],i[1]):Kf(i):nm(i)}function Ac(i){if(!to(i))return YA(i);var c=[];for(var f in Ut(i))jt.call(i,f)&&f!="constructor"&&c.push(f);return c}function cC(i){if(!Yt(i))return BC(i);var c=to(i),f=[];for(var x in i)(x!="constructor"||!c&&jt.call(i,x))&&f.push(x);return f}function Tc(i,c){return i<c}function Jf(i,c){var f=-1,x=$n(i)?hn(i.length):[];return da(i,function(j,F,H){x[++f]=c(j,F,H)}),x}function Kf(i){var c=Uc(i);return c.length==1&&c[0][2]?Ah(c[0][0],c[0][1]):function(f){return f===i||Ec(f,i,c)}}function Yf(i,c){return Zc(i)&&Eh(c)?Ah(Mr(i),c):function(f){var x=Jc(f,i);return x===C&&x===c?Kc(f,i):Xi(c,x,dt|Tt)}}function as(i,c,f,x,j){i!==c&&lu(c,function(F,H){if(j||(j=new Cr),Yt(F))uC(i,c,H,f,as,x,j);else{var ee=x?x(qc(i,H),F,H+"",i,c,j):C;ee===C&&(ee=F),_c(i,H,ee)}},Fn)}function uC(i,c,f,x,j,F,H){var ee=qc(i,f),oe=qc(c,f),ke=H.get(oe);if(ke)return _c(i,f,ke),C;var be=F?F(ee,oe,f+"",i,c,H):C,Ie=be===C;if(Ie){var Le=ot(oe),Ve=!Le&&fa(oe),Xe=!Le&&!Ve&&gi(oe);be=oe,Le||Ve||Xe?ot(ee)?be=ee:sn(ee)?be=Nn(ee):Ve?(Ie=!1,be=sh(oe,!0)):Xe?(Ie=!1,be=lh(oe,!0)):be=[]:no(oe)||Fa(oe)?(be=ee,Fa(ee)?be=Yh(ee):Yt(ee)&&!Qr(ee)||(be=Sh(oe))):Ie=!1}Ie&&(H.set(oe,be),j(be,oe,x,F,H),H.delete(oe)),_c(i,f,be)}function Xf(i,c){var f=i.length;if(f)return c+=c<0?f:0,Xr(c,f)?i[c]:C}function Qf(i,c,f){c=c.length?d(c,function(j){return ot(j)?function(F){return za(F,j.length===1?j[0]:j)}:j}):[Dn];var x=-1;return c=d(c,w(nt())),Y(Jf(i,function(j,F,H){return{criteria:d(c,function(ee){return ee(j)}),index:++x,value:j}}),function(j,F){return _C(j,F,f)})}function pC(i,c){return eh(i,c,function(f,x){return Kc(i,x)})}function eh(i,c,f){for(var x=-1,j=c.length,F={};++x<j;){var H=c[x],ee=za(i,H);f(ee,H)&&Qi(F,ca(H,i),ee)}return F}function dC(i){return function(c){return za(c,i)}}function Ic(i,c,f,x){var j=x?I:T,F=-1,H=c.length,ee=i;for(i===c&&(c=Nn(c)),f&&(ee=d(i,w(f)));++F<H;)for(var oe=0,ke=c[F],be=f?f(ke):ke;(oe=j(ee,be,oe,x))>-1;)ee!==i&&Is.call(ee,oe,1),Is.call(i,oe,1);return i}function th(i,c){for(var f=i?c.length:0,x=f-1;f--;){var j=c[f];if(f==x||j!==F){var F=j;Xr(j)?Is.call(i,j,1):Mc(i,j)}}return i}function jc(i,c){return i+Os(um()*(c-i+1))}function fC(i,c,f,x){for(var j=-1,F=mn(Rs((c-i)/(f||1)),0),H=hn(F);F--;)H[x?F:++j]=i,i+=f;return H}function Rc(i,c){var f="";if(!i||c<1||c>jr)return f;do c%2&&(f+=i),c=Os(c/2),c&&(i+=i);while(c);return f}function ut(i,c){return pu(Th(i,c,Dn),i+"")}function hC(i){return Lf(ui(i))}function mC(i,c){var f=ui(i);return hs(f,Ma(c,0,f.length))}function Qi(i,c,f,x){if(!Yt(i))return i;c=ca(c,i);for(var j=-1,F=c.length,H=F-1,ee=i;ee!=null&&++j<F;){var oe=Mr(c[j]),ke=f;if(oe==="__proto__"||oe==="constructor"||oe==="prototype")return i;if(j!=H){var be=ee[oe];ke=x?x(be,oe,ee):C,ke===C&&(ke=Yt(be)?be:Xr(c[j+1])?[]:{})}Ji(ee,oe,ke),ee=ee[oe]}return i}function gC(i){return hs(ui(i))}function cr(i,c,f){var x=-1,j=i.length;c<0&&(c=-c>j?0:j+c),f=f>j?j:f,f<0&&(f+=j),j=c>f?0:f-c>>>0,c>>>=0;for(var F=hn(j);++x<j;)F[x]=i[x+c];return F}function yC(i,c){var f;return da(i,function(x,j,F){return f=c(x,j,F),!f}),!!f}function is(i,c,f){var x=0,j=i==null?x:i.length;if(typeof c=="number"&&c===c&&j<=tc){for(;x<j;){var F=x+j>>>1,H=i[F];H!==null&&!Jn(H)&&(f?H<=c:H<c)?x=F+1:j=F}return j}return Oc(i,c,Dn,f)}function Oc(i,c,f,x){var j=0,F=i==null?0:i.length;if(F===0)return 0;c=f(c);for(var H=c!==c,ee=c===null,oe=Jn(c),ke=c===C;j<F;){var be=Os((j+F)/2),Ie=f(i[be]),Le=Ie!==C,Ve=Ie===null,Xe=Ie===Ie,st=Jn(Ie);if(H)var Qe=x||Xe;else Qe=ke?Xe&&(x||Le):ee?Xe&&Le&&(x||!Ve):oe?Xe&&Le&&!Ve&&(x||!st):!Ve&&!st&&(x?Ie<=c:Ie<c);Qe?j=be+1:F=be}return kn(F,ec)}function nh(i,c){for(var f=-1,x=i.length,j=0,F=[];++f<x;){var H=i[f],ee=c?c(H):H;if(!f||!Sr(ee,oe)){var oe=ee;F[j++]=H===0?0:H}}return F}function rh(i){return typeof i=="number"?i:Jn(i)?ti:+i}function Gn(i){if(typeof i=="string")return i;if(ot(i))return d(i,Gn)+"";if(Jn(i))return pm?pm.call(i):"";var c=i+"";return c=="0"&&1/i==-qr?"-0":c}function la(i,c,f){var x=-1,j=u,F=i.length,H=!0,ee=[],oe=ee;if(f)H=!1,j=p;else if(F>=_e){var ke=c?null:lT(i);if(ke)return ce(ke);H=!1,j=Ae,oe=new Oa}else oe=c?[]:ee;e:for(;++x<F;){var be=i[x],Ie=c?c(be):be;if(be=f||be!==0?be:0,H&&Ie===Ie){for(var Le=oe.length;Le--;)if(oe[Le]===Ie)continue e;c&&oe.push(Ie),ee.push(be)}else j(oe,Ie,f)||(oe!==ee&&oe.push(Ie),ee.push(be))}return ee}function Mc(i,c){c=ca(c,i);var f=-1,x=c.length;if(!x)return!0;for(var j=i==null||typeof i!="object"&&typeof i!="function";++f<x;){var F=c[f];if(typeof F=="string"){if(F==="__proto__"&&!jt.call(i,"__proto__"))return!1;if(F==="constructor"&&f+1<x&&typeof c[f+1]=="string"&&c[f+1]==="prototype"){if(j&&f===0)continue;return!1}}}var H=Ih(i,c);return H==null||delete H[Mr(ur(c))]}function ah(i,c,f,x){return Qi(i,c,f(za(i,c)),x)}function os(i,c,f,x){for(var j=i.length,F=x?j:-1;(x?F--:++F<j)&&c(i[F],F,i););return f?cr(i,x?0:F,x?F+1:j):cr(i,x?F+1:0,x?j:F)}function ih(i,c){var f=i;return f instanceof He&&(f=f.value()),m(c,function(x,j){return j.func.apply(j.thisArg,h([x],j.args))},f)}function zc(i,c,f){var x=i.length;if(x<2)return x?la(i[0]):[];for(var j=-1,F=hn(x);++j<x;)for(var H=i[j],ee=-1;++ee<x;)ee!=j&&(F[j]=Ki(F[j]||H,i[ee],c,f));return la(_n(F,1),c,f)}function oh(i,c,f){for(var x=-1,j=i.length,F=c.length,H={};++x<j;)f(H,i[x],x<F?c[x]:C);return H}function Pc(i){return sn(i)?i:[]}function Nc(i){return typeof i=="function"?i:Dn}function ca(i,c){return ot(i)?i:Zc(i,c)?[i]:vm(It(i))}function ua(i,c,f){var x=i.length;return f=f===C?x:f,!c&&f>=x?i:cr(i,c,f)}function sh(i,c){if(c)return i.slice();var f=i.length,x=im?im(f):new i.constructor(f);return i.copy(x),x}function $c(i){var c=new i.constructor(i.byteLength);return new As(c).set(new As(i)),c}function vC(i,c){return new i.constructor(c?$c(i.buffer):i.buffer,i.byteOffset,i.byteLength)}function bC(i){var c=new i.constructor(i.source,df.exec(i));return c.lastIndex=i.lastIndex,c}function xC(i){return so?Ut(so.call(i)):{}}function lh(i,c){return new i.constructor(c?$c(i.buffer):i.buffer,i.byteOffset,i.length)}function ch(i,c){if(i!==c){var f=i!==C,x=i===null,j=i===i,F=Jn(i),H=c!==C,ee=c===null,oe=c===c,ke=Jn(c);if(!ee&&!ke&&!F&&i>c||F&&H&&oe&&!ee&&!ke||x&&H&&oe||!f&&oe||!j)return 1;if(!x&&!F&&!ke&&i<c||ke&&f&&j&&!x&&!F||ee&&f&&j||!H&&j||!oe)return-1}return 0}function _C(i,c,f){for(var x=-1,j=i.criteria,F=c.criteria,H=j.length,ee=f.length;++x<H;){var oe=ch(j[x],F[x]);if(oe)return x>=ee?oe:oe*(f[x]=="desc"?-1:1)}return i.index-c.index}function uh(i,c,f,x){for(var j=-1,F=i.length,H=f.length,ee=-1,oe=c.length,ke=mn(F-H,0),be=hn(oe+ke),Ie=!x;++ee<oe;)be[ee]=c[ee];for(;++j<H;)(Ie||j<F)&&(be[f[j]]=i[j]);for(;ke--;)be[ee++]=i[j++];return be}function ph(i,c,f,x){for(var j=-1,F=i.length,H=-1,ee=f.length,oe=-1,ke=c.length,be=mn(F-ee,0),Ie=hn(be+ke),Le=!x;++j<be;)Ie[j]=i[j];for(var Ve=j;++oe<ke;)Ie[Ve+oe]=c[oe];for(;++H<ee;)(Le||j<F)&&(Ie[Ve+f[H]]=i[j++]);return Ie}function Nn(i,c){var f=-1,x=i.length;for(c||(c=hn(x));++f<x;)c[f]=i[f];return c}function Or(i,c,f,x){var j=!f;f||(f={});for(var F=-1,H=c.length;++F<H;){var ee=c[F],oe=x?x(f[ee],i[ee],ee,f,i):C;oe===C&&(oe=i[ee]),j?Jr(f,ee,oe):Ji(f,ee,oe)}return f}function wC(i,c){return Or(i,uu(i),c)}function kC(i,c){return Or(i,gm(i),c)}function ss(i,c){return function(f,x){var j=ot(f)?r:V1,F=c?c():{};return j(f,i,nt(x,2),F)}}function si(i){return ut(function(c,f){var x=-1,j=f.length,F=j>1?f[j-1]:C,H=j>2?f[2]:C;for(F=i.length>3&&typeof F=="function"?(j--,F):C,H&&In(f[0],f[1],H)&&(F=j<3?C:F,j=1),c=Ut(c);++x<j;){var ee=f[x];ee&&i(c,ee,x,F)}return c})}function dh(i,c){return function(f,x){if(f==null)return f;if(!$n(f))return i(f,x);for(var j=f.length,F=c?j:-1,H=Ut(f);(c?F--:++F<j)&&x(H[F],F,H)!==!1;);return f}}function fh(i){return function(c,f,x){for(var j=-1,F=Ut(c),H=x(c),ee=H.length;ee--;){var oe=H[i?ee:++j];if(f(F[oe],oe,F)===!1)break}return c}}function CC(i,c,f){function x(){return(this&&this!==xn&&this instanceof x?F:i).apply(j?f:this,arguments)}var j=c&_t,F=eo(i);return x}function hh(i){return function(c){c=It(c);var f=R(c)?Ye(c):C,x=f?f[0]:c.charAt(0),j=f?ua(f,1).join(""):c.slice(1);return x[i]()+j}}function li(i){return function(c){return m(tm(em(c).replace(r1,"")),i,"")}}function eo(i){return function(){var c=arguments;switch(c.length){case 0:return new i;case 1:return new i(c[0]);case 2:return new i(c[0],c[1]);case 3:return new i(c[0],c[1],c[2]);case 4:return new i(c[0],c[1],c[2],c[3]);case 5:return new i(c[0],c[1],c[2],c[3],c[4]);case 6:return new i(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new i(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var f=mi(i.prototype),x=i.apply(f,c);return Yt(x)?x:f}}function SC(i,c,f){function x(){for(var F=arguments.length,H=hn(F),ee=F,oe=ci(x);ee--;)H[ee]=arguments[ee];var ke=F<3&&H[0]!==oe&&H[F-1]!==oe?[]:Se(H,oe);return F-=ke.length,F<f?bh(i,c,ls,x.placeholder,C,H,ke,C,C,f-F):n(this&&this!==xn&&this instanceof x?j:i,this,H)}var j=eo(i);return x}function mh(i){return function(c,f,x){var j=Ut(c);if(!$n(c)){var F=nt(f,3);c=vn(c),f=function(ee){return F(j[ee],ee,j)}}var H=i(c,f,x);return H>-1?j[F?c[H]:H]:C}}function gh(i){return Yr(function(c){var f=c.length,x=f,j=tt.prototype.thru;for(i&&c.reverse();x--;){var F=c[x];if(typeof F!="function")throw new dr(ie);if(j&&!H&&ds(F)=="wrapper")var H=new tt([],!0)}for(x=H?x:f;++x<f;){F=c[x];var ee=ds(F),oe=ee=="wrapper"?cu(F):C;H=oe&&Hc(oe[0])&&oe[1]==(zn|wt|ft|Zr)&&!oe[4].length&&oe[9]==1?H[ds(oe[0])].apply(H,oe[3]):F.length==1&&Hc(F)?H[ee]():H.thru(F)}return function(){var ke=arguments,be=ke[0];if(H&&ke.length==1&&ot(be))return H.plant(be).value();for(var Ie=0,Le=f?c[Ie].apply(this,ke):be;++Ie<f;)Le=c[Ie].call(this,Le);return Le}})}function ls(i,c,f,x,j,F,H,ee,oe,ke){function be(){for(var mt=arguments.length,gt=hn(mt),Sn=mt;Sn--;)gt[Sn]=arguments[Sn];if(Xe)var Ln=ci(be),ha=$(gt,Ln);if(x&&(gt=uh(gt,x,j,Xe)),F&&(gt=ph(gt,F,H,Xe)),mt-=ha,Xe&&mt<ke)return bh(i,c,ls,be.placeholder,f,gt,Se(gt,Ln),ee,oe,ke-mt);var on=Le?f:this,fr=Ve?on[i]:i;return mt=gt.length,ee?gt=ZC(gt,ee):st&&mt>1&&gt.reverse(),Ie&&oe<mt&&(gt.length=oe),this&&this!==xn&&this instanceof be&&(fr=Qe||eo(fr)),fr.apply(on,gt)}var Ie=c&zn,Le=c&_t,Ve=c&it,Xe=c&(wt|Ot),st=c&oa,Qe=Ve?C:eo(i);return be}function yh(i,c){return function(f,x){return tC(f,i,c(x),{})}}function cs(i,c){return function(f,x){var j;if(f===C&&x===C)return c;if(f!==C&&(j=f),x!==C){if(j===C)return x;typeof f=="string"||typeof x=="string"?(f=Gn(f),x=Gn(x)):(f=rh(f),x=rh(x)),j=i(f,x)}return j}}function Fc(i){return Yr(function(c){return c=d(c,w(nt())),ut(function(f){var x=this;return i(c,function(j){return n(j,x,f)})})})}function us(i,c){c=c===C?" ":Gn(c);var f=c.length;if(f<2)return f?Rc(c,i):c;var x=Rc(c,Rs(i/qe(c)));return R(c)?ua(Ye(x),0,i).join(""):x.slice(0,i)}function EC(i,c,f,x){function j(){for(var ee=-1,oe=arguments.length,ke=-1,be=x.length,Ie=hn(be+oe),Le=this&&this!==xn&&this instanceof j?H:i;++ke<be;)Ie[ke]=x[ke];for(;oe--;)Ie[ke++]=arguments[++ee];return n(Le,F?f:this,Ie)}var F=c&_t,H=eo(i);return j}function vh(i){return function(c,f,x){return x&&typeof x!="number"&&In(c,f,x)&&(f=x=C),c=ea(c),f===C?(f=c,c=0):f=ea(f),x=x===C?c<f?1:-1:ea(x),fC(c,f,x,i)}}function ps(i){return function(c,f){return typeof c=="string"&&typeof f=="string"||(c=pr(c),f=pr(f)),i(c,f)}}function bh(i,c,f,x,j,F,H,ee,oe,ke){var be=c&wt,Ie=be?H:C,Le=be?C:H,Ve=be?F:C,Xe=be?C:F;c|=be?ft:wr,c&=~(be?wr:ft),c&fn||(c&=-4);var st=[i,c,j,Ve,Ie,Xe,Le,ee,oe,ke],Qe=f.apply(C,st);return Hc(i)&&ym(Qe,st),Qe.placeholder=x,jh(Qe,i,c)}function Dc(i){var c=pi[i];return function(f,x){if(f=pr(f),x=x==null?0:kn(lt(x),292),x&&cm(f)){var j=(It(f)+"e").split("e");return j=(It(c(j[0]+"e"+(+j[1]+x)))+"e").split("e"),+(j[0]+"e"+(+j[1]-x))}return c(f)}}function xh(i){return function(c){var f=Cn(c);return f==or?W(c):f==kr?je(c):O(c,i(c))}}function Kr(i,c,f,x,j,F,H,ee){var oe=c&it;if(!oe&&typeof i!="function")throw new dr(ie);var ke=x?x.length:0;if(ke||(c&=-97,x=j=C),H=H===C?H:mn(lt(H),0),ee=ee===C?ee:lt(ee),ke-=j?j.length:0,c&wr){var be=x,Ie=j;x=j=C}var Le=oe?C:cu(i),Ve=[i,c,f,x,j,be,Ie,F,H,ee];if(Le&&LC(Ve,Le),i=Ve[0],c=Ve[1],f=Ve[2],x=Ve[3],j=Ve[4],ee=Ve[9]=Ve[9]===C?oe?0:i.length:mn(Ve[9]-ke,0),!ee&&c&(wt|Ot)&&(c&=-25),c&&c!=_t)Xe=c==wt||c==Ot?SC(i,c,ee):c!=ft&&c!=(_t|ft)||j.length?ls.apply(C,Ve):EC(i,c,f,x);else var Xe=CC(i,c,f);return jh((Le?hm:ym)(Xe,Ve),i,c)}function _h(i,c,f,x){return i===C||Sr(i,di[f])&&!jt.call(x,f)?c:i}function wh(i,c,f,x,j,F){return Yt(i)&&Yt(c)&&(F.set(c,i),as(i,c,C,wh,F),F.delete(c)),i}function AC(i){return no(i)?C:i}function kh(i,c,f,x,j,F){var H=f&dt,ee=i.length,oe=c.length;if(ee!=oe&&!(H&&oe>ee))return!1;var ke=F.get(i),be=F.get(c);if(ke&&be)return ke==c&&be==i;var Ie=-1,Le=!0,Ve=f&Tt?new Oa:C;for(F.set(i,c),F.set(c,i);++Ie<ee;){var Xe=i[Ie],st=c[Ie];if(x)var Qe=H?x(st,Xe,Ie,c,i,F):x(Xe,st,Ie,i,c,F);if(Qe!==C){if(Qe)continue;Le=!1;break}if(Ve){if(!y(c,function(mt,gt){if(!Ae(Ve,gt)&&(Xe===mt||j(Xe,mt,f,x,F)))return Ve.push(gt)})){Le=!1;break}}else if(Xe!==st&&!j(Xe,st,f,x,F)){Le=!1;break}}return F.delete(i),F.delete(c),Le}function TC(i,c,f,x,j,F,H){switch(f){case ai:if(i.byteLength!=c.byteLength||i.byteOffset!=c.byteOffset)return!1;i=i.buffer,c=c.buffer;case Gi:return!(i.byteLength!=c.byteLength||!F(new As(i),new As(c)));case Vt:case Gt:case Ia:return Sr(+i,+c);case ni:return i.name==c.name&&i.message==c.message;case qi:case Wi:return i==c+"";case or:var ee=W;case kr:var oe=x&dt;if(ee||(ee=ce),i.size!=c.size&&!oe)return!1;var ke=H.get(i);if(ke)return ke==c;x|=Tt,H.set(i,c);var be=kh(ee(i),ee(c),x,j,F,H);return H.delete(i),be;case Yo:if(so)return so.call(i)==so.call(c)}return!1}function IC(i,c,f,x,j,F){var H=f&dt,ee=Lc(i),oe=ee.length;if(oe!=Lc(c).length&&!H)return!1;for(var ke=oe;ke--;){var be=ee[ke];if(!(H?be in c:jt.call(c,be)))return!1}var Ie=F.get(i),Le=F.get(c);if(Ie&&Le)return Ie==c&&Le==i;var Ve=!0;F.set(i,c),F.set(c,i);for(var Xe=H;++ke<oe;){be=ee[ke];var st=i[be],Qe=c[be];if(x)var mt=H?x(Qe,st,be,c,i,F):x(st,Qe,be,i,c,F);if(!(mt===C?st===Qe||j(st,Qe,f,x,F):mt)){Ve=!1;break}Xe||(Xe=be=="constructor")}if(Ve&&!Xe){var gt=i.constructor,Sn=c.constructor;gt!=Sn&&"constructor"in i&&"constructor"in c&&!(typeof gt=="function"&&gt instanceof gt&&typeof Sn=="function"&&Sn instanceof Sn)&&(Ve=!1)}return F.delete(i),F.delete(c),Ve}function Yr(i){return pu(Th(i,C,Ph),i+"")}function Lc(i){return qf(i,vn,uu)}function Bc(i){return qf(i,Fn,gm)}function ds(i){for(var c=i.name+"",f=hi[c],x=jt.call(hi,c)?f.length:0;x--;){var j=f[x],F=j.func;if(F==null||F==i)return j.name}return c}function ci(i){return(jt.call(A,"placeholder")?A:i).placeholder}function nt(){var i=A.iteratee||Xc;return i=i===Xc?Gf:i,arguments.length?i(arguments[0],arguments[1]):i}function fs(i,c){var f=i.__data__;return $C(c)?f[typeof c=="string"?"string":"hash"]:f.map}function Uc(i){for(var c=vn(i),f=c.length;f--;){var x=c[f],j=i[x];c[f]=[x,j,Eh(j)]}return c}function Pa(i,c){var f=se(i,c);return Vf(f)?f:C}function jC(i){var c=jt.call(i,$a),f=i[$a];try{i[$a]=C;var x=!0}catch{}var j=Ss.call(i);return x&&(c?i[$a]=f:delete i[$a]),j}function RC(i,c,f){for(var x=-1,j=f.length;++x<j;){var F=f[x],H=F.size;switch(F.type){case"drop":i+=H;break;case"dropRight":c-=H;break;case"take":c=kn(c,i+H);break;case"takeRight":i=mn(i,c-H)}}return{start:i,end:c}}function OC(i){var c=i.match(Tk);return c?c[1].split(Ik):[]}function Ch(i,c,f){c=ca(c,i);for(var x=-1,j=c.length,F=!1;++x<j;){var H=Mr(c[x]);if(!(F=i!=null&&f(i,H)))break;i=i[H]}return F||++x!=j?F:(j=i==null?0:i.length,!!j&&bs(j)&&Xr(H,j)&&(ot(i)||Fa(i)))}function MC(i){var c=i.length,f=new i.constructor(c);return c&&typeof i[0]=="string"&&jt.call(i,"index")&&(f.index=i.index,f.input=i.input),f}function Sh(i){return typeof i.constructor!="function"||to(i)?{}:mi(Ts(i))}function zC(i,c,f){var x=i.constructor;switch(c){case Gi:return $c(i);case Vt:case Gt:return new x(+i);case ai:return vC(i,f);case nc:case rc:case ac:case ic:case oc:case sc:case lc:case cc:case uc:return lh(i,f);case or:return new x;case Ia:case Wi:return new x(i);case qi:return bC(i);case kr:return new x;case Yo:return xC(i)}}function PC(i,c){var f=c.length;if(!f)return i;var x=f-1;return c[x]=(f>1?"& ":"")+c[x],c=c.join(f>2?", ":" "),i.replace(Ak,`{
/* [wrapped with `+c+`] */
`)}function NC(i){return ot(i)||Fa(i)||!!(lm&&i&&i[lm])}function Xr(i,c){var f=typeof i;return c=c??jr,!!c&&(f=="number"||f!="symbol"&&Fk.test(i))&&i>-1&&i%1==0&&i<c}function In(i,c,f){if(!Yt(f))return!1;var x=typeof c;return!!(x=="number"?$n(f)&&Xr(c,f.length):x=="string"&&c in f)&&Sr(f[c],i)}function Zc(i,c){if(ot(i))return!1;var f=typeof i;return!(f!="number"&&f!="symbol"&&f!="boolean"&&i!=null&&!Jn(i))||kk.test(i)||!wk.test(i)||c!=null&&i in Ut(c)}function $C(i){var c=typeof i;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?i!=="__proto__":i===null}function Hc(i){var c=ds(i),f=A[c];if(typeof f!="function"||!(c in He.prototype))return!1;if(i===f)return!0;var x=cu(f);return!!x&&i===x[0]}function FC(i){return!!am&&am in i}function to(i){var c=i&&i.constructor;return i===(typeof c=="function"&&c.prototype||di)}function Eh(i){return i===i&&!Yt(i)}function Ah(i,c){return function(f){return f!=null&&f[i]===c&&(c!==C||i in Ut(f))}}function DC(i){var c=ys(i,function(x){return f.size===Z&&f.clear(),x}),f=c.cache;return c}function LC(i,c){var f=i[1],x=c[1],j=f|x,F=j<(_t|it|zn),H=x==zn&&f==wt||x==zn&&f==Zr&&i[7].length<=c[8]||x==(zn|Zr)&&c[7].length<=c[8]&&f==wt;if(!F&&!H)return i;x&_t&&(i[2]=c[2],j|=f&_t?0:fn);var ee=c[3];if(ee){var oe=i[3];i[3]=oe?uh(oe,ee,c[4]):ee,i[4]=oe?Se(i[3],X):c[4]}return ee=c[5],ee&&(oe=i[5],i[5]=oe?ph(oe,ee,c[6]):ee,i[6]=oe?Se(i[5],X):c[6]),ee=c[7],ee&&(i[7]=ee),x&zn&&(i[8]=i[8]==null?c[8]:kn(i[8],c[8])),i[9]==null&&(i[9]=c[9]),i[0]=c[0],i[1]=j,i}function BC(i){var c=[];if(i!=null)for(var f in Ut(i))c.push(f);return c}function UC(i){return Ss.call(i)}function Th(i,c,f){return c=mn(c===C?i.length-1:c,0),function(){for(var x=arguments,j=-1,F=mn(x.length-c,0),H=hn(F);++j<F;)H[j]=x[c+j];j=-1;for(var ee=hn(c+1);++j<c;)ee[j]=x[j];return ee[c]=f(H),n(i,this,ee)}}function Ih(i,c){return c.length<2?i:za(i,cr(c,0,-1))}function ZC(i,c){for(var f=i.length,x=kn(c.length,f),j=Nn(i);x--;){var F=c[x];i[x]=Xr(F,f)?j[F]:C}return i}function qc(i,c){if((c!=="constructor"||typeof i[c]!="function")&&c!="__proto__")return i[c]}function jh(i,c,f){var x=c+"";return pu(i,PC(x,HC(OC(x),f)))}function Rh(i){var c=0,f=0;return function(){var x=XA(),j=Xl-(x-f);if(f=x,j>0){if(++c>=Vo)return arguments[0]}else c=0;return i.apply(C,arguments)}}function hs(i,c){var f=-1,x=i.length,j=x-1;for(c=c===C?x:c;++f<c;){var F=jc(f,j),H=i[F];i[F]=i[f],i[f]=H}return i.length=c,i}function Mr(i){if(typeof i=="string"||Jn(i))return i;var c=i+"";return c=="0"&&1/i==-qr?"-0":c}function Na(i){if(i!=null){try{return Cs.call(i)}catch{}try{return i+""}catch{}}return""}function HC(i,c){return a(et,function(f){var x="_."+f[0];c&f[1]&&!u(i,x)&&i.push(x)}),i.sort()}function Oh(i){if(i instanceof He)return i.clone();var c=new tt(i.__wrapped__,i.__chain__);return c.__actions__=Nn(i.__actions__),c.__index__=i.__index__,c.__values__=i.__values__,c}function qC(i,c,f){c=(f?In(i,c,f):c===C)?1:mn(lt(c),0);var x=i==null?0:i.length;if(!x||c<1)return[];for(var j=0,F=0,H=hn(Rs(x/c));j<x;)H[F++]=cr(i,j,j+=c);return H}function WC(i){for(var c=-1,f=i==null?0:i.length,x=0,j=[];++c<f;){var F=i[c];F&&(j[x++]=F)}return j}function VC(){var i=arguments.length;if(!i)return[];for(var c=hn(i-1),f=arguments[0],x=i;x--;)c[x-1]=arguments[x];return h(ot(f)?Nn(f):[f],_n(c,1))}function GC(i,c,f){var x=i==null?0:i.length;return x?(c=f||c===C?1:lt(c),cr(i,c<0?0:c,x)):[]}function JC(i,c,f){var x=i==null?0:i.length;return x?(c=f||c===C?1:lt(c),c=x-c,cr(i,0,c<0?0:c)):[]}function KC(i,c){return i&&i.length?os(i,nt(c,3),!0,!0):[]}function YC(i,c){return i&&i.length?os(i,nt(c,3),!0):[]}function XC(i,c,f,x){var j=i==null?0:i.length;return j?(f&&typeof f!="number"&&In(i,c,f)&&(f=0,x=j),Y1(i,c,f,x)):[]}function Mh(i,c,f){var x=i==null?0:i.length;if(!x)return-1;var j=f==null?0:lt(f);return j<0&&(j=mn(x+j,0)),E(i,nt(c,3),j)}function zh(i,c,f){var x=i==null?0:i.length;if(!x)return-1;var j=x-1;return f!==C&&(j=lt(f),j=f<0?mn(x+j,0):kn(j,x-1)),E(i,nt(c,3),j,!0)}function Ph(i){return i!=null&&i.length?_n(i,1):[]}function QC(i){return i!=null&&i.length?_n(i,qr):[]}function eS(i,c){return i!=null&&i.length?(c=c===C?1:lt(c),_n(i,c)):[]}function tS(i){for(var c=-1,f=i==null?0:i.length,x={};++c<f;){var j=i[c];x[j[0]]=j[1]}return x}function Nh(i){return i&&i.length?i[0]:C}function nS(i,c,f){var x=i==null?0:i.length;if(!x)return-1;var j=f==null?0:lt(f);return j<0&&(j=mn(x+j,0)),T(i,c,j)}function rS(i){return i!=null&&i.length?cr(i,0,-1):[]}function aS(i,c){return i==null?"":KA.call(i,c)}function ur(i){var c=i==null?0:i.length;return c?i[c-1]:C}function iS(i,c,f){var x=i==null?0:i.length;if(!x)return-1;var j=x;return f!==C&&(j=lt(f),j=j<0?mn(x+j,0):kn(j,x-1)),c===c?Te(i,c,j):E(i,N,j,!0)}function oS(i,c){return i&&i.length?Xf(i,lt(c)):C}function $h(i,c){return i&&i.length&&c&&c.length?Ic(i,c):i}function sS(i,c,f){return i&&i.length&&c&&c.length?Ic(i,c,nt(f,2)):i}function lS(i,c,f){return i&&i.length&&c&&c.length?Ic(i,c,C,f):i}function cS(i,c){var f=[];if(!i||!i.length)return f;var x=-1,j=[],F=i.length;for(c=nt(c,3);++x<F;){var H=i[x];c(H,x,i)&&(f.push(H),j.push(x))}return th(i,j),f}function Wc(i){return i==null?i:eT.call(i)}function uS(i,c,f){var x=i==null?0:i.length;return x?(f&&typeof f!="number"&&In(i,c,f)?(c=0,f=x):(c=c==null?0:lt(c),f=f===C?x:lt(f)),cr(i,c,f)):[]}function pS(i,c){return is(i,c)}function dS(i,c,f){return Oc(i,c,nt(f,2))}function fS(i,c){var f=i==null?0:i.length;if(f){var x=is(i,c);if(x<f&&Sr(i[x],c))return x}return-1}function hS(i,c){return is(i,c,!0)}function mS(i,c,f){return Oc(i,c,nt(f,2),!0)}function gS(i,c){if(i!=null&&i.length){var f=is(i,c,!0)-1;if(Sr(i[f],c))return f}return-1}function yS(i){return i&&i.length?nh(i):[]}function vS(i,c){return i&&i.length?nh(i,nt(c,2)):[]}function bS(i){var c=i==null?0:i.length;return c?cr(i,1,c):[]}function xS(i,c,f){return i&&i.length?(c=f||c===C?1:lt(c),cr(i,0,c<0?0:c)):[]}function _S(i,c,f){var x=i==null?0:i.length;return x?(c=f||c===C?1:lt(c),c=x-c,cr(i,c<0?0:c,x)):[]}function wS(i,c){return i&&i.length?os(i,nt(c,3),!1,!0):[]}function kS(i,c){return i&&i.length?os(i,nt(c,3)):[]}function CS(i){return i&&i.length?la(i):[]}function SS(i,c){return i&&i.length?la(i,nt(c,2)):[]}function ES(i,c){return c=typeof c=="function"?c:C,i&&i.length?la(i,C,c):[]}function Vc(i){if(!i||!i.length)return[];var c=0;return i=l(i,function(f){if(sn(f))return c=mn(f.length,c),!0}),pe(c,function(f){return d(i,U(f))})}function Fh(i,c){if(!i||!i.length)return[];var f=Vc(i);return c==null?f:d(f,function(x){return n(c,C,x)})}function AS(i,c){return oh(i||[],c||[],Ji)}function TS(i,c){return oh(i||[],c||[],Qi)}function Dh(i){var c=A(i);return c.__chain__=!0,c}function IS(i,c){return c(i),i}function ms(i,c){return c(i)}function jS(){return Dh(this)}function RS(){return new tt(this.value(),this.__chain__)}function OS(){this.__values__===C&&(this.__values__=Jh(this.value()));var i=this.__index__>=this.__values__.length;return{done:i,value:i?C:this.__values__[this.__index__++]}}function MS(){return this}function zS(i){for(var c,f=this;f instanceof Ue;){var x=Oh(f);x.__index__=0,x.__values__=C,c?j.__wrapped__=x:c=x;var j=x;f=f.__wrapped__}return j.__wrapped__=i,c}function PS(){var i=this.__wrapped__;if(i instanceof He){var c=i;return this.__actions__.length&&(c=new He(this)),c=c.reverse(),c.__actions__.push({func:ms,args:[Wc],thisArg:C}),new tt(c,this.__chain__)}return this.thru(Wc)}function NS(){return ih(this.__wrapped__,this.__actions__)}function $S(i,c,f){var x=ot(i)?s:K1;return f&&In(i,c,f)&&(c=C),x(i,nt(c,3))}function FS(i,c){return(ot(i)?l:Hf)(i,nt(c,3))}function DS(i,c){return _n(gs(i,c),1)}function LS(i,c){return _n(gs(i,c),qr)}function BS(i,c,f){return f=f===C?1:lt(f),_n(gs(i,c),f)}function Lh(i,c){return(ot(i)?a:da)(i,nt(c,3))}function Bh(i,c){return(ot(i)?o:dm)(i,nt(c,3))}function US(i,c,f,x){i=$n(i)?i:ui(i),f=f&&!x?lt(f):0;var j=i.length;return f<0&&(f=mn(j+f,0)),xs(i)?f<=j&&i.indexOf(c,f)>-1:!!j&&T(i,c,f)>-1}function gs(i,c){return(ot(i)?d:Jf)(i,nt(c,3))}function ZS(i,c,f,x){return i==null?[]:(ot(c)||(c=c==null?[]:[c]),f=x?C:f,ot(f)||(f=f==null?[]:[f]),Qf(i,c,f))}function HS(i,c,f){var x=ot(i)?m:J,j=arguments.length<3;return x(i,nt(c,4),f,j,da)}function qS(i,c,f){var x=ot(i)?v:J,j=arguments.length<3;return x(i,nt(c,4),f,j,dm)}function WS(i,c){return(ot(i)?l:Hf)(i,vs(nt(c,3)))}function VS(i){return(ot(i)?Lf:hC)(i)}function GS(i,c,f){return c=(f?In(i,c,f):c===C)?1:lt(c),(ot(i)?q1:mC)(i,c)}function JS(i){return(ot(i)?W1:gC)(i)}function KS(i){if(i==null)return 0;if($n(i))return xs(i)?qe(i):i.length;var c=Cn(i);return c==or||c==kr?i.size:Ac(i).length}function YS(i,c,f){var x=ot(i)?y:yC;return f&&In(i,c,f)&&(c=C),x(i,nt(c,3))}function XS(i,c){if(typeof c!="function")throw new dr(ie);return i=lt(i),function(){if(--i<1)return c.apply(this,arguments)}}function Uh(i,c,f){return c=f?C:c,c=i&&c==null?i.length:c,Kr(i,zn,C,C,C,C,c)}function Zh(i,c){var f;if(typeof c!="function")throw new dr(ie);return i=lt(i),function(){return--i>0&&(f=c.apply(this,arguments)),i<=1&&(c=C),f}}function Hh(i,c,f){c=f?C:c;var x=Kr(i,wt,C,C,C,C,C,c);return x.placeholder=Hh.placeholder,x}function qh(i,c,f){c=f?C:c;var x=Kr(i,Ot,C,C,C,C,C,c);return x.placeholder=qh.placeholder,x}function Wh(i,c,f){function x(on){var fr=Le,co=Ve;return Le=Ve=C,gt=on,st=i.apply(co,fr)}function j(on){return gt=on,Qe=lo(ee,c),Sn?x(on):st}function F(on){var fr=on-mt,co=on-gt,Tm=c-fr;return Ln?kn(Tm,Xe-co):Tm}function H(on){var fr=on-mt,co=on-gt;return mt===C||fr>=c||fr<0||Ln&&co>=Xe}function ee(){var on=Ps();return H(on)?oe(on):(Qe=lo(ee,F(on)),C)}function oe(on){return Qe=C,ha&&Le?x(on):(Le=Ve=C,st)}function ke(){Qe!==C&&mm(Qe),gt=0,Le=mt=Ve=Qe=C}function be(){return Qe===C?st:oe(Ps())}function Ie(){var on=Ps(),fr=H(on);if(Le=arguments,Ve=this,mt=on,fr){if(Qe===C)return j(mt);if(Ln)return mm(Qe),Qe=lo(ee,c),x(mt)}return Qe===C&&(Qe=lo(ee,c)),st}var Le,Ve,Xe,st,Qe,mt,gt=0,Sn=!1,Ln=!1,ha=!0;if(typeof i!="function")throw new dr(ie);return c=pr(c)||0,Yt(f)&&(Sn=!!f.leading,Ln="maxWait"in f,Xe=Ln?mn(pr(f.maxWait)||0,c):Xe,ha="trailing"in f?!!f.trailing:ha),Ie.cancel=ke,Ie.flush=be,Ie}function QS(i){return Kr(i,oa)}function ys(i,c){if(typeof i!="function"||c!=null&&typeof c!="function")throw new dr(ie);var f=function(){var x=arguments,j=c?c.apply(this,x):x[0],F=f.cache;if(F.has(j))return F.get(j);var H=i.apply(this,x);return f.cache=F.set(j,H)||F,H};return f.cache=new(ys.Cache||Gr),f}function vs(i){if(typeof i!="function")throw new dr(ie);return function(){var c=arguments;switch(c.length){case 0:return!i.call(this);case 1:return!i.call(this,c[0]);case 2:return!i.call(this,c[0],c[1]);case 3:return!i.call(this,c[0],c[1],c[2])}return!i.apply(this,c)}}function eE(i){return Zh(2,i)}function tE(i,c){if(typeof i!="function")throw new dr(ie);return c=c===C?c:lt(c),ut(i,c)}function nE(i,c){if(typeof i!="function")throw new dr(ie);return c=c==null?0:mn(lt(c),0),ut(function(f){var x=f[c],j=ua(f,0,c);return x&&h(j,x),n(i,this,j)})}function rE(i,c,f){var x=!0,j=!0;if(typeof i!="function")throw new dr(ie);return Yt(f)&&(x="leading"in f?!!f.leading:x,j="trailing"in f?!!f.trailing:j),Wh(i,c,{leading:x,maxWait:c,trailing:j})}function aE(i){return Uh(i,1)}function iE(i,c){return fu(Nc(c),i)}function oE(){if(!arguments.length)return[];var i=arguments[0];return ot(i)?i:[i]}function sE(i){return lr(i,We)}function lE(i,c){return c=typeof c=="function"?c:C,lr(i,We,c)}function cE(i){return lr(i,xe|We)}function uE(i,c){return c=typeof c=="function"?c:C,lr(i,xe|We,c)}function pE(i,c){return c==null||Uf(i,c,vn(c))}function Sr(i,c){return i===c||i!==i&&c!==c}function $n(i){return i!=null&&bs(i.length)&&!Qr(i)}function sn(i){return an(i)&&$n(i)}function dE(i){return i===!0||i===!1||an(i)&&Tn(i)==Vt}function fE(i){return an(i)&&i.nodeType===1&&!no(i)}function hE(i){if(i==null)return!0;if($n(i)&&(ot(i)||typeof i=="string"||typeof i.splice=="function"||fa(i)||gi(i)||Fa(i)))return!i.length;var c=Cn(i);if(c==or||c==kr)return!i.size;if(to(i))return!Ac(i).length;for(var f in i)if(jt.call(i,f))return!1;return!0}function mE(i,c){return Xi(i,c)}function gE(i,c,f){f=typeof f=="function"?f:C;var x=f?f(i,c):C;return x===C?Xi(i,c,C,f):!!x}function Gc(i){if(!an(i))return!1;var c=Tn(i);return c==ni||c==bn||typeof i.message=="string"&&typeof i.name=="string"&&!no(i)}function yE(i){return typeof i=="number"&&cm(i)}function Qr(i){if(!Yt(i))return!1;var c=Tn(i);return c==ri||c==Ko||c==ht||c==dk}function Vh(i){return typeof i=="number"&&i==lt(i)}function bs(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=jr}function Yt(i){var c=typeof i;return i!=null&&(c=="object"||c=="function")}function an(i){return i!=null&&typeof i=="object"}function vE(i,c){return i===c||Ec(i,c,Uc(c))}function bE(i,c,f){return f=typeof f=="function"?f:C,Ec(i,c,Uc(c),f)}function xE(i){return Gh(i)&&i!=+i}function _E(i){if(cT(i))throw new ru(Ce);return Vf(i)}function wE(i){return i===null}function kE(i){return i==null}function Gh(i){return typeof i=="number"||an(i)&&Tn(i)==Ia}function no(i){if(!an(i)||Tn(i)!=Wr)return!1;var c=Ts(i);if(c===null)return!0;var f=jt.call(c,"constructor")&&c.constructor;return typeof f=="function"&&f instanceof f&&Cs.call(f)==ZA}function CE(i){return Vh(i)&&i>=-jr&&i<=jr}function xs(i){return typeof i=="string"||!ot(i)&&an(i)&&Tn(i)==Wi}function Jn(i){return typeof i=="symbol"||an(i)&&Tn(i)==Yo}function SE(i){return i===C}function EE(i){return an(i)&&Cn(i)==Vi}function AE(i){return an(i)&&Tn(i)==hk}function Jh(i){if(!i)return[];if($n(i))return xs(i)?Ye(i):Nn(i);if(ro&&i[ro])return Q(i[ro]());var c=Cn(i);return(c==or?W:c==kr?ce:ui)(i)}function ea(i){return i?(i=pr(i),i===qr||i===-qr?(i<0?-1:1)*Ql:i===i?i:0):i===0?i:0}function lt(i){var c=ea(i),f=c%1;return c===c?f?c-f:c:0}function Kh(i){return i?Ma(lt(i),0,ir):0}function pr(i){if(typeof i=="number")return i;if(Jn(i))return ti;if(Yt(i)){var c=typeof i.valueOf=="function"?i.valueOf():i;i=Yt(c)?c+"":c}if(typeof i!="string")return i===0?i:+i;i=K(i);var f=Pk.test(i);return f||$k.test(i)?m1(i.slice(2),f?2:8):zk.test(i)?ti:+i}function Yh(i){return Or(i,Fn(i))}function TE(i){return i?Ma(lt(i),-jr,jr):i===0?i:0}function It(i){return i==null?"":Gn(i)}function IE(i,c){var f=mi(i);return c==null?f:Bf(f,c)}function jE(i,c){return k(i,nt(c,3),Rr)}function RE(i,c){return k(i,nt(c,3),kc)}function OE(i,c){return i==null?i:lu(i,nt(c,3),Fn)}function ME(i,c){return i==null?i:fm(i,nt(c,3),Fn)}function zE(i,c){return i&&Rr(i,nt(c,3))}function PE(i,c){return i&&kc(i,nt(c,3))}function NE(i){return i==null?[]:rs(i,vn(i))}function $E(i){return i==null?[]:rs(i,Fn(i))}function Jc(i,c,f){var x=i==null?C:za(i,c);return x===C?f:x}function FE(i,c){return i!=null&&Ch(i,c,X1)}function Kc(i,c){return i!=null&&Ch(i,c,Q1)}function vn(i){return $n(i)?Df(i):Ac(i)}function Fn(i){return $n(i)?Df(i,!0):cC(i)}function DE(i,c){var f={};return c=nt(c,3),Rr(i,function(x,j,F){Jr(f,c(x,j,F),x)}),f}function LE(i,c){var f={};return c=nt(c,3),Rr(i,function(x,j,F){Jr(f,j,c(x,j,F))}),f}function BE(i,c){return Xh(i,vs(nt(c)))}function Xh(i,c){if(i==null)return{};var f=d(Bc(i),function(x){return[x]});return c=nt(c),eh(i,f,function(x,j){return c(x,j[0])})}function UE(i,c,f){c=ca(c,i);var x=-1,j=c.length;for(j||(j=1,i=C);++x<j;){var F=i==null?C:i[Mr(c[x])];F===C&&(x=j,F=f),i=Qr(F)?F.call(i):F}return i}function ZE(i,c,f){return i==null?i:Qi(i,c,f)}function HE(i,c,f,x){return x=typeof x=="function"?x:C,i==null?i:Qi(i,c,f,x)}function qE(i,c,f){var x=ot(i),j=x||fa(i)||gi(i);if(c=nt(c,4),f==null){var F=i&&i.constructor;f=j?x?new F:[]:Yt(i)&&Qr(F)?mi(Ts(i)):{}}return(j?a:Rr)(i,function(H,ee,oe){return c(f,H,ee,oe)}),f}function WE(i,c){return i==null||Mc(i,c)}function VE(i,c,f){return i==null?i:ah(i,c,Nc(f))}function GE(i,c,f,x){return x=typeof x=="function"?x:C,i==null?i:ah(i,c,Nc(f),x)}function ui(i){return i==null?[]:L(i,vn(i))}function JE(i){return i==null?[]:L(i,Fn(i))}function KE(i,c,f){return f===C&&(f=c,c=C),f!==C&&(f=pr(f),f=f===f?f:0),c!==C&&(c=pr(c),c=c===c?c:0),Ma(pr(i),c,f)}function YE(i,c,f){return c=ea(c),f===C?(f=c,c=0):f=ea(f),i=pr(i),eC(i,c,f)}function XE(i,c,f){if(f&&typeof f!="boolean"&&In(i,c,f)&&(c=f=C),f===C&&(typeof c=="boolean"?(f=c,c=C):typeof i=="boolean"&&(f=i,i=C)),i===C&&c===C?(i=0,c=1):(i=ea(i),c===C?(c=i,i=0):c=ea(c)),i>c){var x=i;i=c,c=x}if(f||i%1||c%1){var j=um();return kn(i+j*(c-i+h1("1e-"+((j+"").length-1))),c)}return jc(i,c)}function Qh(i){return mu(It(i).toLowerCase())}function em(i){return i=It(i),i&&i.replace(Dk,v1).replace(a1,"")}function QE(i,c,f){i=It(i),c=Gn(c);var x=i.length;f=f===C?x:Ma(lt(f),0,x);var j=f;return f-=c.length,f>=0&&i.slice(f,j)==c}function eA(i){return i=It(i),i&&bk.test(i)?i.replace(uf,b1):i}function tA(i){return i=It(i),i&&Sk.test(i)?i.replace(pc,"\\$&"):i}function nA(i,c,f){i=It(i),c=lt(c);var x=c?qe(i):0;if(!c||x>=c)return i;var j=(c-x)/2;return us(Os(j),f)+i+us(Rs(j),f)}function rA(i,c,f){i=It(i),c=lt(c);var x=c?qe(i):0;return c&&x<c?i+us(c-x,f):i}function aA(i,c,f){i=It(i),c=lt(c);var x=c?qe(i):0;return c&&x<c?us(c-x,f)+i:i}function iA(i,c,f){return f||c==null?c=0:c&&(c=+c),QA(It(i).replace(dc,""),c||0)}function oA(i,c,f){return c=(f?In(i,c,f):c===C)?1:lt(c),Rc(It(i),c)}function sA(){var i=arguments,c=It(i[0]);return i.length<3?c:c.replace(i[1],i[2])}function lA(i,c,f){return f&&typeof f!="number"&&In(i,c,f)&&(c=f=C),(f=f===C?ir:f>>>0)?(i=It(i),i&&(typeof c=="string"||c!=null&&!hu(c))&&(c=Gn(c),!c&&R(i))?ua(Ye(i),0,f):i.split(c,f)):[]}function cA(i,c,f){return i=It(i),f=f==null?0:Ma(lt(f),0,i.length),c=Gn(c),i.slice(f,f+c.length)==c}function uA(i,c,f){var x=A.templateSettings;f&&In(i,c,f)&&(c=C),i=It(i),c=Ns({},c,x,_h);var j,F,H=Ns({},c.imports,x.imports,_h),ee=vn(H),oe=L(H,ee),ke=0,be=c.interpolate||Xo,Ie="__p += '",Le=au((c.escape||Xo).source+"|"+be.source+"|"+(be===pf?Mk:Xo).source+"|"+(c.evaluate||Xo).source+"|$","g"),Ve="//# sourceURL="+(jt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++c1+"]")+`
`;i.replace(Le,function(Qe,mt,gt,Sn,Ln,ha){return gt||(gt=Sn),Ie+=i.slice(ke,ha).replace(Lk,Re),mt&&(j=!0,Ie+=`' +
__e(`+mt+`) +
'`),Ln&&(F=!0,Ie+=`';
`+Ln+`;
__p += '`),gt&&(Ie+=`' +
((__t = (`+gt+`)) == null ? '' : __t) +
'`),ke=ha+Qe.length,Qe}),Ie+=`';
`;var Xe=jt.call(c,"variable")&&c.variable;if(Xe){if(Rk.test(Xe))throw new ru(le)}else Ie=`with (obj) {
`+Ie+`
}
`;Ie=(F?Ie.replace(mk,""):Ie).replace(gk,"$1").replace(yk,"$1;"),Ie="function("+(Xe||"obj")+`) {
`+(Xe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(j?", __e = _.escape":"")+(F?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ie+`return __p
}`;var st=Am(function(){return rm(ee,Ve+"return "+Ie).apply(C,oe)});if(st.source=Ie,Gc(st))throw st;return st}function pA(i){return It(i).toLowerCase()}function dA(i){return It(i).toUpperCase()}function fA(i,c,f){if(i=It(i),i&&(f||c===C))return K(i);if(!i||!(c=Gn(c)))return i;var x=Ye(i),j=Ye(c);return ua(x,de(x,j),fe(x,j)+1).join("")}function hA(i,c,f){if(i=It(i),i&&(f||c===C))return i.slice(0,S(i)+1);if(!i||!(c=Gn(c)))return i;var x=Ye(i);return ua(x,0,fe(x,Ye(c))+1).join("")}function mA(i,c,f){if(i=It(i),i&&(f||c===C))return i.replace(dc,"");if(!i||!(c=Gn(c)))return i;var x=Ye(i);return ua(x,de(x,Ye(c))).join("")}function gA(i,c){var f=Hr,x=sa;if(Yt(c)){var j="separator"in c?c.separator:j;f="length"in c?lt(c.length):f,x="omission"in c?Gn(c.omission):x}i=It(i);var F=i.length;if(R(i)){var H=Ye(i);F=H.length}if(f>=F)return i;var ee=f-qe(x);if(ee<1)return x;var oe=H?ua(H,0,ee).join(""):i.slice(0,ee);if(j===C)return oe+x;if(H&&(ee+=oe.length-ee),hu(j)){if(i.slice(ee).search(j)){var ke,be=oe;for(j.global||(j=au(j.source,It(df.exec(j))+"g")),j.lastIndex=0;ke=j.exec(be);)var Ie=ke.index;oe=oe.slice(0,Ie===C?ee:Ie)}}else if(i.indexOf(Gn(j),ee)!=ee){var Le=oe.lastIndexOf(j);Le>-1&&(oe=oe.slice(0,Le))}return oe+x}function yA(i){return i=It(i),i&&vk.test(i)?i.replace(cf,x1):i}function tm(i,c,f){return i=It(i),c=f?C:c,c===C?Ne(i)?D(i):b(i):i.match(c)||[]}function vA(i){var c=i==null?0:i.length,f=nt();return i=c?d(i,function(x){if(typeof x[1]!="function")throw new dr(ie);return[f(x[0]),x[1]]}):[],ut(function(x){for(var j=-1;++j<c;){var F=i[j];if(n(F[0],this,x))return n(F[1],this,x)}})}function bA(i){return J1(lr(i,xe))}function Yc(i){return function(){return i}}function xA(i,c){return i==null||i!==i?c:i}function Dn(i){return i}function Xc(i){return Gf(typeof i=="function"?i:lr(i,xe))}function _A(i){return Kf(lr(i,xe))}function wA(i,c){return Yf(i,lr(c,xe))}function Qc(i,c,f){var x=vn(c),j=rs(c,x);f!=null||Yt(c)&&(j.length||!x.length)||(f=c,c=i,i=this,j=rs(c,vn(c)));var F=!(Yt(f)&&"chain"in f&&!f.chain),H=Qr(i);return a(j,function(ee){var oe=c[ee];i[ee]=oe,H&&(i.prototype[ee]=function(){var ke=this.__chain__;if(F||ke){var be=i(this.__wrapped__);return(be.__actions__=Nn(this.__actions__)).push({func:oe,args:arguments,thisArg:i}),be.__chain__=ke,be}return oe.apply(i,h([this.value()],arguments))})}),i}function kA(){return xn._===this&&(xn._=HA),this}function eu(){}function CA(i){return i=lt(i),ut(function(c){return Xf(c,i)})}function nm(i){return Zc(i)?U(Mr(i)):dC(i)}function SA(i){return function(c){return i==null?C:za(i,c)}}function tu(){return[]}function nu(){return!1}function EA(){return{}}function AA(){return""}function TA(){return!0}function IA(i,c){if(i=lt(i),i<1||i>jr)return[];var f=ir,x=kn(i,ir);c=nt(c),i-=ir;for(var j=pe(x,c);++f<i;)c(f);return j}function jA(i){return ot(i)?d(i,Mr):Jn(i)?[i]:Nn(vm(It(i)))}function RA(i){var c=++UA;return It(i)+c}function OA(i){return i&&i.length?ns(i,Dn,Cc):C}function MA(i,c){return i&&i.length?ns(i,nt(c,2),Cc):C}function zA(i){return M(i,Dn)}function PA(i,c){return M(i,nt(c,2))}function NA(i){return i&&i.length?ns(i,Dn,Tc):C}function $A(i,c){return i&&i.length?ns(i,nt(c,2),Tc):C}function FA(i){return i&&i.length?q(i,Dn):0}function DA(i,c){return i&&i.length?q(i,nt(c,2)):0}ye=ye==null?xn:oi.defaults(xn.Object(),ye,oi.pick(xn,l1));var hn=ye.Array,_s=ye.Date,ru=ye.Error,rm=ye.Function,pi=ye.Math,Ut=ye.Object,au=ye.RegExp,LA=ye.String,dr=ye.TypeError,ws=hn.prototype,BA=rm.prototype,di=Ut.prototype,ks=ye["__core-js_shared__"],Cs=BA.toString,jt=di.hasOwnProperty,UA=0,am=function(){var i=/[^.]+$/.exec(ks&&ks.keys&&ks.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Ss=di.toString,ZA=Cs.call(Ut),HA=xn._,qA=au("^"+Cs.call(jt).replace(pc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Es=Of?ye.Buffer:C,pa=ye.Symbol,As=ye.Uint8Array,im=Es?Es.allocUnsafe:C,Ts=we(Ut.getPrototypeOf,Ut),om=Ut.create,sm=di.propertyIsEnumerable,Is=ws.splice,lm=pa?pa.isConcatSpreadable:C,ro=pa?pa.iterator:C,$a=pa?pa.toStringTag:C,js=function(){try{var i=Pa(Ut,"defineProperty");return i({},"",{}),i}catch{}}(),WA=ye.clearTimeout!==xn.clearTimeout&&ye.clearTimeout,VA=_s&&_s.now!==xn.Date.now&&_s.now,GA=ye.setTimeout!==xn.setTimeout&&ye.setTimeout,Rs=pi.ceil,Os=pi.floor,iu=Ut.getOwnPropertySymbols,JA=Es?Es.isBuffer:C,cm=ye.isFinite,KA=ws.join,YA=we(Ut.keys,Ut),mn=pi.max,kn=pi.min,XA=_s.now,QA=ye.parseInt,um=pi.random,eT=ws.reverse,ou=Pa(ye,"DataView"),ao=Pa(ye,"Map"),su=Pa(ye,"Promise"),fi=Pa(ye,"Set"),io=Pa(ye,"WeakMap"),oo=Pa(Ut,"create"),Ms=io&&new io,hi={},tT=Na(ou),nT=Na(ao),rT=Na(su),aT=Na(fi),iT=Na(io),zs=pa?pa.prototype:C,so=zs?zs.valueOf:C,pm=zs?zs.toString:C,mi=function(){function i(){}return function(c){if(!Yt(c))return{};if(om)return om(c);i.prototype=c;var f=new i;return i.prototype=C,f}}();A.templateSettings={escape:xk,evaluate:_k,interpolate:pf,variable:"",imports:{_:A}},A.prototype=Ue.prototype,A.prototype.constructor=A,tt.prototype=mi(Ue.prototype),tt.prototype.constructor=tt,He.prototype=mi(Ue.prototype),He.prototype.constructor=He,Ra.prototype.clear=k1,Ra.prototype.delete=C1,Ra.prototype.get=S1,Ra.prototype.has=E1,Ra.prototype.set=A1,Vr.prototype.clear=T1,Vr.prototype.delete=I1,Vr.prototype.get=j1,Vr.prototype.has=R1,Vr.prototype.set=O1,Gr.prototype.clear=M1,Gr.prototype.delete=z1,Gr.prototype.get=P1,Gr.prototype.has=N1,Gr.prototype.set=$1,Oa.prototype.add=Oa.prototype.push=F1,Oa.prototype.has=D1,Cr.prototype.clear=L1,Cr.prototype.delete=B1,Cr.prototype.get=U1,Cr.prototype.has=Z1,Cr.prototype.set=H1;var da=dh(Rr),dm=dh(kc,!0),lu=fh(),fm=fh(!0),hm=Ms?function(i,c){return Ms.set(i,c),i}:Dn,oT=js?function(i,c){return js(i,"toString",{configurable:!0,enumerable:!1,value:Yc(c),writable:!0})}:Dn,sT=ut,mm=WA||function(i){return xn.clearTimeout(i)},lT=fi&&1/ce(new fi([,-0]))[1]==qr?function(i){return new fi(i)}:eu,cu=Ms?function(i){return Ms.get(i)}:eu,uu=iu?function(i){return i==null?[]:(i=Ut(i),l(iu(i),function(c){return sm.call(i,c)}))}:tu,gm=iu?function(i){for(var c=[];i;)h(c,uu(i)),i=Ts(i);return c}:tu,Cn=Tn;(ou&&Cn(new ou(new ArrayBuffer(1)))!=ai||ao&&Cn(new ao)!=or||su&&Cn(su.resolve())!=lf||fi&&Cn(new fi)!=kr||io&&Cn(new io)!=Vi)&&(Cn=function(i){var c=Tn(i),f=c==Wr?i.constructor:C,x=f?Na(f):"";if(x)switch(x){case tT:return ai;case nT:return or;case rT:return lf;case aT:return kr;case iT:return Vi}return c});var cT=ks?Qr:nu,ym=Rh(hm),lo=GA||function(i,c){return xn.setTimeout(i,c)},pu=Rh(oT),vm=DC(function(i){var c=[];return i.charCodeAt(0)===46&&c.push(""),i.replace(Ck,function(f,x,j,F){c.push(j?F.replace(Ok,"$1"):x||f)}),c}),uT=ut(function(i,c){return sn(i)?Ki(i,_n(c,1,sn,!0)):[]}),pT=ut(function(i,c){var f=ur(c);return sn(f)&&(f=C),sn(i)?Ki(i,_n(c,1,sn,!0),nt(f,2)):[]}),dT=ut(function(i,c){var f=ur(c);return sn(f)&&(f=C),sn(i)?Ki(i,_n(c,1,sn,!0),C,f):[]}),fT=ut(function(i){var c=d(i,Pc);return c.length&&c[0]===i[0]?Sc(c):[]}),hT=ut(function(i){var c=ur(i),f=d(i,Pc);return c===ur(f)?c=C:f.pop(),f.length&&f[0]===i[0]?Sc(f,nt(c,2)):[]}),mT=ut(function(i){var c=ur(i),f=d(i,Pc);return c=typeof c=="function"?c:C,c&&f.pop(),f.length&&f[0]===i[0]?Sc(f,C,c):[]}),gT=ut($h),yT=Yr(function(i,c){var f=i==null?0:i.length,x=wc(i,c);return th(i,d(c,function(j){return Xr(j,f)?+j:j}).sort(ch)),x}),vT=ut(function(i){return la(_n(i,1,sn,!0))}),bT=ut(function(i){var c=ur(i);return sn(c)&&(c=C),la(_n(i,1,sn,!0),nt(c,2))}),xT=ut(function(i){var c=ur(i);return c=typeof c=="function"?c:C,la(_n(i,1,sn,!0),C,c)}),_T=ut(function(i,c){return sn(i)?Ki(i,c):[]}),wT=ut(function(i){return zc(l(i,sn))}),kT=ut(function(i){var c=ur(i);return sn(c)&&(c=C),zc(l(i,sn),nt(c,2))}),CT=ut(function(i){var c=ur(i);return c=typeof c=="function"?c:C,zc(l(i,sn),C,c)}),ST=ut(Vc),ET=ut(function(i){var c=i.length,f=c>1?i[c-1]:C;return f=typeof f=="function"?(i.pop(),f):C,Fh(i,f)}),AT=Yr(function(i){var c=i.length,f=c?i[0]:0,x=this.__wrapped__,j=function(F){return wc(F,i)};return!(c>1||this.__actions__.length)&&x instanceof He&&Xr(f)?(x=x.slice(f,+f+(c?1:0)),x.__actions__.push({func:ms,args:[j],thisArg:C}),new tt(x,this.__chain__).thru(function(F){return c&&!F.length&&F.push(C),F})):this.thru(j)}),TT=ss(function(i,c,f){jt.call(i,f)?++i[f]:Jr(i,f,1)}),IT=mh(Mh),jT=mh(zh),RT=ss(function(i,c,f){jt.call(i,f)?i[f].push(c):Jr(i,f,[c])}),OT=ut(function(i,c,f){var x=-1,j=typeof c=="function",F=$n(i)?hn(i.length):[];return da(i,function(H){F[++x]=j?n(c,H,f):Yi(H,c,f)}),F}),MT=ss(function(i,c,f){Jr(i,f,c)}),zT=ss(function(i,c,f){i[f?0:1].push(c)},function(){return[[],[]]}),PT=ut(function(i,c){if(i==null)return[];var f=c.length;return f>1&&In(i,c[0],c[1])?c=[]:f>2&&In(c[0],c[1],c[2])&&(c=[c[0]]),Qf(i,_n(c,1),[])}),Ps=VA||function(){return xn.Date.now()},du=ut(function(i,c,f){var x=_t;if(f.length){var j=Se(f,ci(du));x|=ft}return Kr(i,x,c,f,j)}),bm=ut(function(i,c,f){var x=_t|it;if(f.length){var j=Se(f,ci(bm));x|=ft}return Kr(c,x,i,f,j)}),NT=ut(function(i,c){return Zf(i,1,c)}),$T=ut(function(i,c,f){return Zf(i,pr(c)||0,f)});ys.Cache=Gr;var FT=sT(function(i,c){c=c.length==1&&ot(c[0])?d(c[0],w(nt())):d(_n(c,1),w(nt()));var f=c.length;return ut(function(x){for(var j=-1,F=kn(x.length,f);++j<F;)x[j]=c[j].call(this,x[j]);return n(i,this,x)})}),fu=ut(function(i,c){return Kr(i,ft,C,c,Se(c,ci(fu)))}),xm=ut(function(i,c){return Kr(i,wr,C,c,Se(c,ci(xm)))}),DT=Yr(function(i,c){return Kr(i,Zr,C,C,C,c)}),LT=ps(Cc),BT=ps(function(i,c){return i>=c}),Fa=Wf(function(){return arguments}())?Wf:function(i){return an(i)&&jt.call(i,"callee")&&!sm.call(i,"callee")},ot=hn.isArray,UT=Mf?w(Mf):nC,fa=JA||nu,ZT=zf?w(zf):rC,_m=Pf?w(Pf):iC,hu=Nf?w(Nf):oC,wm=$f?w($f):sC,gi=Ff?w(Ff):lC,HT=ps(Tc),qT=ps(function(i,c){return i<=c}),WT=si(function(i,c){if(to(c)||$n(c))return Or(c,vn(c),i),C;for(var f in c)jt.call(c,f)&&Ji(i,f,c[f])}),km=si(function(i,c){Or(c,Fn(c),i)}),Ns=si(function(i,c,f,x){Or(c,Fn(c),i,x)}),VT=si(function(i,c,f,x){Or(c,vn(c),i,x)}),GT=Yr(wc),JT=ut(function(i,c){i=Ut(i);var f=-1,x=c.length,j=x>2?c[2]:C;for(j&&In(c[0],c[1],j)&&(x=1);++f<x;)for(var F=c[f],H=Fn(F),ee=-1,oe=H.length;++ee<oe;){var ke=H[ee],be=i[ke];(be===C||Sr(be,di[ke])&&!jt.call(i,ke))&&(i[ke]=F[ke])}return i}),KT=ut(function(i){return i.push(C,wh),n(Cm,C,i)}),YT=yh(function(i,c,f){c!=null&&typeof c.toString!="function"&&(c=Ss.call(c)),i[c]=f},Yc(Dn)),XT=yh(function(i,c,f){c!=null&&typeof c.toString!="function"&&(c=Ss.call(c)),jt.call(i,c)?i[c].push(f):i[c]=[f]},nt),QT=ut(Yi),eI=si(function(i,c,f){as(i,c,f)}),Cm=si(function(i,c,f,x){as(i,c,f,x)}),tI=Yr(function(i,c){var f={};if(i==null)return f;var x=!1;c=d(c,function(F){return F=ca(F,i),x||(x=F.length>1),F}),Or(i,Bc(i),f),x&&(f=lr(f,xe|Pe|We,AC));for(var j=c.length;j--;)Mc(f,c[j]);return f}),nI=Yr(function(i,c){return i==null?{}:pC(i,c)}),Sm=xh(vn),Em=xh(Fn),rI=li(function(i,c,f){return c=c.toLowerCase(),i+(f?Qh(c):c)}),aI=li(function(i,c,f){return i+(f?"-":"")+c.toLowerCase()}),iI=li(function(i,c,f){return i+(f?" ":"")+c.toLowerCase()}),oI=hh("toLowerCase"),sI=li(function(i,c,f){return i+(f?"_":"")+c.toLowerCase()}),lI=li(function(i,c,f){return i+(f?" ":"")+mu(c)}),cI=li(function(i,c,f){return i+(f?" ":"")+c.toUpperCase()}),mu=hh("toUpperCase"),Am=ut(function(i,c){try{return n(i,C,c)}catch(f){return Gc(f)?f:new ru(f)}}),uI=Yr(function(i,c){return a(c,function(f){f=Mr(f),Jr(i,f,du(i[f],i))}),i}),pI=gh(),dI=gh(!0),fI=ut(function(i,c){return function(f){return Yi(f,i,c)}}),hI=ut(function(i,c){return function(f){return Yi(i,f,c)}}),mI=Fc(d),gI=Fc(s),yI=Fc(y),vI=vh(),bI=vh(!0),xI=cs(function(i,c){return i+c},0),_I=Dc("ceil"),wI=cs(function(i,c){return i/c},1),kI=Dc("floor"),CI=cs(function(i,c){return i*c},1),SI=Dc("round"),EI=cs(function(i,c){return i-c},0);return A.after=XS,A.ary=Uh,A.assign=WT,A.assignIn=km,A.assignInWith=Ns,A.assignWith=VT,A.at=GT,A.before=Zh,A.bind=du,A.bindAll=uI,A.bindKey=bm,A.castArray=oE,A.chain=Dh,A.chunk=qC,A.compact=WC,A.concat=VC,A.cond=vA,A.conforms=bA,A.constant=Yc,A.countBy=TT,A.create=IE,A.curry=Hh,A.curryRight=qh,A.debounce=Wh,A.defaults=JT,A.defaultsDeep=KT,A.defer=NT,A.delay=$T,A.difference=uT,A.differenceBy=pT,A.differenceWith=dT,A.drop=GC,A.dropRight=JC,A.dropRightWhile=KC,A.dropWhile=YC,A.fill=XC,A.filter=FS,A.flatMap=DS,A.flatMapDeep=LS,A.flatMapDepth=BS,A.flatten=Ph,A.flattenDeep=QC,A.flattenDepth=eS,A.flip=QS,A.flow=pI,A.flowRight=dI,A.fromPairs=tS,A.functions=NE,A.functionsIn=$E,A.groupBy=RT,A.initial=rS,A.intersection=fT,A.intersectionBy=hT,A.intersectionWith=mT,A.invert=YT,A.invertBy=XT,A.invokeMap=OT,A.iteratee=Xc,A.keyBy=MT,A.keys=vn,A.keysIn=Fn,A.map=gs,A.mapKeys=DE,A.mapValues=LE,A.matches=_A,A.matchesProperty=wA,A.memoize=ys,A.merge=eI,A.mergeWith=Cm,A.method=fI,A.methodOf=hI,A.mixin=Qc,A.negate=vs,A.nthArg=CA,A.omit=tI,A.omitBy=BE,A.once=eE,A.orderBy=ZS,A.over=mI,A.overArgs=FT,A.overEvery=gI,A.overSome=yI,A.partial=fu,A.partialRight=xm,A.partition=zT,A.pick=nI,A.pickBy=Xh,A.property=nm,A.propertyOf=SA,A.pull=gT,A.pullAll=$h,A.pullAllBy=sS,A.pullAllWith=lS,A.pullAt=yT,A.range=vI,A.rangeRight=bI,A.rearg=DT,A.reject=WS,A.remove=cS,A.rest=tE,A.reverse=Wc,A.sampleSize=GS,A.set=ZE,A.setWith=HE,A.shuffle=JS,A.slice=uS,A.sortBy=PT,A.sortedUniq=yS,A.sortedUniqBy=vS,A.split=lA,A.spread=nE,A.tail=bS,A.take=xS,A.takeRight=_S,A.takeRightWhile=wS,A.takeWhile=kS,A.tap=IS,A.throttle=rE,A.thru=ms,A.toArray=Jh,A.toPairs=Sm,A.toPairsIn=Em,A.toPath=jA,A.toPlainObject=Yh,A.transform=qE,A.unary=aE,A.union=vT,A.unionBy=bT,A.unionWith=xT,A.uniq=CS,A.uniqBy=SS,A.uniqWith=ES,A.unset=WE,A.unzip=Vc,A.unzipWith=Fh,A.update=VE,A.updateWith=GE,A.values=ui,A.valuesIn=JE,A.without=_T,A.words=tm,A.wrap=iE,A.xor=wT,A.xorBy=kT,A.xorWith=CT,A.zip=ST,A.zipObject=AS,A.zipObjectDeep=TS,A.zipWith=ET,A.entries=Sm,A.entriesIn=Em,A.extend=km,A.extendWith=Ns,Qc(A,A),A.add=xI,A.attempt=Am,A.camelCase=rI,A.capitalize=Qh,A.ceil=_I,A.clamp=KE,A.clone=sE,A.cloneDeep=cE,A.cloneDeepWith=uE,A.cloneWith=lE,A.conformsTo=pE,A.deburr=em,A.defaultTo=xA,A.divide=wI,A.endsWith=QE,A.eq=Sr,A.escape=eA,A.escapeRegExp=tA,A.every=$S,A.find=IT,A.findIndex=Mh,A.findKey=jE,A.findLast=jT,A.findLastIndex=zh,A.findLastKey=RE,A.floor=kI,A.forEach=Lh,A.forEachRight=Bh,A.forIn=OE,A.forInRight=ME,A.forOwn=zE,A.forOwnRight=PE,A.get=Jc,A.gt=LT,A.gte=BT,A.has=FE,A.hasIn=Kc,A.head=Nh,A.identity=Dn,A.includes=US,A.indexOf=nS,A.inRange=YE,A.invoke=QT,A.isArguments=Fa,A.isArray=ot,A.isArrayBuffer=UT,A.isArrayLike=$n,A.isArrayLikeObject=sn,A.isBoolean=dE,A.isBuffer=fa,A.isDate=ZT,A.isElement=fE,A.isEmpty=hE,A.isEqual=mE,A.isEqualWith=gE,A.isError=Gc,A.isFinite=yE,A.isFunction=Qr,A.isInteger=Vh,A.isLength=bs,A.isMap=_m,A.isMatch=vE,A.isMatchWith=bE,A.isNaN=xE,A.isNative=_E,A.isNil=kE,A.isNull=wE,A.isNumber=Gh,A.isObject=Yt,A.isObjectLike=an,A.isPlainObject=no,A.isRegExp=hu,A.isSafeInteger=CE,A.isSet=wm,A.isString=xs,A.isSymbol=Jn,A.isTypedArray=gi,A.isUndefined=SE,A.isWeakMap=EE,A.isWeakSet=AE,A.join=aS,A.kebabCase=aI,A.last=ur,A.lastIndexOf=iS,A.lowerCase=iI,A.lowerFirst=oI,A.lt=HT,A.lte=qT,A.max=OA,A.maxBy=MA,A.mean=zA,A.meanBy=PA,A.min=NA,A.minBy=$A,A.stubArray=tu,A.stubFalse=nu,A.stubObject=EA,A.stubString=AA,A.stubTrue=TA,A.multiply=CI,A.nth=oS,A.noConflict=kA,A.noop=eu,A.now=Ps,A.pad=nA,A.padEnd=rA,A.padStart=aA,A.parseInt=iA,A.random=XE,A.reduce=HS,A.reduceRight=qS,A.repeat=oA,A.replace=sA,A.result=UE,A.round=SI,A.runInContext=re,A.sample=VS,A.size=KS,A.snakeCase=sI,A.some=YS,A.sortedIndex=pS,A.sortedIndexBy=dS,A.sortedIndexOf=fS,A.sortedLastIndex=hS,A.sortedLastIndexBy=mS,A.sortedLastIndexOf=gS,A.startCase=lI,A.startsWith=cA,A.subtract=EI,A.sum=FA,A.sumBy=DA,A.template=uA,A.times=IA,A.toFinite=ea,A.toInteger=lt,A.toLength=Kh,A.toLower=pA,A.toNumber=pr,A.toSafeInteger=TE,A.toString=It,A.toUpper=dA,A.trim=fA,A.trimEnd=hA,A.trimStart=mA,A.truncate=gA,A.unescape=yA,A.uniqueId=RA,A.upperCase=cI,A.upperFirst=mu,A.each=Lh,A.eachRight=Bh,A.first=Nh,Qc(A,function(){var i={};return Rr(A,function(c,f){jt.call(A.prototype,f)||(i[f]=c)}),i}(),{chain:!1}),A.VERSION=ne,a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){A[i].placeholder=A}),a(["drop","take"],function(i,c){He.prototype[i]=function(f){f=f===C?1:mn(lt(f),0);var x=this.__filtered__&&!c?new He(this):this.clone();return x.__filtered__?x.__takeCount__=kn(f,x.__takeCount__):x.__views__.push({size:kn(f,ir),type:i+(x.__dir__<0?"Right":"")}),x},He.prototype[i+"Right"]=function(f){return this.reverse()[i](f).reverse()}}),a(["filter","map","takeWhile"],function(i,c){var f=c+1,x=f==Hi||f==Jo;He.prototype[i]=function(j){var F=this.clone();return F.__iteratees__.push({iteratee:nt(j,3),type:f}),F.__filtered__=F.__filtered__||x,F}}),a(["head","last"],function(i,c){var f="take"+(c?"Right":"");He.prototype[i]=function(){return this[f](1).value()[0]}}),a(["initial","tail"],function(i,c){var f="drop"+(c?"":"Right");He.prototype[i]=function(){return this.__filtered__?new He(this):this[f](1)}}),He.prototype.compact=function(){return this.filter(Dn)},He.prototype.find=function(i){return this.filter(i).head()},He.prototype.findLast=function(i){return this.reverse().find(i)},He.prototype.invokeMap=ut(function(i,c){return typeof i=="function"?new He(this):this.map(function(f){return Yi(f,i,c)})}),He.prototype.reject=function(i){return this.filter(vs(nt(i)))},He.prototype.slice=function(i,c){i=lt(i);var f=this;return f.__filtered__&&(i>0||c<0)?new He(f):(i<0?f=f.takeRight(-i):i&&(f=f.drop(i)),c!==C&&(c=lt(c),f=c<0?f.dropRight(-c):f.take(c-i)),f)},He.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},He.prototype.toArray=function(){return this.take(ir)},Rr(He.prototype,function(i,c){var f=/^(?:filter|find|map|reject)|While$/.test(c),x=/^(?:head|last)$/.test(c),j=A[x?"take"+(c=="last"?"Right":""):c],F=x||/^find/.test(c);j&&(A.prototype[c]=function(){var H=this.__wrapped__,ee=x?[1]:arguments,oe=H instanceof He,ke=ee[0],be=oe||ot(H),Ie=function(mt){var gt=j.apply(A,h([mt],ee));return x&&Le?gt[0]:gt};be&&f&&typeof ke=="function"&&ke.length!=1&&(oe=be=!1);var Le=this.__chain__,Ve=!!this.__actions__.length,Xe=F&&!Le,st=oe&&!Ve;if(!F&&be){H=st?H:new He(this);var Qe=i.apply(H,ee);return Qe.__actions__.push({func:ms,args:[Ie],thisArg:C}),new tt(Qe,Le)}return Xe&&st?i.apply(this,ee):(Qe=this.thru(Ie),Xe?x?Qe.value()[0]:Qe.value():Qe)})}),a(["pop","push","shift","sort","splice","unshift"],function(i){var c=ws[i],f=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",x=/^(?:pop|shift)$/.test(i);A.prototype[i]=function(){var j=arguments;if(x&&!this.__chain__){var F=this.value();return c.apply(ot(F)?F:[],j)}return this[f](function(H){return c.apply(ot(H)?H:[],j)})}}),Rr(He.prototype,function(i,c){var f=A[c];if(f){var x=f.name+"";jt.call(hi,x)||(hi[x]=[]),hi[x].push({name:c,func:f})}}),hi[ls(C,it).name]=[{name:"wrapper",func:C}],He.prototype.clone=Pn,He.prototype.reverse=xc,He.prototype.value=w1,A.prototype.at=AT,A.prototype.chain=jS,A.prototype.commit=RS,A.prototype.next=OS,A.prototype.plant=zS,A.prototype.reverse=PS,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=NS,A.prototype.first=A.prototype.head,ro&&(A.prototype[ro]=MS),A},oi=_1();ja?((ja.exports=oi)._=oi,vc._=oi):xn._=oi}).call(Qn)})(jl,jl.exports);var XY=jl.exports,lk={};(function(e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,n=e.aliasToReal,r={};for(var a in n){var o=n[a];t.call(r,o)?r[o].push(a):r[o]=[a]}return r}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})(lk);var QY={},gn=lk,eX=QY,Hv=Array.prototype.push;function tX(e,t){return t==2?function(n,r){return e.apply(void 0,arguments)}:function(n){return e.apply(void 0,arguments)}}function ip(e,t){return t==2?function(n,r){return e(n,r)}:function(n){return e(n)}}function qv(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function nX(e){return function(t){return e({},t)}}function rX(e,t){return function(){for(var n=arguments.length,r=n-1,a=Array(n);n--;)a[n]=arguments[n];var o=a[t],s=a.slice(0,t);return o&&Hv.apply(s,o),t!=r&&Hv.apply(s,a.slice(t+1)),e.apply(this,s)}}function op(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var a=r[0]=t.apply(void 0,r);return e.apply(void 0,r),a}}}function Xp(e,t,n,r){var a=typeof t=="function",o=t===Object(t);if(o&&(r=n,n=t,t=void 0),n==null)throw new TypeError;r||(r={});var s={cap:"cap"in r?r.cap:!0,curry:"curry"in r?r.curry:!0,fixed:"fixed"in r?r.fixed:!0,immutable:"immutable"in r?r.immutable:!0,rearg:"rearg"in r?r.rearg:!0},l=a?n:eX,u="curry"in r&&r.curry,p="fixed"in r&&r.fixed,d="rearg"in r&&r.rearg,h=a?n.runInContext():void 0,m=a?n:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},v=m.ary,y=m.assign,_=m.clone,b=m.curry,k=m.forEach,E=m.isArray,T=m.isError,I=m.isFunction,N=m.isWeakMap,M=m.keys,U=m.rearg,B=m.toInteger,J=m.toPath,Y=M(gn.aryMethod),q={castArray:function(Q){return function(){var W=arguments[0];return E(W)?Q(qv(W)):Q.apply(void 0,arguments)}},iteratee:function(Q){return function(){var W=arguments[0],we=arguments[1],Se=Q(W,we),ce=Se.length;return s.cap&&typeof we=="number"?(we=we>2?we-2:1,ce&&ce<=we?Se:ip(Se,we)):Se}},mixin:function(Q){return function(W){var we=this;if(!I(we))return Q(we,Object(W));var Se=[];return k(M(W),function(ce){I(W[ce])&&Se.push([ce,we.prototype[ce]])}),Q(we,Object(W)),k(Se,function(ce){var je=ce[1];I(je)?we.prototype[ce[0]]=je:delete we.prototype[ce[0]]}),we}},nthArg:function(Q){return function(W){var we=W<0?1:B(W)+1;return b(Q(W),we)}},rearg:function(Q){return function(W,we){var Se=we?we.length:0;return b(Q(W,we),Se)}},runInContext:function(Q){return function(W){return Xp(e,Q(W),r)}}};function pe(Q,W){if(s.cap){var we=gn.iterateeRearg[Q];if(we)return $(W,we);var Se=!a&&gn.iterateeAry[Q];if(Se)return fe(W,Se)}return W}function O(Q,W,we){return u||s.curry&&we>1?b(W,we):W}function K(Q,W,we){if(s.fixed&&(p||!gn.skipFixed[Q])){var Se=gn.methodSpread[Q],ce=Se&&Se.start;return ce===void 0?v(W,we):rX(W,ce)}return W}function w(Q,W,we){return s.rearg&&we>1&&(d||!gn.skipRearg[Q])?U(W,gn.methodRearg[Q]||gn.aryRearg[we]):W}function L(Q,W){W=J(W);for(var we=-1,Se=W.length,ce=Se-1,je=_(Object(Q)),me=je;me!=null&&++we<Se;){var Te=W[we],qe=me[Te];qe!=null&&!(I(qe)||T(qe)||N(qe))&&(me[Te]=_(we==ce?qe:Object(qe))),me=me[Te]}return je}function Ae(Q){return R.runInContext.convert(Q)(void 0)}function de(Q,W){var we=gn.aliasToReal[Q]||Q,Se=gn.remap[we]||we,ce=r;return function(je){var me=a?h:m,Te=a?h[Se]:W,qe=y(y({},ce),je);return Xp(me,we,Te,qe)}}function fe(Q,W){return Re(Q,function(we){return typeof we=="function"?ip(we,W):we})}function $(Q,W){return Re(Q,function(we){var Se=W.length;return tX(U(ip(we,Se),W),Se)})}function Re(Q,W){return function(){var we=arguments.length;if(!we)return Q();for(var Se=Array(we);we--;)Se[we]=arguments[we];var ce=s.rearg?0:we-1;return Se[ce]=W(Se[ce]),Q.apply(void 0,Se)}}function se(Q,W,we){var Se,ce=gn.aliasToReal[Q]||Q,je=W,me=q[ce];return me?je=me(W):s.immutable&&(gn.mutate.array[ce]?je=op(W,qv):gn.mutate.object[ce]?je=op(W,nX(W)):gn.mutate.set[ce]&&(je=op(W,L))),k(Y,function(Te){return k(gn.aryMethod[Te],function(qe){if(ce==qe){var Ye=gn.methodSpread[ce],S=Ye&&Ye.afterRearg;return Se=S?K(ce,w(ce,je,Te),Te):w(ce,K(ce,je,Te),Te),Se=pe(ce,Se),Se=O(ce,Se,Te),!1}}),!Se}),Se||(Se=je),Se==W&&(Se=u?b(Se,1):function(){return W.apply(this,arguments)}),Se.convert=de(ce,W),Se.placeholder=W.placeholder=we,Se}if(!o)return se(t,n,l);var R=n,Ne=[];return k(Y,function(Q){k(gn.aryMethod[Q],function(W){var we=R[gn.remap[W]||W];we&&Ne.push([W,se(W,we,R)])})}),k(M(R),function(Q){var W=R[Q];if(typeof W=="function"){for(var we=Ne.length;we--;)if(Ne[we][0]==Q)return;W.convert=de(Q,W),Ne.push([Q,W])}}),k(Ne,function(Q){R[Q[0]]=Q[1]}),R.convert=Ae,R.placeholder=R,k(M(R),function(Q){k(gn.realToAlias[Q]||[],function(W){R[W]=R[Q]})}),R}var aX=Xp,Wv=XY.runInContext(),kt=aX(Wv,Wv);const ck=/^[A-Za-z][_0-9A-Za-z]*$/,uk=e=>({name:"attributeNameAlreadyUsed",message:tn.unique.id,test(t){if(!t)return!1;const n=kt.snakeCase(t);return!e.some(r=>kt.snakeCase(r)===n)}}),Qp=e=>({name:"forbiddenAttributeName",message:ae("error.attributeName.reserved-name"),test(t){if(!t)return!1;const n=kt.snakeCase(t);return!e.some(r=>kt.snakeCase(r)===n)}}),ze={default:()=>Ft().nullable(),max:()=>mr().integer().nullable(),min:()=>mr().integer().when("max",(e,t)=>e?t.max(e,ae("error.validation.minSupMax")):t).nullable(),maxLength:()=>mr().integer().positive(ae("error.validation.positive")).nullable(),maxLengthString:()=>mr().integer().positive(ae("error.validation.positive")).max(255,"Maximum length for short text fields is 255 characters").nullable(),minLength:()=>mr().integer().min(1).when("maxLength",(e,t)=>e?t.max(e,ae("error.validation.minSupMax")):t).nullable(),name(e,t){return Ft().test(uk(e)).test(Qp(t)).matches(ck,tn.regex.id).required(tn.required.id)},required:()=>Ao(),type:()=>Ft().required(tn.required.id),unique:()=>Ao().nullable()},Vv=(e,t)=>({name:ze.name(e,t),type:ze.type(),default:ze.default(),unique:ze.unique(),required:ze.required(),maxLength:ze.maxLength(),minLength:ze.minLength(),regex:Ft().test({name:"isValidRegExpPattern",message:ae("error.validation.regex"),test(r){try{return new RegExp(r||"")!==null}catch{return!1}}}).nullable()}),iX=(e,t)=>({name:ze.name(e,t),type:ze.type(),default:ze.default(),unique:ze.unique(),required:ze.required(),maxLength:ze.maxLengthString(),minLength:ze.minLength(),regex:Ft().test({name:"isValidRegExpPattern",message:ae("error.validation.regex"),test(r){try{return new RegExp(r||"")!==null}catch{return!1}}}).nullable()}),sp=()=>({name:"isMinSuperiorThanMax",message:ae("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN(np(e))?!0:np(t)>=np(e)}}),Ks={date(e,t){const n={name:ze.name(e,t),type:ze.type()};return Jt(n)},datetime(e,t){const n={name:ze.name(e,t),type:ze.type()};return Jt(n)},time(e,t){const n={name:ze.name(e,t),type:ze.type()};return Jt(n)},default(e,t){const n={name:ze.name(e,t),type:ze.type()};return Jt(n)},biginteger(e,t){const n={name:ze.name(e,t),type:ze.type(),default:Ft().nullable().matches(/^-?\d*$/),unique:ze.unique(),required:ze.required(),max:Ft().nullable().matches(/^-?\d*$/,tn.regex.id),min:Ft().nullable().test(sp()).matches(/^-?\d*$/,tn.regex.id)};return Jt(n)},boolean(e,t){const n={name:ze.name(e,t),default:Ao().nullable(),required:ze.required(),unique:ze.unique()};return Jt(n)},component(e,t){const n={name:ze.name(e,t),type:ze.type(),required:ze.required(),max:ze.max(),min:ze.min(),component:Ft().required(tn.required.id)};return Jt(n)},decimal(e,t){const n={name:ze.name(e,t),type:ze.type(),default:mr(),required:ze.required(),max:mr(),min:mr().test(sp())};return Jt(n)},dynamiczone(e,t){const n={name:ze.name(e,t),type:ze.type(),required:ze.required(),max:ze.max(),min:ze.min()};return Jt(n)},email(e,t){const n={name:ze.name(e,t),type:ze.type(),default:Ft().email().nullable(),unique:ze.unique(),required:ze.required(),maxLength:ze.maxLength(),minLength:ze.minLength()};return Jt(n)},enumeration(e,t){const n=/^[_A-Za-z][_0-9A-Za-z]*$/,r={name:Ft().test(uk(e)).test(Qp(t)).matches(n,tn.regex.id).required(tn.required.id),type:ze.type(),default:ze.default(),unique:ze.unique(),required:ze.required(),enum:zm().of(Ft()).min(1,tn.min.id).test({name:"areEnumValuesUnique",message:ae("error.validation.enum-duplicate"),test(a){return a?!YY(a.map(ap).filter((s,l,u)=>u.indexOf(s)!==l)).length:!1}}).test({name:"doesNotHaveEmptyValues",message:ae("error.validation.enum-empty-string"),test:a=>a?!a.map(ap).some(o=>o===""):!1}).test({name:"doesMatchRegex",message:ae("error.validation.enum-regex"),test:a=>a?a.map(ap).every(o=>n.test(o)):!1}),enumName:Ft().nullable()};return Jt(r)},float(e,t){const n={name:ze.name(e,t),type:ze.type(),required:ze.required(),default:mr(),max:mr(),min:mr().test(sp())};return Jt(n)},integer(e,t){const n={name:ze.name(e,t),type:ze.type(),default:mr().integer(),unique:ze.unique(),required:ze.required(),max:ze.max(),min:ze.min()};return Jt(n)},json(e,t){const n={name:ze.name(e,t),type:ze.type(),required:ze.required(),unique:ze.unique()};return Jt(n)},media(e,t){const n={name:ze.name(e,t),type:ze.type(),multiple:Ao(),required:ze.required(),allowedTypes:zm().of(Ft().oneOf(["images","videos","files","audios"])).min(1).nullable()};return Jt(n)},password(e,t){const n={name:ze.name(e,t),type:ze.type(),default:ze.default(),unique:ze.unique(),required:ze.required(),maxLength:ze.maxLength(),minLength:ze.minLength()};return Jt(n)},relation(e,t,n,{initialData:r,modifiedData:a}){const o={name:ze.name(e,t),target:Ft().required(tn.required.id),relation:Ft().required(),type:Ft().required(),targetAttribute:UO(()=>{const s=fd(a.relation,a.targetAttribute);if(s==="oneWay"||s==="manyWay")return Ft().nullable();const l=Ft().test(Qp(t)),p=[...n.map(({name:d})=>d),a.name].filter(d=>d!==r.targetAttribute);return l.matches(ck,tn.regex.id).test({name:"forbiddenTargetAttributeName",message:ae("error.validation.relation.targetAttribute-taken"),test(d){return d?!p.includes(d):!1}}).required(tn.required.id)})};return Jt(o)},richtext(e,t){const n={name:ze.name(e,t),type:ze.type(),default:ze.default(),unique:ze.unique(),required:ze.required(),maxLength:ze.maxLength(),minLength:ze.minLength()};return Jt(n)},blocks(e,t){const n={name:ze.name(e,t),type:ze.type(),default:ze.default(),unique:ze.unique(),required:ze.required(),maxLength:ze.maxLength(),minLength:ze.minLength()};return Jt(n)},string(e,t){const n=iX(e,t);return Jt(n)},text(e,t){const n=Vv(e,t);return Jt(n)},uid(e,t){const n=Vv(e,t);return Jt(n)}},oX=/^[A-Za-z][-_0-9A-Za-z]*$/,sX=(e,t,n,r,a)=>{const o={displayName:Ft().test({name:"nameAlreadyUsed",message:tn.unique.id,test(s){if(!s)return!1;const l=go(s,n),u=kt.snakeCase(l),p=kt.snakeCase(a);return e.every(d=>kt.snakeCase(d)!==u)&&r.every(d=>kt.snakeCase(d)!==p)}}).test({name:"nameNotAllowed",message:ae("error.contentTypeName.reserved-name"),test(s){if(!s)return!1;const l=kt.snakeCase(s);return t.every(u=>kt.snakeCase(u)!==l)}}).required(tn.required.id),category:Ft().matches(oX,tn.regex.id).required(tn.required.id),icon:Ft()};return Jt(o)},Gv={name:"displayName",type:"text",intlLabel:{id:ae("contentType.displayName.label"),defaultMessage:"Display name"}},lp={advanced:{default(){return{sections:[{items:[{intlLabel:{id:ae("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:ae("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Gv,{description:{id:ae("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:ae("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:ae("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:ae("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Gv,{disabled:!0,description:{id:ae("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:ae("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:ae("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:ae("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:ae("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:ae("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:ae("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:ae("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},lX=({usedContentTypeNames:e=[],reservedModels:t=[],singularNames:n=[],pluralNames:r=[],collectionNames:a=[]})=>{const o={displayName:Ft().test({name:"nameAlreadyUsed",message:tn.unique.id,test(s){if(!s)return!1;const l=Bb(s),u=kt.snakeCase(l);return!e.some(p=>kt.snakeCase(p)===u)}}).test({name:"nameNotAllowed",message:ae("error.contentTypeName.reserved-name"),test(s){if(!s)return!1;const l=kt.snakeCase(s);return!t.some(u=>kt.snakeCase(u)===l)}}).required(tn.required.id),pluralName:Ft().test({name:"pluralNameAlreadyUsed",message:tn.unique.id,test(s){if(!s)return!1;const l=kt.snakeCase(s);return!r.some(u=>kt.snakeCase(u)===l)}}).test({name:"pluralNameAlreadyUsedAsSingular",message:ae("error.contentType.pluralName-equals-singularName"),test(s){if(!s)return!1;const l=kt.snakeCase(s);return!n.some(u=>kt.snakeCase(u)===l)}}).test({name:"pluralAndSingularAreUnique",message:ae("error.contentType.pluralName-used"),test(s,l){return s?kt.snakeCase(l.parent.singularName)!==kt.snakeCase(s):!1}}).test({name:"pluralNameNotAllowed",message:ae("error.contentTypeName.reserved-name"),test(s){if(!s)return!1;const l=kt.snakeCase(s);return!t.some(u=>kt.snakeCase(u)===l)}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:ae("error.contentType.pluralName-equals-collectionName"),test(s){if(!s)return!1;const l=kt.snakeCase(s);return!a.some(u=>kt.snakeCase(u)===l)}}).required(tn.required.id),singularName:Ft().test({name:"singularNameAlreadyUsed",message:tn.unique.id,test(s){if(!s)return!1;const l=kt.snakeCase(s);return!n.some(u=>kt.snakeCase(u)===l)}}).test({name:"singularNameAlreadyUsedAsPlural",message:ae("error.contentType.singularName-equals-pluralName"),test(s){if(!s)return!1;const l=kt.snakeCase(s);return!r.some(u=>kt.snakeCase(u)===l)}}).test({name:"pluralAndSingularAreUnique",message:ae("error.contentType.singularName-used"),test(s,l){return s?kt.snakeCase(l.parent.pluralName)!==kt.snakeCase(s):!1}}).test({name:"singularNameNotAllowed",message:ae("error.contentTypeName.reserved-name"),test(s){if(!s)return!1;const l=kt.snakeCase(s);return!t.some(u=>kt.snakeCase(u)===l)}}).required(tn.required.id),draftAndPublish:Ao(),kind:Ft().oneOf(["singleType","collectionType"])};return Jt(o)},cp={advanced:{default(){return{sections:$i.advanced()}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Yp]},...$i.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Yp]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:ae("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Jv=(e,t)=>{e.forEach(n=>{if(!("sectionTitle"in n)){t[0].items?.push(n);return}t.push(n)})},cX=(e,t)=>`components_${kt.snakeCase(t)}_${Ri(kt.snakeCase(e))}`,Kv=(e,t)=>e.filter(({name:n})=>n!==t.initialData.name).map(({name:n})=>n),La={customField:{schema({schemaAttributes:e,attributeType:t,customFieldValidator:n,reservedNames:r,schemaData:a,ctbFormsAPI:o}){const s=Kv(e,a);let l;return t==="relation"?l=Ks[t](s,r.attributes,[],{initialData:{},modifiedData:{}}):l=Ks[t](s,r.attributes),o.makeCustomFieldValidator(l,n,s,r.attributes,a)},form:{base({customField:e}){const t=[{sectionTitle:null,items:[Fr]}];return e.options?.base&&Jv(e.options.base,t),{sections:t}},advanced({customField:e,data:t,step:n,extensions:r,...a}){const o=[{sectionTitle:null,items:[]},{sectionTitle:{id:"form.attribute.condition.section",defaultMessage:"Conditions"},items:[{name:"conditions",type:"condition-form",intlLabel:{id:"form.attribute.condition.label",defaultMessage:"Visibility condition"},description:{id:"form.attribute.condition.desc",defaultMessage:"Show this field only when a boolean/enum condition matches."}}]}],s=r.getAdvancedForm(["attribute",e.type],{data:t,type:e.type,step:n,...a});if(e.options?.advanced&&Jv(e.options.advanced,o),s){const l={sectionTitle:{id:ae("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:s};o.push(l)}return{sections:o}}}},attribute:{schema(e,t,n,r,a,o){const s=e?.attributes??[],l=Kv(s,a);try{const u=Ks[t](l,n.attributes,r,a);return o.makeValidator(["attribute",t],u,l,n.attributes,r,a)}catch(u){return console.error("Error yup build schema",u),Ks.default(l,n.attributes)}},form:{advanced({data:e,type:t,step:n,extensions:r,...a}){try{const o=Zv.advanced[t](e,n).sections,s=r.getAdvancedForm(["attribute",t],{data:e,type:t,step:n,...a});let l=!1;return{sections:o.reduce((p,d)=>(d.sectionTitle===null||l?p.push(d):(p.push({...d,items:[...d.items,...s]}),l=!0),p),[])}}catch(o){return console.error(o),{sections:[]}}},base({data:e,type:t,step:n,attributes:r}){try{return Zv.base[t](e,n,r)}catch{return fY}}}},contentType:{schema(e,t,n,r,a,o){const s=Object.values(o).map(y=>y.info.singularName),l=Object.values(o).map(y=>y?.info?.pluralName??""),u=t?e.filter(y=>y!==n):e,p=t?s.filter(y=>{const{info:_}=o[n];return _.singularName!==y}):s,d=t?l.filter(y=>{const{info:_}=o[n];return _.pluralName!==y}):l,h=Object.values(o).map(y=>y?.collectionName??""),m=t?h.filter(y=>{const{collectionName:_}=o[n];return y!==_}):h,v=lX({usedContentTypeNames:u,reservedModels:r.models,singularNames:p,pluralNames:d,collectionNames:m});return a.makeValidator(["contentType"],v,u,r.models,p,d)},form:{base({actionType:e}){return e==="create"?lp.base.create():lp.base.edit()},advanced({extensions:e}){const t=lp.advanced.default().sections.map(r=>r.items).flat(),n=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...t,...n]}]}}}},component:{schema(e,t,n,r=!1,a,o,s=null){const l=r?e.filter(h=>h!==s):e,u=Object.values(a).map(h=>h?.collectionName),p=cX(o,t),d=r?u.filter(h=>h!==p):u;return sX(l,n.models,t,d,p)},form:{advanced(){return{sections:$i.advanced()}},base(){return{sections:$i.base()}}}},addComponentToDynamicZone:{form:{advanced(){return cp.advanced.default()},base({data:e}){return e?.createComponent??!1?cp.base.createComponent():cp.base.default()}}}},uX=(e,t)=>{const n=e.kind;return n==="singleType"||n===t.kind?!0:(e?.attributes??[]).filter(o=>{if(o.type!=="relation")return!1;const{relation:s,targetAttribute:l}=o,u=fd(s,l);return!["oneWay","manyWay"].includes(u||"")}).length===0},pX=(e="",t,n)=>{const r=["text","boolean","blocks","json","number","email","date","password","media","enumeration","relation","richtext"],a=e==="contentType";if(a)return[[...r.slice(0,-1),"uid",...r.slice(-1)],["component","dynamiczone"]];if(e){const s=sk(t,n)>=Db;if(!a&&!s)return[r,["component"]]}return[r]},Yv=e=>e.reduce((t,n)=>{const r=n.items.reduce((a,o)=>(o.name&&a.push(o.name),a),[]);return[...t,...r]},[]),dX=xt.form`
  overflow: auto;
`,fX=e=>e["content-type-builder_formModal"]||ZO,hX=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:n,onNavigateToCreateComponentStep2:r,actionType:a,attributeName:o,attributeType:s,customFieldUid:l,dynamicZoneTarget:u,forTarget:p,modalType:d,isOpen:h,kind:m,step:v,targetUid:y,showBackLink:_,activeTab:b,setActiveTab:k}=Zi(),E=Eo("FormModal",et=>et.getPlugin),I=Eo("FormModal",et=>et.customFields.get)(l),N=Pl(),{toggleNotification:M}=Fi(),U=Cb(fX,HO),B=qO(),{trackUsage:J}=Di(),{formatMessage:Y}=yt(),pe=E(ba)?.apis.forms,O=pe.components.inputs,K=Ka("FormModal",et=>et.dispatch),{addAttribute:w,editAttribute:L,addCustomFieldAttribute:Ae,addCreatedComponentToDynamicZone:de,changeDynamicZoneComponents:fe,contentTypes:$,components:Re,createSchema:se,createComponentSchema:R,deleteComponent:Ne,deleteContentType:Q,editCustomFieldAttribute:W,updateSchema:we,nestedComponents:Se,sortedContentTypesList:ce,updateComponentSchema:je,updateComponentUid:me,reservedNames:Te}=ar(),{componentToCreate:qe,formErrors:Ye,initialData:S,isCreatingComponentWhileAddingAField:he,modifiedData:G}=U,D=p==="component"?Re[y]:$[y],[C,ne]=V.useState(!1),[_e,Ce]=V.useState(null),ie=()=>{if(a!=="edit"||d!=="attribute")return!1;const et=S.name,Ct=S.enum,rn=G.enum,Vt=(D?.attributes||[]).filter(Gt=>{if(!Gt.conditions)return!1;const bn=Gt.conditions.visible;if(!bn)return!1;const[[,ni]]=Object.entries(bn),[ri,Ko]=ni;return ri.var!==et?!1:Ct&&rn?Ct.filter(Ia=>!rn.includes(Ia)).includes(Ko):!0});return Vt.length>0?Vt:!1};V.useEffect(()=>{if(h){const et=ce.filter(Kw);a==="edit"&&d==="attribute"&&p==="contentType"&&J("willEditFieldOfContentType");const Ct=Wp(Qt(D,"schema.attributes",[]),u)||null;if(d==="contentType"&&a==="create"&&N(ln.setDataToEdit({data:{draftAndPublish:!0}})),d==="contentType"&&a==="edit"&&N(ln.setDataToEdit({data:{displayName:D.info.displayName,draftAndPublish:D.options?.draftAndPublish,kind:"kind"in D&&D.kind,pluginOptions:D.pluginOptions,pluralName:"pluralName"in D.info&&D.info.pluralName,singularName:"singularName"in D.info&&D.info.singularName}})),d==="component"&&a==="edit"&&N(ln.setDataToEdit({data:{displayName:D.info.displayName,category:"category"in D&&D.category,icon:D.info.icon}})),d==="addComponentToDynamicZone"&&a==="edit"){const rn={...Ct,components:[],name:u,createComponent:!1,componentToCreate:{type:"component"}};N(ln.setDynamicZoneDataSchema({attributeToEdit:rn}))}if(s){const ht={...Wp(Qt(D,["attributes"],[]),o),name:o};s==="component"&&a==="edit"&&(!("repeatable"in ht)||!ht.repeatable)&&WO(ht,"repeatable",!1),N(d==="customField"?a==="edit"?ln.setCustomFieldDataSchema({isEditing:!0,modifiedDataToSetForEditing:ht,uid:D.uid}):ln.setCustomFieldDataSchema({customField:JG(I,["type","options"]),isEditing:!1,modifiedDataToSetForEditing:ht,uid:D.uid}):ln.setAttributeDataSchema({attributeType:s,nameToSetForRelation:Qt(et,["0","title"],"error"),targetUid:Qt(et,["0","uid"],"error"),isEditing:a==="edit",modifiedDataToSetForEditing:ht,step:v,uid:D.uid}))}}else N(ln.resetProps())},[a,o,s,u,p,h,d]);const le=d==="contentType",ve=d==="component",Z=d==="attribute",X=d==="customField",xe=s==="component"&&Z,Pe=a==="create",We=Qt(G,"createComponent",!1)||he,dt=v==="1",Tt=d==="chooseAttribute",_t=Bb(G.singularName||""),it=Qt(D,["attributes"],null),fn=async()=>{let et;const Ct=We&&v==="1"?Qt(G,"componentToCreate",{}):G;if(le)et=La.contentType.schema(Object.keys($),a==="edit",D?.uid??null,Te,pe,$);else if(ve)et=La.component.schema(Object.keys(Re),G.category||"",Te,a==="edit",Re,G.displayName||"",D?.uid??null);else if(X)et=La.customField.schema({schemaAttributes:Qt(D,["attributes"],[]),attributeType:I.type,reservedNames:Te,schemaData:{modifiedData:G,initialData:S},ctbFormsAPI:pe,customFieldValidator:I.options?.validator});else if(xe&&We&&dt)et=La.component.schema(Object.keys(Re),Qt(G,"componentToCreate.category",""),Te,a==="edit",Re,G.componentToCreate.displayName||"");else if(Z&&!dt){const rn=s==="relation"?"relation":G.type;let ht=[];if(rn==="relation"){const Vt=Qt(G,["target"],null);ht=Qt($,[Vt,"attributes"],[]).filter(({name:bn})=>a!=="edit"?!0:bn!==S.targetAttribute)}et=La.attribute.schema(D,rn,Te,ht,{modifiedData:G,initialData:S},pe)}else if(dt&&We)et=La.component.schema(Object.keys(Re),Qt(G,"componentToCreate.category",""),Te,a==="edit",Re,G.componentToCreate.displayName||"");else return;await et.validate(Ct,{abortEarly:!1})},wt=V.useCallback(({target:{name:et,value:Ct,type:rn,...ht}})=>{const Vt=["enumName","max","min","maxLength","minLength","regex","default"];let Gt;Vt.includes(et)&&Ct===""?Gt=null:et==="enum"?Gt=Array.isArray(Ct)?Ct:[Ct]:Gt=Ct;const bn=Object.assign({},Ye);et==="max"&&delete bn.min,et==="maxLength"&&delete bn.minLength,delete bn[et],N(ln.setErrors({errors:bn})),N(ln.onChange({keys:et.split("."),value:Gt}))},[N,Ye]),Ot=async(et,Ct=Pe)=>{try{await fn(),N(ln.setErrors({errors:{}})),oa(Ct);const rn=y;if(le)if(Pe)se({data:{kind:m,displayName:G.displayName,draftAndPublish:G.draftAndPublish,pluginOptions:G.pluginOptions,singularName:G.singularName,pluralName:G.pluralName},uid:_t}),B({pathname:`/plugins/${ba}/content-types/${_t}`}),e();else{const ht=D;uX(ht,G)?(e(),await we({uid:ht.uid,data:{displayName:G.displayName,kind:G.kind,draftAndPublish:G.draftAndPublish,pluginOptions:G.pluginOptions}})):M({type:"danger",message:Y({id:"notification.contentType.relations.conflict"})});return}else if(d==="component")if(Pe){const ht=go(G.displayName,G.category),{category:Vt,...Gt}=G;R({data:{displayName:Gt.displayName,icon:Gt.icon},uid:ht,componentCategory:Vt}),B({pathname:`/plugins/${ba}/component-categories/${Vt}/${ht}`}),e();return}else{if(je({data:{icon:G.icon,displayName:G.displayName},componentUID:y}),D.status==="NEW"){const ht=go(G.displayName,G.category);me({componentUID:y,newComponentUID:ht}),B({pathname:`/plugins/${ba}/component-categories/${G.category}/${ht}`})}e();return}else if(X){const ht={attributeToSet:{...G,customField:l},forTarget:p,targetUid:y,name:S.name};a==="edit"?W(ht):Ae(ht),Ct?t({forTarget:p,targetUid:rn}):e();return}else if(Z&&!We){if(s==="dynamiczone"){a==="create"?w({attributeToSet:G,forTarget:p,targetUid:y}):L({attributeToSet:G,forTarget:p,targetUid:y,name:S.name}),Pe?(N(ln.resetPropsAndSetTheFormForAddingACompoToADz()),k("basic"),n({dynamicZoneTarget:G.name})):e();return}if(!xe){a==="create"?w({attributeToSet:G,forTarget:p,targetUid:y}):L({attributeToSet:G,forTarget:p,targetUid:y,name:S.name}),Ct?t({forTarget:p,targetUid:rn}):e();return}if(dt){r(),N(ln.resetPropsAndSetFormForAddingAnExistingCompo({uid:D.uid}));return}if(a==="create")w({attributeToSet:G,forTarget:p,targetUid:y});else{const Vt={...G};(!("conditions"in G)||G.conditions===void 0)&&(Vt.conditions=void 0),L({attributeToSet:Vt,forTarget:p,targetUid:y,name:S.name})}Ct?t({forTarget:p,targetUid:y}):e()}else if(Z&&We){if(dt){J("willCreateComponentFromAttributesModal"),N(ln.resetPropsAndSaveCurrentData({uid:D.uid})),r();return}const{category:ht,...Vt}=qe,Gt=go(qe.displayName,ht);R({data:{icon:Vt.icon,displayName:Vt.displayName},uid:Gt,componentCategory:ht}),w({attributeToSet:G,forTarget:p,targetUid:y}),N(ln.resetProps()),Ct?t({forTarget:"component",targetUid:Gt}):e();return}else{if(dt)if(We){const{category:ht,type:Vt,...Gt}=G.componentToCreate,bn=go(G.componentToCreate.displayName,ht);R({data:Gt,uid:bn,componentCategory:ht}),de({forTarget:p,targetUid:y,dynamicZoneTarget:u,componentsToAdd:[bn]}),t({forTarget:"component",targetUid:bn})}else fe({forTarget:p,targetUid:y,dynamicZoneTarget:u,newComponents:G.components}),e();else console.error("This case is not handled");return}N(ln.resetProps())}catch(rn){if(VO.isError(rn)){const ht=YG(rn);N(ln.setErrors({errors:ht}))}}},ft=async(et,Ct=Pe)=>{if(et.preventDefault(),ie()){Ce({e:et,shouldContinue:Ct}),ne(!0);return}await Ot(et,Ct)},wr=()=>{window.confirm(Y({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),N(ln.resetProps()))},zn=()=>{No(G,S)?(e(),N(ln.resetProps())):wr()},Zr=et=>{if(et==="advanced"){if(le){J("didSelectContentTypeSettings");return}p==="contentType"&&J("didSelectContentTypeFieldSettings")}},oa=et=>{d==="attribute"&&p==="contentType"&&s!=="dynamiczone"&&et&&J("willAddMoreFieldToContentType")},Hr=()=>!!(d==="component"||PG(G,"createComponent")),sa=pX(p,y,Se);if(!d)return null;const Vo=Qt(La,[d,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Xl=p==="component",Hi={customInputs:{"allowed-types-select":QG,"boolean-radio-group":fJ,"checkbox-with-number-field":hJ,"icon-picker":kJ,"content-type-radio-group":mJ,"radio-group":sf,relation:XK,"select-category":QK,"select-component":eY,"select-components":tY,"select-default-boolean":pJ,"select-number":rY,"select-date":nY,"toggle-draft-publish":gJ,"text-plural":CJ,"text-singular":aY,"textarea-enum":sY,"condition-form":dY,...O},componentToCreate:qe,dynamicZoneTarget:u,formErrors:Ye,isAddingAComponentToAnotherComponent:Xl,isCreatingComponentWhileAddingAField:he,mainBoxHeader:Qt(D,["info","displayName"],""),modifiedData:G,naturePickerType:p,isCreating:Pe,targetUid:y,forTarget:p,contentTypeSchema:D},Go=Vo.advanced({data:G,type:s,step:v,actionType:a,attributes:it,extensions:pe,forTarget:p,contentTypeSchema:D||{},customField:I}).sections,Jo=Vo.base({data:G,type:s,step:v,actionType:a,attributes:it,extensions:pe,forTarget:p,contentTypeSchema:D||{},customField:I}).sections,qr=Yv(Jo),jr=Yv(Go),Ql=Object.keys(Ye).some(et=>qr.includes(et)),ti=Object.keys(Ye).some(et=>jr.includes(et)),ir=Qt($,[y,"kind"]),ec=()=>a==="edit"&&it.every(({name:et})=>et!==G?.name),tc=()=>{ec()&&J("didEditFieldNameOnContentType"),K({type:"set_completed_actions",payload:[il.contentTypeBuilder.addField]})};return g.jsx(yn.Root,{open:h,onOpenChange:zn,children:g.jsxs(yn.Content,{children:[g.jsxs(Ya.Root,{open:C,onOpenChange:ne,children:[g.jsx(Ya.Trigger,{}),g.jsx(Do,{onConfirm:()=>{if(_e){const{e:et,shouldContinue:Ct}=_e;ne(!1),Ce(null),Ot(et,Ct)}},onCancel:()=>{ne(!1),Ce(null)},children:(()=>{const et=ie();if(!et)return null;const Ct=et.map(ht=>ht.name).join(", ");if(S.enum&&G.enum){const ht=S.enum,Vt=G.enum,Gt=ht.filter(bn=>!Vt.includes(bn));return g.jsx(De,{children:g.jsxs(Fe,{children:[Y({id:"form.attribute.condition.enum-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),g.jsx(Fe,{fontWeight:"bold",children:Ct}),Y({id:"form.attribute.condition.enum-change-warning-values",defaultMessage:". Changing or removing the enum values "}),g.jsx(Fe,{fontWeight:"bold",children:Gt.join(", ")}),Y({id:"form.attribute.condition.enum-change-warning-end",defaultMessage:" will break these conditions. Do you want to proceed?"})]})})}return g.jsx(De,{children:g.jsxs(Fe,{children:[Y({id:"form.attribute.condition.field-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),g.jsx(Fe,{fontWeight:"bold",children:Ct}),Y({id:"form.attribute.condition.field-change-warning-end",defaultMessage:". Renaming it will break these conditions. Do you want to proceed?"})]})})})()})]}),g.jsx(vJ,{actionType:a,attributeName:o,contentTypeKind:m,dynamicZoneTarget:u,modalType:d,forTarget:p,targetUid:y,attributeType:s,customFieldUid:l,showBackLink:_}),Tt&&g.jsx(uJ,{attributes:sa,forTarget:p,kind:ir||"collectionType"}),!Tt&&g.jsxs(dX,{onSubmit:ft,children:[g.jsx(yn.Body,{children:g.jsxs(gr.Root,{variant:"simple",value:b,onValueChange:et=>{k(et),Zr(et)},hasError:Ql?"basic":ti?"advanced":void 0,children:[g.jsxs(Oe,{justifyContent:"space-between",children:[g.jsx(xJ,{actionType:a,forTarget:p,kind:m,step:v,modalType:d,attributeType:s,attributeName:o,customField:I}),g.jsxs(gr.List,{children:[g.jsx(gr.Trigger,{value:"basic",children:Y({id:ae("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})}),g.jsx(gr.Trigger,{value:"advanced",disabled:Hr(),children:Y({id:ae("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})})]})]}),g.jsx(zl,{marginBottom:6}),g.jsx(gr.Content,{value:"basic",children:g.jsx(Oe,{direction:"column",alignItems:"stretch",gap:6,children:g.jsx(Uv,{form:Jo,formErrors:Ye,genericInputProps:Hi,modifiedData:G,onChange:wt})})}),g.jsx(gr.Content,{value:"advanced",children:g.jsx(Oe,{direction:"column",alignItems:"stretch",gap:6,children:g.jsx(Uv,{form:Go,formErrors:Ye,genericInputProps:Hi,modifiedData:G,onChange:wt})})})]})}),g.jsxs(yn.Footer,{children:[g.jsx(vt,{type:"button",variant:"tertiary",onClick:et=>{et.preventDefault(),zn()},children:Y({id:"app.components.Button.cancel",defaultMessage:"Cancel"})}),g.jsx(yJ,{deleteContentType:()=>Q(y),deleteComponent:()=>Ne(y),isAttributeModal:d==="attribute",isCustomFieldModal:d==="customField",isComponentToDzModal:d==="addComponentToDynamicZone",isComponentAttribute:s==="component",isComponentModal:d==="component",isContentTypeModal:d==="contentType",isCreatingComponent:a==="create",isCreatingDz:a==="create",isCreatingComponentAttribute:G.createComponent||!1,isCreatingComponentInDz:G.createComponent||!1,isCreatingComponentWhileAddingAField:he,isCreatingContentType:a==="create",isEditingAttribute:a==="edit",isDzAttribute:s==="dynamiczone",isInFirstComponentStep:v==="1",onSubmitAddComponentAttribute:ft,onSubmitAddComponentToDz:ft,onSubmitCreateComponent:ft,onSubmitCreateContentType:ft,onSubmitCreateDz:ft,onSubmitEditAttribute:ft,onSubmitEditComponent:ft,onSubmitEditContentType:ft,onSubmitEditCustomFieldAttribute:ft,onSubmitEditDz:ft,onClickFinish:tc})]})]})]})})},Xv={actionType:null,attributeName:null,attributeType:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!0,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null,activeTab:"basic"},mX=({children:e})=>{const[t,n]=V.useState(Xv),{trackUsage:r}=Qv(),{sessionId:a}=hd(),o=V.useCallback((I,N)=>{const M={...N,ctbSessionId:a};return r(I,M)},[r,a]),s=V.useCallback(({attributeType:I,customFieldUid:N})=>{n(M=>({...M,actionType:"create",modalType:"customField",attributeType:I,customFieldUid:N,activeTab:"basic"}))},[]),l=V.useCallback(({attributeType:I,step:N})=>{t.forTarget==="contentType"&&o("didSelectContentTypeFieldType",{type:I}),n(M=>({...M,actionType:"create",modalType:"attribute",step:N,attributeType:I,showBackLink:!0,activeTab:"basic"}))},[t.forTarget,o]),u=V.useCallback(({dynamicZoneTarget:I,targetUid:N})=>{n(M=>({...M,dynamicZoneTarget:I,targetUid:N,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},[]),p=V.useCallback(({forTarget:I,targetUid:N})=>{n(M=>({...M,actionType:"create",forTarget:I,targetUid:N,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1,activeTab:"basic"}))},[]),d=V.useCallback(I=>{n(N=>({...N,...I,isOpen:!0,activeTab:"basic"}))},[]),h=V.useCallback(({forTarget:I,targetUid:N,attributeName:M,attributeType:U,customFieldUid:B})=>{n(J=>({...J,modalType:"customField",customFieldUid:B,actionType:"edit",forTarget:I,targetUid:N,attributeName:M,attributeType:U,isOpen:!0,activeTab:"basic"}))},[]),m=V.useCallback(({forTarget:I,targetUid:N,attributeName:M,attributeType:U,step:B})=>{n(J=>({...J,modalType:"attribute",actionType:"edit",forTarget:I,targetUid:N,attributeName:M,attributeType:U,step:B,isOpen:!0}))},[]),v=V.useCallback(({modalType:I,forTarget:N,targetUid:M,kind:U})=>{n(B=>({...B,modalType:I,actionType:"edit",forTarget:N,targetUid:M,kind:U,isOpen:!0,activeTab:"basic"}))},[]),y=V.useCallback(()=>{n(Xv)},[]),_=V.useCallback(({forTarget:I,targetUid:N})=>{n(M=>({...M,forTarget:I,targetUid:N,modalType:"chooseAttribute",activeTab:"basic"}))},[]),b=V.useCallback(()=>{n(I=>({...I,attributeType:"component",modalType:"attribute",step:"2",activeTab:"basic"}))},[]),k=V.useCallback(({dynamicZoneTarget:I})=>{n(N=>({...N,dynamicZoneTarget:I,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null,activeTab:"basic"}))},[]),E=V.useCallback(I=>{n(N=>({...N,activeTab:I}))},[]),T=V.useMemo(()=>({...t,onClickSelectField:l,onClickSelectCustomField:s,onCloseModal:y,onNavigateToChooseAttributeModal:_,onNavigateToAddCompoToDZModal:k,onOpenModalAddComponentsToDZ:u,onNavigateToCreateComponentStep2:b,onOpenModalAddField:p,onOpenModalCreateSchema:d,onOpenModalEditField:m,onOpenModalEditCustomField:h,onOpenModalEditSchema:v,setFormModalNavigationState:n,setActiveTab:E}),[t,l,s,y,_,k,u,b,p,d,m,h,v,E]);return g.jsx(Uw.Provider,{value:T,children:e})},gX=xt(Oe)`
  @container (max-width: 200px) {
    .hide-on-small {
      display: none;
    }
  }
  container-type: inline-size;
`,yX=()=>{const{formatMessage:e}=yt(),t=e({id:ae("table.content.create-first-content-type.title"),defaultMessage:"No content types"}),{isChatEnabled:n,openChat:r}=_r(),{openCodeUpload:a}=ef(),{openFigmaUpload:o}=nf();return g.jsxs(gX,{justifyContent:"center",height:"100%",width:"400px",maxWidth:"90%",margin:"auto",direction:"column",gap:6,children:[g.jsx(Eb,{width:"160px",height:"88px"}),g.jsx(id.contentTypeBuilder.Introduction,{children:g.jsx(De,{})}),g.jsxs(Oe,{gap:2,alignItems:"center",direction:"column",children:[g.jsx(Fe,{variant:"beta",textAlign:"center",children:t}),g.jsx(Fe,{variant:"omega",textAlign:"center",textColor:"neutral600",children:e({id:ae("table.content.create-first-content-type.description"),defaultMessage:"Create collection types, single types and components in order to build your schema."})})]}),n&&g.jsxs(Oe,{gap:2,direction:"column",className:"hide-on-small",children:[g.jsx(vt,{startIcon:g.jsx(lx,{}),variant:"tertiary",onClick:()=>o(!0),children:e({id:ae("table.content.create-first-content-type.import-figma"),defaultMessage:"Import from Figma"})}),g.jsx(vt,{startIcon:g.jsx(od,{}),variant:"tertiary",onClick:()=>a(!0),children:e({id:ae("table.content.create-first-content-type.import-code"),defaultMessage:"Import from computer"})}),g.jsx(vt,{startIcon:g.jsx(Ml,{}),variant:"tertiary",onClick:r,children:e({id:ae("table.content.create-first-content-type.start-with-prompt"),defaultMessage:"Start with a prompt"})})]})]})},up=V.lazy(()=>XO(()=>import("./ListView-BSutEMYb.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),vX=()=>{const{formatMessage:e}=yt(),t=e({id:`${ba}.plugin.name`,defaultMessage:"Content Types Builder"}),n=ia("DataManagerProvider",s=>s.autoReload),r=ob(),a=Ka("ContentTypeBuilderApp",s=>s.state),o=Ka("ContentTypeBuilderApp",s=>s.dispatch);return V.useEffect(()=>{YZ()},[]),V.useEffect(()=>{const s=r?"ContentTypeBuilderAI":"ContentTypeBuilderNoAI";a.tours.contentTypeBuilder.tourType!==s&&o({type:"set_tour_type",payload:{tourName:"contentTypeBuilder",tourType:s}})},[r,a.tours.contentTypeBuilder.tourType,o]),g.jsxs(vu.Protect,{permissions:GO.main,children:[g.jsx(vu.Title,{children:t}),g.jsx(JO,{children:g.jsx(VW,{children:g.jsx(mX,{children:g.jsxs(SG,{children:[g.jsx(EG,{}),g.jsx(_q,{children:g.jsxs(g.Fragment,{children:[n&&g.jsx(hX,{}),g.jsx(KO.Root,{sideNav:g.jsx(WW,{}),children:g.jsx(V.Suspense,{fallback:g.jsx(vu.Loading,{}),children:g.jsxs(YO,{children:[g.jsx(Ls,{path:"content-types/create-content-type",element:g.jsx(yX,{})}),g.jsx(Ls,{path:"content-types/:contentTypeUid",element:g.jsx(up,{})}),g.jsx(Ls,{path:"component-categories/:categoryUid/:componentUid",element:g.jsx(up,{})}),g.jsx(Ls,{path:"*",element:g.jsx(up,{})})]})})}),g.jsx(rW,{})]})})]})})})})]})},jX=Object.freeze(Object.defineProperty({__proto__:null,default:vX},Symbol.toStringTag,{value:"Module"}));export{$o as A,Xw as C,TX as S,Zi as a,Ja as b,IX as c,Di as d,ae as g,jX as i,ar as u};

import{j as e,q as b,aN as _,Q as y,a as L,r as c,a3 as R,aR as A,aS as U,aT as M,aU as T,T as i,aV as S,Z as d,I as C,H as o,aW as I,aX as P,aY as k,z as N,aZ as B}from"./strapi-D0ivxu6x.js";import{P as D}from"./PrivateRoute-Cgg1X5yT.js";var E={ADMIN_PATH:"/admin",STRAPI_ADMIN_BACKEND_URL:"/",STRAPI_TELEMETRY_DISABLED:"false",STRAPI_AI_URL:"https://strapi-ai.apps.strapi.io",STRAPI_ANALYTICS_URL:"https://analytics.strapi.io"};const O=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],w=()=>{const{toggleNotification:u}=b(),h=_(),p=y(),{formatMessage:t}=L(),[n,g]=c.useState(null),[l,f]=c.useState(""),{firstname:m,email:x}=R("UseCasePage",s=>s.user)??{},{hasAdmin:j}=A.parse(h.search,{ignoreQueryPrefix:!0}),v=n==="other",r=async(s,a)=>{s.preventDefault();try{await fetch(`${E.STRAPI_ANALYTICS_URL||"https://analytics.strapi.io"}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x,username:m,firstAdmin:!j,persona:{role:a?void 0:n,otherRole:a?void 0:l}})}),u({type:"success",message:t({id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"})}),p("/")}catch{}};return e.jsx(U,{children:e.jsxs(M,{labelledBy:"usecase-title",children:[e.jsx(T,{children:e.jsxs("form",{onSubmit:s=>r(s,!1),children:[e.jsxs(i,{direction:"column",paddingBottom:7,children:[e.jsx(S,{}),e.jsx(d,{paddingTop:6,paddingBottom:1,width:"25rem",children:e.jsx(C,{textAlign:"center",variant:"alpha",tag:"h1",id:"usecase-title",children:t({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})})})]}),e.jsxs(i,{direction:"column",alignItems:"stretch",gap:6,children:[e.jsxs(o.Root,{name:"usecase",children:[e.jsx(o.Label,{children:t({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"})}),e.jsx(I,{onChange:s=>g(s),value:n,children:O.map(({intlLabel:s,value:a})=>e.jsx(P,{value:a,children:t(s)},a))})]}),v&&e.jsxs(o.Root,{name:"other",children:[e.jsx(o.Label,{children:t({id:"Usecase.other",defaultMessage:"Other"})}),e.jsx(k,{type:"text",value:l,onChange:s=>f(s.target.value)})]}),e.jsx(N,{type:"submit",size:"L",fullWidth:!0,disabled:!n,children:t({id:"global.finish",defaultMessage:"Finish"})})]})]})}),e.jsx(i,{justifyContent:"center",children:e.jsx(d,{paddingTop:4,children:e.jsx(B,{onClick:s=>r(s,!0),children:t({id:"Usecase.button.skip",defaultMessage:"Skip this question"})})})})]})})},H=()=>e.jsx(D,{children:e.jsx(w,{})});export{H as PrivateUseCasePage,w as UseCasePage,O as options};

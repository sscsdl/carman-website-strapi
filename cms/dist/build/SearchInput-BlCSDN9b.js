import{r as a,u as v,a as C,b as R,j as t,d as q,c as T,o as y,e as I}from"./strapi-D0ivxu6x.js";const L=({disabled:d,label:g,placeholder:h,trackedEvent:u,trackedEventDetails:p})=>{const r=a.useRef(null),m=a.useRef(null),[{query:b},n]=v(),[s,o]=a.useState(b?._q||""),[l,c]=a.useState(!!s),{formatMessage:i}=C(),{trackUsage:x}=R(),f=()=>c(e=>!e);a.useLayoutEffect(()=>{l&&r.current&&r.current.focus()},[l]);const S=()=>{o(""),n({_q:""},"remove")},j=e=>{e.preventDefault(),s?(u&&x(u,p),n({_q:encodeURIComponent(s),page:1})):(f(),n({_q:""},"remove"))};return l?t.jsx(q,{onSubmit:j,children:t.jsx(T,{ref:r,name:"search",onChange:e=>o(e.target.value),value:s,clearLabel:i({id:"clearLabel",defaultMessage:"Clear"}),onClear:S,placeholder:h,onBlur:e=>{!e.currentTarget.contains(e.relatedTarget)&&e.currentTarget.value===""&&c(!1)},children:g})}):t.jsx(y,{ref:m,disabled:d,label:i({id:"global.search",defaultMessage:"Search"}),onClick:f,children:t.jsx(I,{})})};export{L as S};
